/*! For license information please see fuel.js.LICENSE.txt */
(() => {
  var e = {
      154: (e) => {
        function t() {
          return (
            (e.exports = t =
              Object.assign ||
              function (e) {
                for (var t = 1; t < arguments.length; t++) {
                  var i = arguments[t];
                  for (var n in i)
                    Object.prototype.hasOwnProperty.call(i, n) && (e[n] = i[n]);
                }
                return e;
              }),
            (e.exports.__esModule = !0),
            (e.exports.default = e.exports),
            t.apply(this, arguments)
          );
        }
        (e.exports = t),
          (e.exports.__esModule = !0),
          (e.exports.default = e.exports);
      },
      316: (e, t, i) => {
        'use strict';
        var n = i(908),
          r = i(154),
          s = i(376);
        function a(e, t, i) {
          var n = e;
          return (
            s(t)
              ? ((i = t), 'string' == typeof e && (n = { uri: e }))
              : (n = r({}, t, { uri: e })),
            (n.callback = i),
            n
          );
        }
        function o(e, t, i) {
          return l((t = a(e, t, i)));
        }
        function l(e) {
          if (void 0 === e.callback)
            throw new Error('callback argument missing');
          var t = !1,
            i = function (i, n, r) {
              t || ((t = !0), e.callback(i, n, r));
            };
          function n() {
            var e = void 0;
            if (
              ((e = u.response
                ? u.response
                : u.responseText ||
                  (function (e) {
                    try {
                      if ('document' === e.responseType) return e.responseXML;
                      var t =
                        e.responseXML &&
                        'parsererror' ===
                          e.responseXML.documentElement.nodeName;
                      if ('' === e.responseType && !t) return e.responseXML;
                    } catch (e) {}
                    return null;
                  })(u)),
              g)
            )
              try {
                e = JSON.parse(e);
              } catch (e) {}
            return e;
          }
          function r(e) {
            return (
              clearTimeout(d),
              e instanceof Error ||
                (e = new Error('' + (e || 'Unknown XMLHttpRequest Error'))),
              (e.statusCode = 0),
              i(e, v)
            );
          }
          function s() {
            if (!l) {
              var t;
              clearTimeout(d),
                (t =
                  e.useXDR && void 0 === u.status
                    ? 200
                    : 1223 === u.status
                      ? 204
                      : u.status);
              var r = v,
                s = null;
              return (
                0 !== t
                  ? ((r = {
                      body: n(),
                      statusCode: t,
                      method: h,
                      headers: {},
                      url: c,
                      rawRequest: u,
                    }),
                    u.getAllResponseHeaders &&
                      (r.headers = (function (e) {
                        var t = {};
                        return e
                          ? (e
                              .trim()
                              .split('\n')
                              .forEach(function (e) {
                                var i = e.indexOf(':'),
                                  n = e.slice(0, i).trim().toLowerCase(),
                                  r = e.slice(i + 1).trim();
                                void 0 === t[n]
                                  ? (t[n] = r)
                                  : Array.isArray(t[n])
                                    ? t[n].push(r)
                                    : (t[n] = [t[n], r]);
                              }),
                            t)
                          : t;
                      })(u.getAllResponseHeaders())))
                  : (s = new Error('Internal XMLHttpRequest Error')),
                i(s, r, r.body)
              );
            }
          }
          var a,
            l,
            u = e.xhr || null;
          u ||
            (u =
              e.cors || e.useXDR
                ? new o.XDomainRequest()
                : new o.XMLHttpRequest());
          var d,
            c = (u.url = e.uri || e.url),
            h = (u.method = e.method || 'GET'),
            p = e.body || e.data,
            f = (u.headers = e.headers || {}),
            m = !!e.sync,
            g = !1,
            v = {
              body: void 0,
              headers: {},
              statusCode: 0,
              method: h,
              url: c,
              rawRequest: u,
            };
          if (
            ('json' in e &&
              !1 !== e.json &&
              ((g = !0),
              f.accept || f.Accept || (f.Accept = 'application/json'),
              'GET' !== h &&
                'HEAD' !== h &&
                (f['content-type'] ||
                  f['Content-Type'] ||
                  (f['Content-Type'] = 'application/json'),
                (p = JSON.stringify(!0 === e.json ? p : e.json)))),
            (u.onreadystatechange = function () {
              4 === u.readyState && setTimeout(s, 0);
            }),
            (u.onload = s),
            (u.onerror = r),
            (u.onprogress = function () {}),
            (u.onabort = function () {
              l = !0;
            }),
            (u.ontimeout = r),
            u.open(h, c, !m, e.username, e.password),
            m || (u.withCredentials = !!e.withCredentials),
            !m &&
              e.timeout > 0 &&
              (d = setTimeout(function () {
                if (!l) {
                  (l = !0), u.abort('timeout');
                  var e = new Error('XMLHttpRequest timeout');
                  (e.code = 'ETIMEDOUT'), r(e);
                }
              }, e.timeout)),
            u.setRequestHeader)
          )
            for (a in f) f.hasOwnProperty(a) && u.setRequestHeader(a, f[a]);
          else if (
            e.headers &&
            !(function (e) {
              for (var t in e) if (e.hasOwnProperty(t)) return !1;
              return !0;
            })(e.headers)
          )
            throw new Error(
              'Headers cannot be set on an XDomainRequest object',
            );
          return (
            'responseType' in e && (u.responseType = e.responseType),
            'beforeSend' in e &&
              'function' == typeof e.beforeSend &&
              e.beforeSend(u),
            u.send(p || null),
            u
          );
        }
        (e.exports = o),
          (e.exports.default = o),
          (o.XMLHttpRequest = n.XMLHttpRequest || function () {}),
          (o.XDomainRequest =
            'withCredentials' in new o.XMLHttpRequest()
              ? o.XMLHttpRequest
              : n.XDomainRequest),
          (function (e, t) {
            for (var i = 0; i < e.length; i++) t(e[i]);
          })(['get', 'put', 'post', 'patch', 'head', 'delete'], function (e) {
            o['delete' === e ? 'del' : e] = function (t, i, n) {
              return ((i = a(t, i, n)).method = e.toUpperCase()), l(i);
            };
          });
      },
      985: (e, t, i) => {
        'use strict';
        i.d(t, { Z: () => s });
        var n = i(645),
          r = i.n(n)()(function (e) {
            return e[1];
          });
        const s = r;
      },
      726: (e, t, i) => {
        'use strict';
        i.d(t, { Z: () => s });
        var n = i(645),
          r = i.n(n)()(function (e) {
            return e[1];
          });
        r.push([
          e.id,
          '/**\n * Copyright 2014 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the "License");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an "AS IS" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n.ima-ad-container {\n  top: 0em;\n  position: absolute;\n  display: none;\n  width: 100%;\n  height: 100%;\n}\n\n/* Move overlay if user fast-clicks play button. */\n.video-js.vjs-playing .bumpable-ima-ad-container {\n  margin-top: -4em;\n}\n\n/* Move overlay when controls are active. */\n.video-js.vjs-user-inactive.vjs-playing .bumpable-ima-ad-container {\n  margin-top: 0em;\n}\n\n.video-js.vjs-paused .bumpable-ima-ad-container,\n.video-js.vjs-playing:hover .bumpable-ima-ad-container,\n.video-js.vjs-user-active.vjs-playing .bumpable-ima-ad-container {\n  margin-top: -4em;\n}\n\n.ima-controls-div {\n  bottom: 0em;\n  height: 1.4em;\n  position: absolute;\n  overflow: hidden;\n  display: none;\n  opacity: 1;\n  background-color: rgba(7, 20, 30, .7);\n  background: -moz-linear-gradient(\n      bottom,\n      rgba(7, 20, 30, .7) 0%,\n      rgba(7, 20, 30, 0) 100%); /* FF3.6+ */\n  background: -webkit-gradient(\n      linear,\n      left bottom,\n      left top,\n      color-stop(0%,rgba(7, 20, 30, .7)),\n      color-stop(100%,rgba(7, 20, 30, 0))); /* Chrome,Safari4+ */\n  background: -webkit-linear-gradient(\n      bottom,\n      rgba(7, 20, 30, .7) 0%,\n      rgba(7, 20, 30, 0) 100%); /* Chrome10+,Safari5.1+ */\n  background: -o-linear-gradient(bottom,\n    rgba(7, 20, 30, .7) 0%,\n    rgba(7, 20, 30, 0) 100%); /* Opera 11.10+ */\n  background: -ms-linear-gradient(bottom,\n    rgba(7, 20, 30, .7) 0%,\n    rgba(7, 20, 30, 0) 100%); /* IE10+ */\n  background: linear-gradient(to top,\n    rgba(7, 20, 30, .7) 0%,\n    rgba(7, 20, 30, 0) 100%); /* W3C */\n  filter: progid:DXImageTransform.Microsoft.gradient(\n    startColorstr=\'#0007141E\',\n    endColorstr=\'#07141E\',GradientType=0 ); /* IE6-9 */\n}\n\n.ima-controls-div.ima-controls-div-showing {\n  height: 3.7em;\n}\n\n.ima-countdown-div {\n  height: 1em;\n  color: #FFFFFF;\n  text-shadow: 0 0 0.2em #000;\n  cursor: default;\n}\n\n.ima-seek-bar-div {\n  top: 1.2em;\n  height: 0.3em;\n  position: absolute;\n  background: rgba(255, 255, 255, .4);\n}\n\n.ima-progress-div {\n  width: 0em;\n  height: 0.3em;\n  background-color: #ECC546;\n}\n\n.ima-play-pause-div, .ima-mute-div, .ima-slider-div, .ima-fullscreen-div {\n  width: 2.33em;\n  height: 1.33em;\n  top: 0.733em;\n  left: 0em;\n  position: absolute;\n  color: #CCCCCC;\n  font-size: 1.5em;\n  line-height: 2;\n  text-align: center;\n  font-family: VideoJS;\n  cursor: pointer;\n}\n\n.ima-mute-div {\n  left: auto;\n  right: 5.667em;\n}\n\n.ima-slider-div {\n  left: auto;\n  right: 2.33em;\n  width: 3.33em;\n  height: 0.667em;\n  top: 1.33em;\n  background-color: #555555;\n}\n\n.ima-slider-level-div {\n  width: 100%;\n  height: 0.667em;\n  background-color: #ECC546;\n}\n\n.ima-fullscreen-div {\n  left: auto;\n  right: 0em;\n}\n\n.ima-playing:before {\n  content: "\\00f103";\n}\n\n.ima-paused:before {\n  content: "\\00f101";\n}\n\n.ima-playing:hover:before, .ima-paused:hover:before {\n  text-shadow: 0 0 1em #fff;\n}\n\n.ima-non-muted:before {\n  content: "\\00f107";\n}\n\n.ima-muted:before {\n  content: "\\00f104";\n}\n\n.ima-non-muted:hover:before, .ima-muted:hover:before {\n  text-shadow: 0 0 1em #fff;\n}\n\n.ima-non-fullscreen:before {\n  content: "\\00f108";\n}\n\n.ima-fullscreen:before {\n  content: "\\00f109";\n}\n\n.ima-non-fullscreen:hover:before, .ima-fullscreen:hover:before {\n  text-shadow: 0 0 1em #fff;\n}\n',
          '',
        ]);
        const s = r;
      },
      674: (e, t, i) => {
        'use strict';
        i.d(t, { Z: () => d });
        var n = i(645),
          r = i.n(n),
          s = i(667),
          a = i.n(s),
          o = i(345),
          l = r()(function (e) {
            return e[1];
          }),
          u = a()(o);
        // l.push([
        //   e.id,
        //   "@font-face {\n  font-family: 'fa5';\n  font-style: normal;\n  font-weight: 900;\n  font-display: block;\n  src: url(" +
        //     u +
        //     ")\n    format('woff2');\n}\n\n.video-js .vjs-control.bc-fuel-s-c {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  width: auto;\n  height: auto;\n  background: transparent;\n  bottom: 30px;\n  font-size: 13px;\n  text-align: left;\n  padding: 20px;\n  cursor: default;\n}\n\n.video-js .vjs-control.bc-fuel-s-c.bc-fuel-s-cc {\n  cursor: pointer;\n}\n\n.video-js.bc-fuel-debug .vjs-control.bc-fuel-s-c {\n  background: rgba(40, 10, 40, 0.8);\n  overflow-wrap: anywhere;\n}\n\n.video-js .bc-fuel-m-c {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  width: auto;\n  height: auto;\n  font-size: 13px;\n  text-align: left;\n  padding: 20px;\n  cursor: default;\n  background: rgba(40, 10, 40, 0.4);\n  overflow-wrap: anywhere;\n  display: block;\n  z-index: 0;\n  visibility: hidden;\n  opacity: 0;\n  transition: visibility 0.5s, opacity 0.5s;\n}\n\n.video-js .vjs-control-bar {\n  z-index: 1;\n}\n\n.video-js .bc-fuel-m-c.active {\n  display: block;\n  visibility: visible;\n  opacity: 1;\n  transition: none;\n}\n\n.video-js .bc-fuel-m-c .vjs-control {\n  width: 100%;\n}\n\n.video-js .bc-fuel-m-c .vjs-control .vjs-icon-placeholder {\n  top: 42%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  position: relative;\n}\n\n.video-js .bc-fuel-m-c .vjs-icon-placeholder:before {\n  font-family: 'fa5';\n  content: '\\f04c';\n  font-size: 40px;\n}\n.video-js.vjs-paused .bc-fuel-m-c .vjs-icon-placeholder:before {\n  content: '\\f04b';\n}\n\n.vjs-control {\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -khtml-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  -webkit-tap-highlight-color: transparent;\n}\n\n.vjs-tech:focus {\n  outline: none;\n}\n\n.vjs-control:focus,\n.vjs-menu-button:focus,\n.vjs-menu-item:focus {\n  outline: none;\n}\n\n.video-js .vjs-slider:focus {\n  text-shadow: none;\n  box-shadow: none;\n  outline: none;\n}\n\n.video-js .vjs-big-play-button {\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  font-size: 4.5em;\n  line-height: 1.65em;\n  border: none;\n}\n\n.vjs-big-play-button > .vjs-icon-placeholder {\n  font-size: 1em;\n}\n\n.video-js .vjs-control-bar {\n  height: 75px;\n  flex-wrap: wrap;\n  padding-top: 38px;\n  background: linear-gradient(\n    rgba(24, 24, 24, 0),\n    rgba(24, 24, 24, 0.1),\n    rgba(24, 24, 24, 0.3),\n    rgba(24, 24, 24, 0.4),\n    rgba(24, 24, 24, 0.6)\n  );\n}\n\n.video-js .vjs-progress-control {\n  order: -1;\n  width: 100%;\n  flex: 0 0 100%;\n  height: 5px;\n}\n\n.video-js .vjs-volume-panel {\n  margin-right: auto;\n}\n\n.video-js .vjs-play-progress {\n  background-color: rgb(255, 255, 255);\n}\n\n.video-js .vjs-volume-level {\n  background-color: rgb(255, 255, 255);\n}\n\n.video-js .vjs-time-control {\n  display: block;\n  text-align: center;\n  padding: 0 0.5em;\n}\n.video-js .vjs-remaining-time {\n  display: none;\n}\n\n.vjs-current-time-display,\n.vjs-duration-display {\n  font-size: 12px;\n}\n\n.video-js .vjs-load-progress div {\n  background-color: rgb(155, 155, 155);\n}\n\n.video-js .vjs-slider {\n  background-color: rgba(127, 127, 127, 0.5);\n}\n\n.vjs-button > .vjs-icon-placeholder:before {\n  font-size: 16px;\n  line-height: 30px;\n}\n.video-js .vjs-big-play-button .vjs-icon-placeholder:before {\n  font-family: 'fa5';\n  content: '\\f04b';\n}\n\n.video-js .vjs-play-control .vjs-playing .vjs-icon-placeholder:before {\n  font-family: 'fa5';\n  content: '\\f04b';\n}\n\n.video-js .vjs-play-control .vjs-icon-placeholder:before {\n  font-family: 'fa5';\n  content: '\\f04b';\n  font-size: 14px;\n}\n\n.video-js .vjs-play-control.vjs-playing .vjs-icon-placeholder:before {\n  font-family: 'fa5';\n  content: '\\f04c';\n}\n\n.video-js .vjs-mute-control.vjs-vol-0 .vjs-icon-placeholder:before {\n  font-family: 'fa5';\n  content: '\\f6a9';\n}\n\n.video-js .vjs-mute-control.vjs-vol-1 .vjs-icon-placeholder:before {\n  font-family: 'fa5';\n  content: '\\f026';\n}\n\n.video-js .vjs-mute-control.vjs-vol-2 .vjs-icon-placeholder:before {\n  font-family: 'fa5';\n  content: '\\f027';\n}\n\n.video-js .vjs-mute-control.vjs-vol-3 .vjs-icon-placeholder:before {\n  font-family: 'fa5';\n  content: '\\f028';\n}\n\n.video-js\n  .vjs-subs-caps-button\n  + .vjs-menu\n  .vjs-captions-menu-item\n  .vjs-menu-item-text\n  .vjs-icon-placeholder {\n  margin-bottom: 0.125em;\n}\n\n.video-js .vjs-subs-caps-button .vjs-icon-placeholder:before {\n  font-family: 'fa5';\n  content: '\\f20a';\n  font-size: 1.9em;\n}\n\n.video-js\n  .vjs-subs-caps-button\n  + .vjs-menu\n  .vjs-captions-menu-item\n  .vjs-menu-item-text\n  .vjs-icon-placeholder:before {\n  font-family: 'fa5';\n  content: '\\f20a';\n  font-size: 1.3em;\n}\n\n.video-js\n  .vjs-audio-button\n  + .vjs-menu\n  .vjs-main-desc-menu-item\n  .vjs-menu-item-text\n  .vjs-icon-placeholder:before {\n  content: ' \\f11d';\n}\n\n.video-js .vjs-fullscreen-control .vjs-icon-placeholder:before {\n  font-family: 'fa5';\n  content: '\\f065';\n}\n\n.video-js.vjs-fullscreen .vjs-fullscreen-control .vjs-icon-placeholder:before {\n  font-family: 'fa5';\n  content: '\\f066';\n}\n\n/* Prevent CC settings menu item from displaying */\n.vjs-texttrack-settings {\n  display: none;\n}\n\n.vjs-error .vjs-error-display:before {\n  display: none;\n}\n\n.vjs-error .vjs-error-display .vjs-modal-dialog-content {\n  font-size: 1.4em;\n  background: linear-gradient(rgb(117, 117, 117), rgb(24, 24, 24));\n}\n\n.vjs-error .vjs-error-display .vjs-modal-dialog-content > * {\n  border: solid 10px;\n}\n\n.vjs-modal-dialog-content {\n  font-size: 1.6em;\n  background: linear-gradient(rgb(117, 117, 117), rgb(24, 24, 24));\n}\n\n.vjs-modal-dialog-content:before {\n  position: absolute;\n  z-index: 2;\n  vertical-align: middle;\n  margin-top: -0.5em;\n  top: 50%;\n  left: 0;\n  width: 100%;\n  font-family: 'fa5';\n  font-size: 3em;\n  content: '\\f071';\n  text-align: center;\n}\n\nfuel-video {\n  background: linear-gradient(rgb(117, 117, 117), rgb(24, 24, 24));\n}\n\n.video-js .close-floating-button {\n  position: absolute;\n  top: 0;\n  right: 0;\n  background: rgba(0,0,0,0.1);\n  width: 28px;\n  height: 28px;\n}\n\n.video-js .close-floating-button :before {\n  font-family: 'fa5';\n  content: '\\f00d';\n}\n\n.video-js .vjs-picture-in-picture-control {\n  display: none;\n}\n\n.bc-fuel-floating {\n  display: inline-block;\n  background: transparent;\n}\n\n.bc-fuel-floating .video-js {\n  position: fixed;\n  z-index: 2147483638;\n}\n\n.bc-fuel-floating .video-js:hover .vjs-text-track-display {\n  background: rgba(1, 1, 1, 0.1);\n}\n\n.video-js .vjs-subs-caps-button .vjs-icon-placeholder:before,\n.video-js .vjs-subtitles-button .vjs-icon-placeholder:before,\n.video-js .vjs-captions-button .vjs-icon-placeholder:before,\n.video-js:lang(en) .vjs-subs-caps-button .vjs-icon-placeholder:before,\n.video-js:lang(fr-CA) .vjs-subs-caps-button .vjs-icon-placeholder:before,\n.video-js.video-js:lang(en) .vjs-subs-caps-button .vjs-icon-placeholder:before,\n.video-js.video-js:lang(en-AU) .vjs-subs-caps-button .vjs-icon-placeholder:before,\n.video-js.video-js:lang(en-CA) .vjs-subs-caps-button .vjs-icon-placeholder:before,\n.video-js.video-js:lang(en-IN) .vjs-subs-caps-button .vjs-icon-placeholder:before,\n.video-js.video-js:lang(en-ZA) .vjs-subs-caps-button .vjs-icon-placeholder:before,\n.video-js.video-js:lang(en-GB) .vjs-subs-caps-button .vjs-icon-placeholder:before,\n.video-js.video-js:lang(en-IE) .vjs-subs-caps-button .vjs-icon-placeholder:before,\n.video-js.video-js:lang(en-NZ) .vjs-subs-caps-button .vjs-icon-placeholder:before,\n.vjs-icon-captions:before, .vjs-icon-subtitles:before {\n  font-family: 'fa5';\n  content: '\\f20a';\n}\n\n.video-js .vjs-picture-in-picture-control {\n  display: none;\n}\n\n.video-js .vjs-menu .vjs-selected:focus:not(:focus-visible) {\n  background: #fff;\n}\n\n/* styles applied only to mobile devices with touch screen */\n@media only screen and (hover: none) and (pointer: coarse) {\n  .video-js .vjs-progress-control:after {\n    content: '';\n    position: absolute;\n    top: -30px;\n    bottom: 0px;\n    left: 0px;\n    right: 0px;\n  }\n}\n\n.bc-fuel-a-l {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  background: #000;\n  top: 300px;\n}",
        //   '',
        // ]);
        const d = l;
      },
      645: (e) => {
        'use strict';
        e.exports = function (e) {
          var t = [];
          return (
            (t.toString = function () {
              return this.map(function (t) {
                var i = e(t);
                return t[2] ? '@media '.concat(t[2], ' {').concat(i, '}') : i;
              }).join('');
            }),
            (t.i = function (e, i, n) {
              'string' == typeof e && (e = [[null, e, '']]);
              var r = {};
              if (n)
                for (var s = 0; s < this.length; s++) {
                  var a = this[s][0];
                  null != a && (r[a] = !0);
                }
              for (var o = 0; o < e.length; o++) {
                var l = [].concat(e[o]);
                (n && r[l[0]]) ||
                  (i &&
                    (l[2]
                      ? (l[2] = ''.concat(i, ' and ').concat(l[2]))
                      : (l[2] = i)),
                  t.push(l));
              }
            }),
            t
          );
        };
      },
      667: (e) => {
        'use strict';
        e.exports = function (e, t) {
          return (
            t || (t = {}),
            'string' != typeof (e = e && e.__esModule ? e.default : e)
              ? e
              : (/^['"].*['"]$/.test(e) && (e = e.slice(1, -1)),
                t.hash && (e += t.hash),
                /["'() \t\n]/.test(e) || t.needQuotes
                  ? '"'.concat(
                      e.replace(/"/g, '\\"').replace(/\n/g, '\\n'),
                      '"',
                    )
                  : e)
          );
        };
      },
      144: (e, t, i) => {
        var n,
          r = void 0 !== i.g ? i.g : 'undefined' != typeof window ? window : {},
          s = i(893);
        'undefined' != typeof document
          ? (n = document)
          : (n = r['__GLOBAL_DOCUMENT_CACHE@4']) ||
            (n = r['__GLOBAL_DOCUMENT_CACHE@4'] = s),
          (e.exports = n);
      },
      908: (e, t, i) => {
        var n;
        (n =
          'undefined' != typeof window
            ? window
            : void 0 !== i.g
              ? i.g
              : 'undefined' != typeof self
                ? self
                : {}),
          (e.exports = n);
      },
      376: (e) => {
        e.exports = function (e) {
          if (!e) return !1;
          var i = t.call(e);
          return (
            '[object Function]' === i ||
            ('function' == typeof e && '[object RegExp]' !== i) ||
            ('undefined' != typeof window &&
              (e === window.setTimeout ||
                e === window.alert ||
                e === window.confirm ||
                e === window.prompt))
          );
        };
        var t = Object.prototype.toString;
      },
      878: function (e) {
        e.exports = (function () {
          'use strict';
          function e() {
            return (
              void 0 !== navigator.brave && void 0 !== navigator.brave.isBrave
            );
          }
          function t() {
            return (
              'string' == typeof navigator.userAgent &&
              navigator.userAgent.match(/Opera|OPR\//)
            );
          }
          function i() {
            return new Promise(function (e, t) {
              // var i = new XMLHttpRequest();
              // (i.onreadystatechange = function () {
              //   4 == i.readyState && e(i);
              // }),
              // i.open(
              //   'GET',
              //   'https://raw.githubusercontent.com/wmcmurray/just-detect-adblock/master/baits/pagead2.googlesyndication.com',
              //   !0,
              // ),
              // i.send();
              return null;
            });
          }
          function n(e) {
            return (
              200 === e.status &&
              !e.responseText.match(/^thistextshouldbethere(\n|)$/)
            );
          }
          function r(e) {
            return (
              0 === e.status &&
              !e.responseText.match(/^thistextshouldbethere(\n|)$/)
            );
          }
          function s() {
            if (null !== window.document.body.getAttribute('abp')) return !0;
            var e = (function () {
              var e = document.createElement('div');
              return (
                e.setAttribute(
                  'class',
                  'pub_300x250 pub_300x250m pub_728x90 text-ad textAd text_ad text_ads text-ads text-ad-links ad-text adSense adBlock adContent adBanner',
                ),
                e.setAttribute(
                  'style',
                  'width: 1px !important; height: 1px !important; position: absolute !important; left: -10000px !important; top: -1000px !important;',
                ),
                e
              );
            })();
            window.document.body.appendChild(e);
            var t = (function (e) {
              if (
                null === e.offsetParent ||
                0 == e.offsetHeight ||
                0 == e.offsetLeft ||
                0 == e.offsetTop ||
                0 == e.offsetWidth ||
                0 == e.clientHeight ||
                0 == e.clientWidth
              )
                return !0;
              if (void 0 !== window.getComputedStyle) {
                var t = window.getComputedStyle(e, null);
                if (
                  t &&
                  ('none' == t.getPropertyValue('display') ||
                    'hidden' == t.getPropertyValue('visibility'))
                )
                  return !0;
              }
              return !1;
            })(e);
            return window.document.body.removeChild(e), t;
          }
          var a;
          return {
            detectAnyAdblocker: function () {
              return new Promise(function (a, o) {
                if (s()) return a(!0);
                e() || t()
                  ? i().then(function (i) {
                      return e() ? a(n(i)) : t() ? a(r(i)) : void a(!1);
                    })
                  : a(!1);
              });
            },
            detectDomAdblocker:
              ((a = s),
              function () {
                var e = arguments;
                return new Promise(function (t, i) {
                  t(a.apply(this, e));
                });
              }),
            detectBraveShields: function () {
              return new Promise(function (t, r) {
                e()
                  ? i().then(function (e) {
                      t(n(e));
                    })
                  : t(!1);
              });
            },
            detectOperaAdblocker: function () {
              return new Promise(function (e, n) {
                t()
                  ? i().then(function (t) {
                      e(r(t));
                    })
                  : e(!1);
              });
            },
            isDetected: (function (e, t) {
              return function () {
                return (
                  console.warn(
                    'just-detect-adblock : ' +
                      (t || 'This method is deprecated.'),
                  ),
                  e.apply(this, arguments)
                );
              };
            })(
              s,
              'The `isDetected()` method is now deprecated, please use `detectAnyAdblocker()` instead, which returns a Promise and can detect more stuff (like Brave Shields).',
            ),
          };
        })();
      },
      537: (e, t) => {
        function i(e) {
          if (e && 'object' == typeof e) {
            var t = e.which || e.keyCode || e.charCode;
            t && (e = t);
          }
          if ('number' == typeof e) return a[e];
          var i,
            s = String(e);
          return (i = n[s.toLowerCase()])
            ? i
            : (i = r[s.toLowerCase()]) ||
                (1 === s.length ? s.charCodeAt(0) : void 0);
        }
        i.isEventKey = function (e, t) {
          if (e && 'object' == typeof e) {
            var i = e.which || e.keyCode || e.charCode;
            if (null == i) return !1;
            if ('string' == typeof t) {
              var s;
              if ((s = n[t.toLowerCase()])) return s === i;
              if ((s = r[t.toLowerCase()])) return s === i;
            } else if ('number' == typeof t) return t === i;
            return !1;
          }
        };
        var n =
            ((t = e.exports = i).code =
            t.codes =
              {
                backspace: 8,
                tab: 9,
                enter: 13,
                shift: 16,
                ctrl: 17,
                alt: 18,
                'pause/break': 19,
                'caps lock': 20,
                esc: 27,
                space: 32,
                'page up': 33,
                'page down': 34,
                end: 35,
                home: 36,
                left: 37,
                up: 38,
                right: 39,
                down: 40,
                insert: 45,
                delete: 46,
                command: 91,
                'left command': 91,
                'right command': 93,
                'numpad *': 106,
                'numpad +': 107,
                'numpad -': 109,
                'numpad .': 110,
                'numpad /': 111,
                'num lock': 144,
                'scroll lock': 145,
                'my computer': 182,
                'my calculator': 183,
                ';': 186,
                '=': 187,
                ',': 188,
                '-': 189,
                '.': 190,
                '/': 191,
                '`': 192,
                '[': 219,
                '\\': 220,
                ']': 221,
                "'": 222,
              }),
          r = (t.aliases = {
            windows: 91,
            '⇧': 16,
            '⌥': 18,
            '⌃': 17,
            '⌘': 91,
            ctl: 17,
            control: 17,
            option: 18,
            pause: 19,
            break: 19,
            caps: 20,
            return: 13,
            escape: 27,
            spc: 32,
            spacebar: 32,
            pgup: 33,
            pgdn: 34,
            ins: 45,
            del: 46,
            cmd: 91,
          });
        for (s = 97; s < 123; s++) n[String.fromCharCode(s)] = s - 32;
        for (var s = 48; s < 58; s++) n[s - 48] = s;
        for (s = 1; s < 13; s++) n['f' + s] = s + 111;
        for (s = 0; s < 10; s++) n['numpad ' + s] = s + 96;
        var a = (t.names = t.title = {});
        for (s in n) a[n[s]] = s;
        for (var o in r) n[o] = r[o];
      },
      220: (e) => {
        'use strict';
        var t = [
            96e3, 88200, 64e3, 48e3, 44100, 32e3, 24e3, 22050, 16e3, 12e3,
            11025, 8e3, 7350,
          ],
          i = function (e, t) {
            var i =
              (e[t + 6] << 21) | (e[t + 7] << 14) | (e[t + 8] << 7) | e[t + 9];
            return (i = i >= 0 ? i : 0), (16 & e[t + 5]) >> 4 ? i + 20 : i + 10;
          },
          n = function (e, t) {
            return e.length - t < 10 ||
              e[t] !== 'I'.charCodeAt(0) ||
              e[t + 1] !== 'D'.charCodeAt(0) ||
              e[t + 2] !== '3'.charCodeAt(0)
              ? t
              : ((t += i(e, t)), n(e, t));
          },
          r = function (e) {
            return (e[0] << 21) | (e[1] << 14) | (e[2] << 7) | e[3];
          };
        e.exports = {
          isLikelyAacData: function (e) {
            var t = n(e, 0);
            return (
              e.length >= t + 2 &&
              255 == (255 & e[t]) &&
              240 == (240 & e[t + 1]) &&
              16 == (22 & e[t + 1])
            );
          },
          parseId3TagSize: i,
          parseAdtsSize: function (e, t) {
            var i = (224 & e[t + 5]) >> 5,
              n = e[t + 4] << 3;
            return (6144 & e[t + 3]) | n | i;
          },
          parseType: function (e, t) {
            return e[t] === 'I'.charCodeAt(0) &&
              e[t + 1] === 'D'.charCodeAt(0) &&
              e[t + 2] === '3'.charCodeAt(0)
              ? 'timed-metadata'
              : !0 & e[t] && 240 == (240 & e[t + 1])
                ? 'audio'
                : null;
          },
          parseSampleRate: function (e) {
            for (var i = 0; i + 5 < e.length; ) {
              if (255 === e[i] && 240 == (246 & e[i + 1]))
                return t[(60 & e[i + 2]) >>> 2];
              i++;
            }
            return null;
          },
          parseAacTimestamp: function (e) {
            var t, i, n;
            (t = 10), 64 & e[5] && ((t += 4), (t += r(e.subarray(10, 14))));
            do {
              if ((i = r(e.subarray(t + 4, t + 8))) < 1) return null;
              if (
                'PRIV' ===
                String.fromCharCode(e[t], e[t + 1], e[t + 2], e[t + 3])
              ) {
                n = e.subarray(t + 10, t + i + 10);
                for (var s = 0; s < n.byteLength; s++)
                  if (0 === n[s]) {
                    var a = unescape(
                      (function (e, t, i) {
                        var n,
                          r = '';
                        for (n = t; n < i; n++)
                          r += '%' + ('00' + e[n].toString(16)).slice(-2);
                        return r;
                      })(n, 0, s),
                    );
                    if ('com.apple.streaming.transportStreamTimestamp' === a) {
                      var o = n.subarray(s + 1),
                        l =
                          ((1 & o[3]) << 30) |
                          (o[4] << 22) |
                          (o[5] << 14) |
                          (o[6] << 6) |
                          (o[7] >>> 2);
                      return (l *= 4), (l += 3 & o[7]);
                    }
                    break;
                  }
              }
              (t += 10), (t += i);
            } while (t < e.byteLength);
            return null;
          },
        };
      },
      149: (e, t, i) => {
        'use strict';
        var n = i(215),
          r = function (e) {
            var t = 31 & e[1];
            return (t <<= 8), (t |= e[2]);
          },
          s = function (e) {
            return !!(64 & e[1]);
          },
          a = function (e) {
            var t = 0;
            return (48 & e[3]) >>> 4 > 1 && (t += e[4] + 1), t;
          },
          o = function (e) {
            switch (e) {
              case 5:
                return 'slice_layer_without_partitioning_rbsp_idr';
              case 6:
                return 'sei_rbsp';
              case 7:
                return 'seq_parameter_set_rbsp';
              case 8:
                return 'pic_parameter_set_rbsp';
              case 9:
                return 'access_unit_delimiter_rbsp';
              default:
                return null;
            }
          };
        e.exports = {
          parseType: function (e, t) {
            var i = r(e);
            return 0 === i ? 'pat' : i === t ? 'pmt' : t ? 'pes' : null;
          },
          parsePat: function (e) {
            var t = s(e),
              i = 4 + a(e);
            return t && (i += e[i] + 1), ((31 & e[i + 10]) << 8) | e[i + 11];
          },
          parsePmt: function (e) {
            var t = {},
              i = s(e),
              n = 4 + a(e);
            if ((i && (n += e[n] + 1), 1 & e[n + 5])) {
              var r;
              r = 3 + (((15 & e[n + 1]) << 8) | e[n + 2]) - 4;
              for (
                var o = 12 + (((15 & e[n + 10]) << 8) | e[n + 11]);
                o < r;

              ) {
                var l = n + o;
                (t[((31 & e[l + 1]) << 8) | e[l + 2]] = e[l]),
                  (o += 5 + (((15 & e[l + 3]) << 8) | e[l + 4]));
              }
              return t;
            }
          },
          parsePayloadUnitStartIndicator: s,
          parsePesType: function (e, t) {
            switch (t[r(e)]) {
              case n.H264_STREAM_TYPE:
                return 'video';
              case n.ADTS_STREAM_TYPE:
                return 'audio';
              case n.METADATA_STREAM_TYPE:
                return 'timed-metadata';
              default:
                return null;
            }
          },
          parsePesTime: function (e) {
            if (!s(e)) return null;
            var t = 4 + a(e);
            if (t >= e.byteLength) return null;
            var i,
              n = null;
            return (
              192 & (i = e[t + 7]) &&
                (((n = {}).pts =
                  ((14 & e[t + 9]) << 27) |
                  ((255 & e[t + 10]) << 20) |
                  ((254 & e[t + 11]) << 12) |
                  ((255 & e[t + 12]) << 5) |
                  ((254 & e[t + 13]) >>> 3)),
                (n.pts *= 4),
                (n.pts += (6 & e[t + 13]) >>> 1),
                (n.dts = n.pts),
                64 & i &&
                  ((n.dts =
                    ((14 & e[t + 14]) << 27) |
                    ((255 & e[t + 15]) << 20) |
                    ((254 & e[t + 16]) << 12) |
                    ((255 & e[t + 17]) << 5) |
                    ((254 & e[t + 18]) >>> 3)),
                  (n.dts *= 4),
                  (n.dts += (6 & e[t + 18]) >>> 1))),
              n
            );
          },
          videoPacketContainsKeyFrame: function (e) {
            for (
              var t = 4 + a(e), i = e.subarray(t), n = 0, r = 0, s = !1;
              r < i.byteLength - 3;
              r++
            )
              if (1 === i[r + 2]) {
                n = r + 5;
                break;
              }
            for (; n < i.byteLength; )
              switch (i[n]) {
                case 0:
                  if (0 !== i[n - 1]) {
                    n += 2;
                    break;
                  }
                  if (0 !== i[n - 2]) {
                    n++;
                    break;
                  }
                  r + 3 !== n - 2 &&
                    'slice_layer_without_partitioning_rbsp_idr' ===
                      o(31 & i[r + 3]) &&
                    (s = !0);
                  do {
                    n++;
                  } while (1 !== i[n] && n < i.length);
                  (r = n - 2), (n += 3);
                  break;
                case 1:
                  if (0 !== i[n - 1] || 0 !== i[n - 2]) {
                    n += 3;
                    break;
                  }
                  'slice_layer_without_partitioning_rbsp_idr' ===
                    o(31 & i[r + 3]) && (s = !0),
                    (r = n - 2),
                    (n += 3);
                  break;
                default:
                  n += 3;
              }
            return (
              (i = i.subarray(r)),
              (n -= r),
              (r = 0),
              i &&
                i.byteLength > 3 &&
                'slice_layer_without_partitioning_rbsp_idr' ===
                  o(31 & i[r + 3]) &&
                (s = !0),
              s
            );
          },
        };
      },
      215: (e) => {
        'use strict';
        e.exports = {
          H264_STREAM_TYPE: 27,
          ADTS_STREAM_TYPE: 15,
          METADATA_STREAM_TYPE: 21,
        };
      },
      817: (e, t, i) => {
        'use strict';
        var n = i(961),
          r = 'shared',
          s = function (e, t) {
            var i = 1;
            for (e > t && (i = -1); Math.abs(t - e) > 4294967296; )
              e += 8589934592 * i;
            return e;
          },
          a = function (e) {
            var t, i;
            a.prototype.init.call(this),
              (this.type_ = e || r),
              (this.push = function (e) {
                (this.type_ !== r && e.type !== this.type_) ||
                  (void 0 === i && (i = e.dts),
                  (e.dts = s(e.dts, i)),
                  (e.pts = s(e.pts, i)),
                  (t = e.dts),
                  this.trigger('data', e));
              }),
              (this.flush = function () {
                (i = t), this.trigger('done');
              }),
              (this.endTimeline = function () {
                this.flush(), this.trigger('endedtimeline');
              }),
              (this.discontinuity = function () {
                (i = void 0), (t = void 0);
              }),
              (this.reset = function () {
                this.discontinuity(), this.trigger('reset');
              });
          };
        (a.prototype = new n()),
          (e.exports = { TimestampRolloverStream: a, handleRollover: s });
      },
      88: (e, t, i) => {
        var n = i(976).toUnsigned,
          r = i(2),
          s = function (e, t) {
            var i,
              a,
              o,
              l,
              u,
              d = [];
            if (!t.length) return null;
            for (i = 0; i < e.byteLength; )
              (a = n(
                (e[i] << 24) | (e[i + 1] << 16) | (e[i + 2] << 8) | e[i + 3],
              )),
                (o = r(e.subarray(i + 4, i + 8))),
                (l = a > 1 ? i + a : e.byteLength),
                o === t[0] &&
                  (1 === t.length
                    ? d.push(e.subarray(i + 8, l))
                    : (u = s(e.subarray(i + 8, l), t.slice(1))).length &&
                      (d = d.concat(u))),
                (i = l);
            return d;
          };
        e.exports = s;
      },
      2: (e) => {
        e.exports = function (e) {
          var t = '';
          return (
            (t += String.fromCharCode(e[0])),
            (t += String.fromCharCode(e[1])),
            (t += String.fromCharCode(e[2])),
            (t += String.fromCharCode(e[3]))
          );
        };
      },
      530: (e, t, i) => {
        'use strict';
        var n,
          r,
          s,
          a,
          o,
          l,
          u = i(976).toUnsigned,
          d = i(976).toHexString,
          c = i(88),
          h = i(2),
          p = i(654),
          f = i(459),
          m = i(389);
        (n = function (e) {
          return c(e, ['moov', 'trak']).reduce(function (e, t) {
            var i, n, r, s, a;
            return (i = c(t, ['tkhd'])[0])
              ? ((n = i[0]),
                (s = u(
                  (i[(r = 0 === n ? 12 : 20)] << 24) |
                    (i[r + 1] << 16) |
                    (i[r + 2] << 8) |
                    i[r + 3],
                )),
                (a = c(t, ['mdia', 'mdhd'])[0])
                  ? ((r = 0 === (n = a[0]) ? 12 : 20),
                    (e[s] = u(
                      (a[r] << 24) |
                        (a[r + 1] << 16) |
                        (a[r + 2] << 8) |
                        a[r + 3],
                    )),
                    e)
                  : null)
              : null;
          }, {});
        }),
          (r = function (e, t) {
            var i, n, r;
            return (
              (i = c(t, ['moof', 'traf'])),
              (n = [].concat.apply(
                [],
                i.map(function (t) {
                  return c(t, ['tfhd']).map(function (i) {
                    var n, r, s;
                    return (
                      (n = u((i[4] << 24) | (i[5] << 16) | (i[6] << 8) | i[7])),
                      (r = e[n] || 9e4),
                      (s = c(t, ['tfdt']).map(function (e) {
                        var t, i;
                        return (
                          (t = e[0]),
                          (i = u(
                            (e[4] << 24) | (e[5] << 16) | (e[6] << 8) | e[7],
                          )),
                          1 === t &&
                            ((i *= Math.pow(2, 32)),
                            (i += u(
                              (e[8] << 24) |
                                (e[9] << 16) |
                                (e[10] << 8) |
                                e[11],
                            ))),
                          i
                        );
                      })[0]),
                      (s = 'number' != typeof s || isNaN(s) ? 1 / 0 : s) / r
                    );
                  });
                }),
              )),
              (r = Math.min.apply(null, n)),
              isFinite(r) ? r : 0
            );
          }),
          (s = function (e, t) {
            var i,
              n = c(t, ['moof', 'traf']),
              r = 0,
              s = 0;
            if (n && n.length) {
              var a = c(n[0], ['tfhd'])[0],
                o = c(n[0], ['trun'])[0],
                l = c(n[0], ['tfdt'])[0];
              if (a) i = p(a).trackId;
              if (l) r = m(l).baseMediaDecodeTime;
              if (o) {
                var u = f(o);
                u.samples &&
                  u.samples.length &&
                  (s = u.samples[0].compositionTimeOffset || 0);
              }
            }
            return (r + s) / (e[i] || 9e4);
          }),
          (a = function (e) {
            var t = c(e, ['moov', 'trak']),
              i = [];
            return (
              t.forEach(function (e) {
                var t = c(e, ['mdia', 'hdlr']),
                  n = c(e, ['tkhd']);
                t.forEach(function (e, t) {
                  var r,
                    s,
                    a = h(e.subarray(8, 12)),
                    o = n[t];
                  'vide' === a &&
                    ((s =
                      0 ===
                      (r = new DataView(
                        o.buffer,
                        o.byteOffset,
                        o.byteLength,
                      )).getUint8(0)
                        ? r.getUint32(12)
                        : r.getUint32(20)),
                    i.push(s));
                });
              }),
              i
            );
          }),
          (l = function (e) {
            var t = 0 === e[0] ? 12 : 20;
            return u(
              (e[t] << 24) | (e[t + 1] << 16) | (e[t + 2] << 8) | e[t + 3],
            );
          }),
          (o = function (e) {
            var t = c(e, ['moov', 'trak']),
              i = [];
            return (
              t.forEach(function (e) {
                var t,
                  n,
                  r = {},
                  s = c(e, ['tkhd'])[0];
                s &&
                  ((n = (t = new DataView(
                    s.buffer,
                    s.byteOffset,
                    s.byteLength,
                  )).getUint8(0)),
                  (r.id = 0 === n ? t.getUint32(12) : t.getUint32(20)));
                var a = c(e, ['mdia', 'hdlr'])[0];
                if (a) {
                  var o = h(a.subarray(8, 12));
                  r.type = 'vide' === o ? 'video' : 'soun' === o ? 'audio' : o;
                }
                var u = c(e, ['mdia', 'minf', 'stbl', 'stsd'])[0];
                if (u) {
                  var p = u.subarray(8);
                  r.codec = h(p.subarray(4, 8));
                  var f,
                    m = c(p, [r.codec])[0];
                  m &&
                    (/^[a-z]vc[1-9]$/i.test(r.codec)
                      ? ((f = m.subarray(78)),
                        'avcC' === h(f.subarray(4, 8)) && f.length > 11
                          ? ((r.codec += '.'),
                            (r.codec += d(f[9])),
                            (r.codec += d(f[10])),
                            (r.codec += d(f[11])))
                          : (r.codec = 'avc1.4d400d'))
                      : /^mp4[a,v]$/i.test(r.codec)
                        ? ((f = m.subarray(28)),
                          'esds' === h(f.subarray(4, 8)) &&
                          f.length > 20 &&
                          0 !== f[19]
                            ? ((r.codec += '.' + d(f[19])),
                              (r.codec +=
                                '.' + d((f[20] >>> 2) & 63).replace(/^0/, '')))
                            : (r.codec = 'mp4a.40.2'))
                        : (r.codec = r.codec.toLowerCase()));
                }
                var g = c(e, ['mdia', 'mdhd'])[0];
                g && (r.timescale = l(g)), i.push(r);
              }),
              i
            );
          }),
          (e.exports = {
            findBox: c,
            parseType: h,
            timescale: n,
            startTime: r,
            compositionStartTime: s,
            videoTrackIds: a,
            tracks: o,
            getTimescaleFromMediaHeader: l,
          });
      },
      633: (e) => {
        e.exports = function (e) {
          return {
            isLeading: (12 & e[0]) >>> 2,
            dependsOn: 3 & e[0],
            isDependedOn: (192 & e[1]) >>> 6,
            hasRedundancy: (48 & e[1]) >>> 4,
            paddingValue: (14 & e[1]) >>> 1,
            isNonSyncSample: 1 & e[1],
            degradationPriority: (e[2] << 8) | e[3],
          };
        };
      },
      221: (e) => {
        var t = Math.pow(2, 32);
        e.exports = function (e) {
          var i = new DataView(e.buffer, e.byteOffset, e.byteLength),
            n = {
              version: e[0],
              flags: new Uint8Array(e.subarray(1, 4)),
              references: [],
              referenceId: i.getUint32(4),
              timescale: i.getUint32(8),
            },
            r = 12;
          0 === n.version
            ? ((n.earliestPresentationTime = i.getUint32(r)),
              (n.firstOffset = i.getUint32(r + 4)),
              (r += 8))
            : ((n.earliestPresentationTime =
                i.getUint32(r) * t + i.getUint32(r + 4)),
              (n.firstOffset = i.getUint32(r + 8) * t + i.getUint32(r + 12)),
              (r += 16)),
            (r += 2);
          var s = i.getUint16(r);
          for (r += 2; s > 0; r += 12, s--)
            n.references.push({
              referenceType: (128 & e[r]) >>> 7,
              referencedSize: 2147483647 & i.getUint32(r),
              subsegmentDuration: i.getUint32(r + 4),
              startsWithSap: !!(128 & e[r + 8]),
              sapType: (112 & e[r + 8]) >>> 4,
              sapDeltaTime: 268435455 & i.getUint32(r + 8),
            });
          return n;
        };
      },
      389: (e, t, i) => {
        var n = i(976).toUnsigned;
        e.exports = function (e) {
          var t = {
            version: e[0],
            flags: new Uint8Array(e.subarray(1, 4)),
            baseMediaDecodeTime: n(
              (e[4] << 24) | (e[5] << 16) | (e[6] << 8) | e[7],
            ),
          };
          return (
            1 === t.version &&
              ((t.baseMediaDecodeTime *= Math.pow(2, 32)),
              (t.baseMediaDecodeTime += n(
                (e[8] << 24) | (e[9] << 16) | (e[10] << 8) | e[11],
              ))),
            t
          );
        };
      },
      654: (e) => {
        e.exports = function (e) {
          var t,
            i = new DataView(e.buffer, e.byteOffset, e.byteLength),
            n = {
              version: e[0],
              flags: new Uint8Array(e.subarray(1, 4)),
              trackId: i.getUint32(4),
            },
            r = 1 & n.flags[2],
            s = 2 & n.flags[2],
            a = 8 & n.flags[2],
            o = 16 & n.flags[2],
            l = 32 & n.flags[2],
            u = 65536 & n.flags[0],
            d = 131072 & n.flags[0];
          return (
            (t = 8),
            r && ((t += 4), (n.baseDataOffset = i.getUint32(12)), (t += 4)),
            s && ((n.sampleDescriptionIndex = i.getUint32(t)), (t += 4)),
            a && ((n.defaultSampleDuration = i.getUint32(t)), (t += 4)),
            o && ((n.defaultSampleSize = i.getUint32(t)), (t += 4)),
            l && (n.defaultSampleFlags = i.getUint32(t)),
            u && (n.durationIsEmpty = !0),
            !r && d && (n.baseDataOffsetIsMoof = !0),
            n
          );
        };
      },
      459: (e, t, i) => {
        var n = i(633);
        e.exports = function (e) {
          var t,
            i = {
              version: e[0],
              flags: new Uint8Array(e.subarray(1, 4)),
              samples: [],
            },
            r = new DataView(e.buffer, e.byteOffset, e.byteLength),
            s = 1 & i.flags[2],
            a = 4 & i.flags[2],
            o = 1 & i.flags[1],
            l = 2 & i.flags[1],
            u = 4 & i.flags[1],
            d = 8 & i.flags[1],
            c = r.getUint32(4),
            h = 8;
          for (
            s && ((i.dataOffset = r.getInt32(h)), (h += 4)),
              a &&
                c &&
                ((t = { flags: n(e.subarray(h, h + 4)) }),
                (h += 4),
                o && ((t.duration = r.getUint32(h)), (h += 4)),
                l && ((t.size = r.getUint32(h)), (h += 4)),
                d &&
                  (1 === i.version
                    ? (t.compositionTimeOffset = r.getInt32(h))
                    : (t.compositionTimeOffset = r.getUint32(h)),
                  (h += 4)),
                i.samples.push(t),
                c--);
            c--;

          )
            (t = {}),
              o && ((t.duration = r.getUint32(h)), (h += 4)),
              l && ((t.size = r.getUint32(h)), (h += 4)),
              u && ((t.flags = n(e.subarray(h, h + 4))), (h += 4)),
              d &&
                (1 === i.version
                  ? (t.compositionTimeOffset = r.getInt32(h))
                  : (t.compositionTimeOffset = r.getUint32(h)),
                (h += 4)),
              i.samples.push(t);
          return i;
        };
      },
      547: (e, t, i) => {
        'use strict';
        var n = i(215),
          r = i(817).handleRollover,
          s = {};
        (s.ts = i(149)), (s.aac = i(220));
        var a = i(489).ONE_SECOND_IN_TS,
          o = 188,
          l = 71,
          u = function (e, t, i) {
            for (var n, r, a, u, d = 0, c = o, h = !1; c <= e.byteLength; )
              if (e[d] !== l || (e[c] !== l && c !== e.byteLength)) d++, c++;
              else {
                if (
                  ((n = e.subarray(d, c)), 'pes' === s.ts.parseType(n, t.pid))
                )
                  (r = s.ts.parsePesType(n, t.table)),
                    (a = s.ts.parsePayloadUnitStartIndicator(n)),
                    'audio' === r &&
                      a &&
                      (u = s.ts.parsePesTime(n)) &&
                      ((u.type = 'audio'), i.audio.push(u), (h = !0));
                if (h) break;
                (d += o), (c += o);
              }
            for (d = (c = e.byteLength) - o, h = !1; d >= 0; )
              if (e[d] !== l || (e[c] !== l && c !== e.byteLength)) d--, c--;
              else {
                if (
                  ((n = e.subarray(d, c)), 'pes' === s.ts.parseType(n, t.pid))
                )
                  (r = s.ts.parsePesType(n, t.table)),
                    (a = s.ts.parsePayloadUnitStartIndicator(n)),
                    'audio' === r &&
                      a &&
                      (u = s.ts.parsePesTime(n)) &&
                      ((u.type = 'audio'), i.audio.push(u), (h = !0));
                if (h) break;
                (d -= o), (c -= o);
              }
          },
          d = function (e, t, i) {
            for (
              var n,
                r,
                a,
                u,
                d,
                c,
                h,
                p = 0,
                f = o,
                m = !1,
                g = { data: [], size: 0 };
              f < e.byteLength;

            )
              if (e[p] !== l || e[f] !== l) p++, f++;
              else {
                if (
                  ((n = e.subarray(p, f)), 'pes' === s.ts.parseType(n, t.pid))
                )
                  if (
                    ((r = s.ts.parsePesType(n, t.table)),
                    (a = s.ts.parsePayloadUnitStartIndicator(n)),
                    'video' === r &&
                      (a &&
                        !m &&
                        (u = s.ts.parsePesTime(n)) &&
                        ((u.type = 'video'), i.video.push(u), (m = !0)),
                      !i.firstKeyFrame))
                  ) {
                    if (a && 0 !== g.size) {
                      for (d = new Uint8Array(g.size), c = 0; g.data.length; )
                        (h = g.data.shift()), d.set(h, c), (c += h.byteLength);
                      if (s.ts.videoPacketContainsKeyFrame(d)) {
                        var v = s.ts.parsePesTime(d);
                        v
                          ? ((i.firstKeyFrame = v),
                            (i.firstKeyFrame.type = 'video'))
                          : console.warn(
                              'Failed to extract PTS/DTS from PES at first keyframe. This could be an unusual TS segment, or else mux.js did not parse your TS segment correctly. If you know your TS segments do contain PTS/DTS on keyframes please file a bug report! You can try ffprobe to double check for yourself.',
                            );
                      }
                      g.size = 0;
                    }
                    g.data.push(n), (g.size += n.byteLength);
                  }
                if (m && i.firstKeyFrame) break;
                (p += o), (f += o);
              }
            for (p = (f = e.byteLength) - o, m = !1; p >= 0; )
              if (e[p] !== l || e[f] !== l) p--, f--;
              else {
                if (
                  ((n = e.subarray(p, f)), 'pes' === s.ts.parseType(n, t.pid))
                )
                  (r = s.ts.parsePesType(n, t.table)),
                    (a = s.ts.parsePayloadUnitStartIndicator(n)),
                    'video' === r &&
                      a &&
                      (u = s.ts.parsePesTime(n)) &&
                      ((u.type = 'video'), i.video.push(u), (m = !0));
                if (m) break;
                (p -= o), (f -= o);
              }
          },
          c = function (e) {
            var t = { pid: null, table: null },
              i = {};
            for (var r in ((function (e, t) {
              for (var i, n = 0, r = o; r < e.byteLength; )
                if (e[n] !== l || e[r] !== l) n++, r++;
                else {
                  switch (((i = e.subarray(n, r)), s.ts.parseType(i, t.pid))) {
                    case 'pat':
                      t.pid || (t.pid = s.ts.parsePat(i));
                      break;
                    case 'pmt':
                      t.table || (t.table = s.ts.parsePmt(i));
                  }
                  if (t.pid && t.table) return;
                  (n += o), (r += o);
                }
            })(e, t),
            t.table)) {
              if (t.table.hasOwnProperty(r))
                switch (t.table[r]) {
                  case n.H264_STREAM_TYPE:
                    (i.video = []),
                      d(e, t, i),
                      0 === i.video.length && delete i.video;
                    break;
                  case n.ADTS_STREAM_TYPE:
                    (i.audio = []),
                      u(e, t, i),
                      0 === i.audio.length && delete i.audio;
                }
            }
            return i;
          };
        e.exports = {
          inspect: function (e, t) {
            var i;
            return (
              (i = s.aac.isLikelyAacData(e)
                ? (function (e) {
                    for (
                      var t, i = !1, n = 0, r = null, o = null, l = 0, u = 0;
                      e.length - u >= 3;

                    ) {
                      switch (s.aac.parseType(e, u)) {
                        case 'timed-metadata':
                          if (e.length - u < 10) {
                            i = !0;
                            break;
                          }
                          if ((l = s.aac.parseId3TagSize(e, u)) > e.length) {
                            i = !0;
                            break;
                          }
                          null === o &&
                            ((t = e.subarray(u, u + l)),
                            (o = s.aac.parseAacTimestamp(t))),
                            (u += l);
                          break;
                        case 'audio':
                          if (e.length - u < 7) {
                            i = !0;
                            break;
                          }
                          if ((l = s.aac.parseAdtsSize(e, u)) > e.length) {
                            i = !0;
                            break;
                          }
                          null === r &&
                            ((t = e.subarray(u, u + l)),
                            (r = s.aac.parseSampleRate(t))),
                            n++,
                            (u += l);
                          break;
                        default:
                          u++;
                      }
                      if (i) return null;
                    }
                    if (null === r || null === o) return null;
                    var d = a / r;
                    return {
                      audio: [
                        { type: 'audio', dts: o, pts: o },
                        {
                          type: 'audio',
                          dts: o + 1024 * n * d,
                          pts: o + 1024 * n * d,
                        },
                      ],
                    };
                  })(e)
                : c(e)),
              i && (i.audio || i.video)
                ? ((function (e, t) {
                    if (e.audio && e.audio.length) {
                      var i = t;
                      (void 0 === i || isNaN(i)) && (i = e.audio[0].dts),
                        e.audio.forEach(function (e) {
                          (e.dts = r(e.dts, i)),
                            (e.pts = r(e.pts, i)),
                            (e.dtsTime = e.dts / a),
                            (e.ptsTime = e.pts / a);
                        });
                    }
                    if (e.video && e.video.length) {
                      var n = t;
                      if (
                        ((void 0 === n || isNaN(n)) && (n = e.video[0].dts),
                        e.video.forEach(function (e) {
                          (e.dts = r(e.dts, n)),
                            (e.pts = r(e.pts, n)),
                            (e.dtsTime = e.dts / a),
                            (e.ptsTime = e.pts / a);
                        }),
                        e.firstKeyFrame)
                      ) {
                        var s = e.firstKeyFrame;
                        (s.dts = r(s.dts, n)),
                          (s.pts = r(s.pts, n)),
                          (s.dtsTime = s.dts / a),
                          (s.ptsTime = s.pts / a);
                      }
                    }
                  })(i, t),
                  i)
                : null
            );
          },
          parseAudioPes_: u,
        };
      },
      976: (e) => {
        e.exports = {
          toUnsigned: function (e) {
            return e >>> 0;
          },
          toHexString: function (e) {
            return ('00' + e.toString(16)).slice(-2);
          },
        };
      },
      489: (e) => {
        var t,
          i,
          n,
          r,
          s,
          a,
          o,
          l = 9e4;
        (t = function (e) {
          return e * l;
        }),
          (i = function (e, t) {
            return e * t;
          }),
          (n = function (e) {
            return e / l;
          }),
          (r = function (e, t) {
            return e / t;
          }),
          (s = function (e, i) {
            return t(r(e, i));
          }),
          (a = function (e, t) {
            return i(n(e), t);
          }),
          (o = function (e, t, i) {
            return n(i ? e : e - t);
          }),
          (e.exports = {
            ONE_SECOND_IN_TS: l,
            secondsToVideoTs: t,
            secondsToAudioTs: i,
            videoTsToSeconds: n,
            audioTsToSeconds: r,
            audioTsToVideoTs: s,
            videoTsToAudioTs: a,
            metadataTsToSeconds: o,
          });
      },
      961: (e) => {
        'use strict';
        var t = function () {
          this.init = function () {
            var e = {};
            (this.on = function (t, i) {
              e[t] || (e[t] = []), (e[t] = e[t].concat(i));
            }),
              (this.off = function (t, i) {
                var n;
                return (
                  !!e[t] &&
                  ((n = e[t].indexOf(i)),
                  (e[t] = e[t].slice()),
                  e[t].splice(n, 1),
                  n > -1)
                );
              }),
              (this.trigger = function (t) {
                var i, n, r, s;
                if ((i = e[t]))
                  if (2 === arguments.length)
                    for (r = i.length, n = 0; n < r; ++n)
                      i[n].call(this, arguments[1]);
                  else {
                    for (
                      s = [], n = arguments.length, n = 1;
                      n < arguments.length;
                      ++n
                    )
                      s.push(arguments[n]);
                    for (r = i.length, n = 0; n < r; ++n) i[n].apply(this, s);
                  }
              }),
              (this.dispose = function () {
                e = {};
              });
          };
        };
        (t.prototype.pipe = function (e) {
          return (
            this.on('data', function (t) {
              e.push(t);
            }),
            this.on('done', function (t) {
              e.flush(t);
            }),
            this.on('partialdone', function (t) {
              e.partialFlush(t);
            }),
            this.on('endedtimeline', function (t) {
              e.endTimeline(t);
            }),
            this.on('reset', function (t) {
              e.reset(t);
            }),
            e
          );
        }),
          (t.prototype.push = function (e) {
            this.trigger('data', e);
          }),
          (t.prototype.flush = function (e) {
            this.trigger('done', e);
          }),
          (t.prototype.partialFlush = function (e) {
            this.trigger('partialdone', e);
          }),
          (t.prototype.endTimeline = function (e) {
            this.trigger('endedtimeline', e);
          }),
          (t.prototype.reset = function (e) {
            this.trigger('reset', e);
          }),
          (e.exports = t);
      },
      974: (e) => {
        e.exports = function (e, t) {
          var i,
            n = null;
          try {
            i = JSON.parse(e, t);
          } catch (e) {
            n = e;
          }
          return [n, i];
        };
      },
      379: (e, t, i) => {
        'use strict';
        var n,
          r = function () {
            return (
              void 0 === n &&
                (n = Boolean(
                  window && document && document.all && !window.atob,
                )),
              n
            );
          },
          s = (function () {
            var e = {};
            return function (t) {
              if (void 0 === e[t]) {
                var i = document.querySelector(t);
                if (
                  window.HTMLIFrameElement &&
                  i instanceof window.HTMLIFrameElement
                )
                  try {
                    i = i.contentDocument.head;
                  } catch (e) {
                    i = null;
                  }
                e[t] = i;
              }
              return e[t];
            };
          })(),
          a = [];
        function o(e) {
          for (var t = -1, i = 0; i < a.length; i++)
            if (a[i].identifier === e) {
              t = i;
              break;
            }
          return t;
        }
        function l(e, t) {
          for (var i = {}, n = [], r = 0; r < e.length; r++) {
            var s = e[r],
              l = t.base ? s[0] + t.base : s[0],
              u = i[l] || 0,
              d = ''.concat(l, ' ').concat(u);
            i[l] = u + 1;
            var c = o(d),
              h = { css: s[1], media: s[2], sourceMap: s[3] };
            -1 !== c
              ? (a[c].references++, a[c].updater(h))
              : a.push({ identifier: d, updater: g(h, t), references: 1 }),
              n.push(d);
          }
          return n;
        }
        function u(e) {
          var t = document.createElement('style'),
            n = e.attributes || {};
          if (void 0 === n.nonce) {
            var r = i.nc;
            r && (n.nonce = r);
          }
          if (
            (Object.keys(n).forEach(function (e) {
              t.setAttribute(e, n[e]);
            }),
            'function' == typeof e.insert)
          )
            e.insert(t);
          else {
            var a = s(e.insert || 'head');
            if (!a)
              throw new Error(
                "Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.",
              );
            a.appendChild(t);
          }
          return t;
        }
        var d,
          c =
            ((d = []),
            function (e, t) {
              return (d[e] = t), d.filter(Boolean).join('\n');
            });
        function h(e, t, i, n) {
          var r = i
            ? ''
            : n.media
              ? '@media '.concat(n.media, ' {').concat(n.css, '}')
              : n.css;
          if (e.styleSheet) e.styleSheet.cssText = c(t, r);
          else {
            var s = document.createTextNode(r),
              a = e.childNodes;
            a[t] && e.removeChild(a[t]),
              a.length ? e.insertBefore(s, a[t]) : e.appendChild(s);
          }
        }
        function p(e, t, i) {
          var n = i.css,
            r = i.media,
            s = i.sourceMap;
          if (
            (r ? e.setAttribute('media', r) : e.removeAttribute('media'),
            s &&
              'undefined' != typeof btoa &&
              (n +=
                '\n/*# sourceMappingURL=data:application/json;base64,'.concat(
                  btoa(unescape(encodeURIComponent(JSON.stringify(s)))),
                  ' */',
                )),
            e.styleSheet)
          )
            e.styleSheet.cssText = n;
          else {
            for (; e.firstChild; ) e.removeChild(e.firstChild);
            e.appendChild(document.createTextNode(n));
          }
        }
        var f = null,
          m = 0;
        function g(e, t) {
          var i, n, r;
          if (t.singleton) {
            var s = m++;
            (i = f || (f = u(t))),
              (n = h.bind(null, i, s, !1)),
              (r = h.bind(null, i, s, !0));
          } else
            (i = u(t)),
              (n = p.bind(null, i, t)),
              (r = function () {
                !(function (e) {
                  if (null === e.parentNode) return !1;
                  e.parentNode.removeChild(e);
                })(i);
              });
          return (
            n(e),
            function (t) {
              if (t) {
                if (
                  t.css === e.css &&
                  t.media === e.media &&
                  t.sourceMap === e.sourceMap
                )
                  return;
                n((e = t));
              } else r();
            }
          );
        }
        e.exports = function (e, t) {
          (t = t || {}).singleton ||
            'boolean' == typeof t.singleton ||
            (t.singleton = r());
          var i = l((e = e || []), t);
          return function (e) {
            if (
              ((e = e || []),
              '[object Array]' === Object.prototype.toString.call(e))
            ) {
              for (var n = 0; n < i.length; n++) {
                var r = o(i[n]);
                a[r].references--;
              }
              for (var s = l(e, t), u = 0; u < i.length; u++) {
                var d = o(i[u]);
                0 === a[d].references && (a[d].updater(), a.splice(d, 1));
              }
              i = s;
            }
          };
        };
      },
      279: (e) => {
        function t() {}
        (t.prototype = {
          on: function (e, t, i) {
            var n = this.e || (this.e = {});
            return (n[e] || (n[e] = [])).push({ fn: t, ctx: i }), this;
          },
          once: function (e, t, i) {
            var n = this;
            function r() {
              n.off(e, r), t.apply(i, arguments);
            }
            return (r._ = t), this.on(e, r, i);
          },
          emit: function (e) {
            for (
              var t = [].slice.call(arguments, 1),
                i = ((this.e || (this.e = {}))[e] || []).slice(),
                n = 0,
                r = i.length;
              n < r;
              n++
            )
              i[n].fn.apply(i[n].ctx, t);
            return this;
          },
          off: function (e, t) {
            var i = this.e || (this.e = {}),
              n = i[e],
              r = [];
            if (n && t)
              for (var s = 0, a = n.length; s < a; s++)
                n[s].fn !== t && n[s].fn._ !== t && r.push(n[s]);
            return r.length ? (i[e] = r) : delete i[e], this;
          },
        }),
          (e.exports = t),
          (e.exports.TinyEmitter = t);
      },
      945: function (e) {
        var t, i, n, r, s;
        (t =
          /^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/),
          (i = /^(?=([^\/?#]*))\1([^]*)$/),
          (n = /(?:\/|^)\.(?=\/)/g),
          (r = /(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g),
          (s = {
            buildAbsoluteURL: function (e, t, n) {
              if (((n = n || {}), (e = e.trim()), !(t = t.trim()))) {
                if (!n.alwaysNormalize) return e;
                var r = s.parseURL(e);
                if (!r) throw new Error('Error trying to parse base URL.');
                return (
                  (r.path = s.normalizePath(r.path)), s.buildURLFromParts(r)
                );
              }
              var a = s.parseURL(t);
              if (!a) throw new Error('Error trying to parse relative URL.');
              if (a.scheme)
                return n.alwaysNormalize
                  ? ((a.path = s.normalizePath(a.path)), s.buildURLFromParts(a))
                  : t;
              var o = s.parseURL(e);
              if (!o) throw new Error('Error trying to parse base URL.');
              if (!o.netLoc && o.path && '/' !== o.path[0]) {
                var l = i.exec(o.path);
                (o.netLoc = l[1]), (o.path = l[2]);
              }
              o.netLoc && !o.path && (o.path = '/');
              var u = {
                scheme: o.scheme,
                netLoc: a.netLoc,
                path: null,
                params: a.params,
                query: a.query,
                fragment: a.fragment,
              };
              if (!a.netLoc && ((u.netLoc = o.netLoc), '/' !== a.path[0]))
                if (a.path) {
                  var d = o.path,
                    c = d.substring(0, d.lastIndexOf('/') + 1) + a.path;
                  u.path = s.normalizePath(c);
                } else
                  (u.path = o.path),
                    a.params ||
                      ((u.params = o.params), a.query || (u.query = o.query));
              return (
                null === u.path &&
                  (u.path = n.alwaysNormalize
                    ? s.normalizePath(a.path)
                    : a.path),
                s.buildURLFromParts(u)
              );
            },
            parseURL: function (e) {
              var i = t.exec(e);
              return i
                ? {
                    scheme: i[1] || '',
                    netLoc: i[2] || '',
                    path: i[3] || '',
                    params: i[4] || '',
                    query: i[5] || '',
                    fragment: i[6] || '',
                  }
                : null;
            },
            normalizePath: function (e) {
              for (
                e = e.split('').reverse().join('').replace(n, '');
                e.length !== (e = e.replace(r, '')).length;

              );
              return e.split('').reverse().join('');
            },
            buildURLFromParts: function (e) {
              return (
                e.scheme + e.netLoc + e.path + e.params + e.query + e.fragment
              );
            },
          }),
          (e.exports = s);
      },
      668: (e, t, i) => {
        'use strict';
        i.r(t), i.d(t, { default: () => Gu });
        var n = i(661),
          r = i.n(n),
          s = i(561),
          a = i.n(s);
        function o() {
          return (
            (o =
              Object.assign ||
              function (e) {
                for (var t = 1; t < arguments.length; t++) {
                  var i = arguments[t];
                  for (var n in i)
                    Object.prototype.hasOwnProperty.call(i, n) && (e[n] = i[n]);
                }
                return e;
              }),
            o.apply(this, arguments)
          );
        }
        function l(e) {
          if (void 0 === e)
            throw new ReferenceError(
              "this hasn't been initialised - super() hasn't been called",
            );
          return e;
        }
        function u(e, t) {
          return (
            (u =
              Object.setPrototypeOf ||
              function (e, t) {
                return (e.__proto__ = t), e;
              }),
            u(e, t)
          );
        }
        function d(e, t) {
          (e.prototype = Object.create(t.prototype)),
            (e.prototype.constructor = e),
            u(e, t);
        }
        var c = i(974),
          h = i.n(c),
          p = i(537),
          f = i.n(p),
          m = i(316),
          g = i.n(m),
          v = i(407),
          y = i.n(v);
        function A() {
          if ('undefined' == typeof Reflect || !Reflect.construct) return !1;
          if (Reflect.construct.sham) return !1;
          if ('function' == typeof Proxy) return !0;
          try {
            return (
              Boolean.prototype.valueOf.call(
                Reflect.construct(Boolean, [], function () {}),
              ),
              !0
            );
          } catch (e) {
            return !1;
          }
        }
        function b(e, t, i) {
          return (
            (b = A()
              ? Reflect.construct
              : function (e, t, i) {
                  var n = [null];
                  n.push.apply(n, t);
                  var r = new (Function.bind.apply(e, n))();
                  return i && u(r, i.prototype), r;
                }),
            b.apply(null, arguments)
          );
        }
        var T = i(945),
          S = i.n(T),
          w = i(908),
          k = i.n(w),
          _ = 'http://example.com';
        const C = function (e, t) {
          if (/^[a-z]+:/i.test(t)) return t;
          /^data:/.test(e) && (e = (k().location && k().location.href) || '');
          var i = 'function' == typeof k().URL,
            n = /^\/\//.test(e),
            r = !k().location && !/\/\//i.test(e);
          if (
            (i
              ? (e = new (k().URL)(e, k().location || _))
              : /\/\//i.test(e) ||
                (e = S().buildAbsoluteURL(
                  (k().location && k().location.href) || '',
                  e,
                )),
            i)
          ) {
            var s = new URL(t, e);
            return r
              ? s.href.slice(_.length)
              : n
                ? s.href.slice(s.protocol.length)
                : s.href;
          }
          return S().buildAbsoluteURL(e, t);
        };
        var E = (function () {
          function e() {
            this.listeners = {};
          }
          var t = e.prototype;
          return (
            (t.on = function (e, t) {
              this.listeners[e] || (this.listeners[e] = []),
                this.listeners[e].push(t);
            }),
            (t.off = function (e, t) {
              if (!this.listeners[e]) return !1;
              var i = this.listeners[e].indexOf(t);
              return (
                (this.listeners[e] = this.listeners[e].slice(0)),
                this.listeners[e].splice(i, 1),
                i > -1
              );
            }),
            (t.trigger = function (e) {
              var t = this.listeners[e];
              if (t)
                if (2 === arguments.length)
                  for (var i = t.length, n = 0; n < i; ++n)
                    t[n].call(this, arguments[1]);
                else
                  for (
                    var r = Array.prototype.slice.call(arguments, 1),
                      s = t.length,
                      a = 0;
                    a < s;
                    ++a
                  )
                    t[a].apply(this, r);
            }),
            (t.dispose = function () {
              this.listeners = {};
            }),
            (t.pipe = function (e) {
              this.on('data', function (t) {
                e.push(t);
              });
            }),
            e
          );
        })();
        function j(e) {
          for (
            var t,
              i =
                ((t = e),
                k().atob
                  ? k().atob(t)
                  : Buffer.from(t, 'base64').toString('binary')),
              n = new Uint8Array(i.length),
              r = 0;
            r < i.length;
            r++
          )
            n[r] = i.charCodeAt(r);
          return n;
        }
        var P,
          I,
          x,
          L = (function (e) {
            function t() {
              var t;
              return ((t = e.call(this) || this).buffer = ''), t;
            }
            return (
              d(t, e),
              (t.prototype.push = function (e) {
                var t;
                for (
                  this.buffer += e, t = this.buffer.indexOf('\n');
                  t > -1;
                  t = this.buffer.indexOf('\n')
                )
                  this.trigger('data', this.buffer.substring(0, t)),
                    (this.buffer = this.buffer.substring(t + 1));
              }),
              t
            );
          })(E),
          D = String.fromCharCode(9),
          R = function (e) {
            var t = /([0-9.]*)?@?([0-9.]*)?/.exec(e || ''),
              i = {};
            return (
              t[1] && (i.length = parseInt(t[1], 10)),
              t[2] && (i.offset = parseInt(t[2], 10)),
              i
            );
          },
          O = function (e) {
            for (
              var t,
                i = e.split(new RegExp('(?:^|,)((?:[^=]*)=(?:"[^"]*"|[^,]*))')),
                n = {},
                r = i.length;
              r--;

            )
              '' !== i[r] &&
                (((t = /([^=]*)=(.*)/.exec(i[r]).slice(1))[0] = t[0].replace(
                  /^\s+|\s+$/g,
                  '',
                )),
                (t[1] = t[1].replace(/^\s+|\s+$/g, '')),
                (t[1] = t[1].replace(/^['"](.*)['"]$/g, '$1')),
                (n[t[0]] = t[1]));
            return n;
          },
          M = (function (e) {
            function t() {
              var t;
              return (
                ((t = e.call(this) || this).customParsers = []),
                (t.tagMappers = []),
                t
              );
            }
            d(t, e);
            var i = t.prototype;
            return (
              (i.push = function (e) {
                var t,
                  i,
                  n = this;
                0 !== (e = e.trim()).length &&
                  ('#' === e[0]
                    ? this.tagMappers
                        .reduce(
                          function (t, i) {
                            var n = i(e);
                            return n === e ? t : t.concat([n]);
                          },
                          [e],
                        )
                        .forEach(function (e) {
                          for (var r = 0; r < n.customParsers.length; r++)
                            if (n.customParsers[r].call(n, e)) return;
                          if (0 === e.indexOf('#EXT'))
                            if (
                              ((e = e.replace('\r', '')),
                              (t = /^#EXTM3U/.exec(e)))
                            )
                              n.trigger('data', {
                                type: 'tag',
                                tagType: 'm3u',
                              });
                            else {
                              if ((t = /^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(e)))
                                return (
                                  (i = { type: 'tag', tagType: 'inf' }),
                                  t[1] && (i.duration = parseFloat(t[1])),
                                  t[2] && (i.title = t[2]),
                                  void n.trigger('data', i)
                                );
                              if (
                                (t = /^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(
                                  e,
                                ))
                              )
                                return (
                                  (i = {
                                    type: 'tag',
                                    tagType: 'targetduration',
                                  }),
                                  t[1] && (i.duration = parseInt(t[1], 10)),
                                  void n.trigger('data', i)
                                );
                              if ((t = /^#EXT-X-VERSION:?([0-9.]*)?/.exec(e)))
                                return (
                                  (i = { type: 'tag', tagType: 'version' }),
                                  t[1] && (i.version = parseInt(t[1], 10)),
                                  void n.trigger('data', i)
                                );
                              if (
                                (t =
                                  /^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(
                                    e,
                                  ))
                              )
                                return (
                                  (i = {
                                    type: 'tag',
                                    tagType: 'media-sequence',
                                  }),
                                  t[1] && (i.number = parseInt(t[1], 10)),
                                  void n.trigger('data', i)
                                );
                              if (
                                (t =
                                  /^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(
                                    e,
                                  ))
                              )
                                return (
                                  (i = {
                                    type: 'tag',
                                    tagType: 'discontinuity-sequence',
                                  }),
                                  t[1] && (i.number = parseInt(t[1], 10)),
                                  void n.trigger('data', i)
                                );
                              if ((t = /^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(e)))
                                return (
                                  (i = {
                                    type: 'tag',
                                    tagType: 'playlist-type',
                                  }),
                                  t[1] && (i.playlistType = t[1]),
                                  void n.trigger('data', i)
                                );
                              if ((t = /^#EXT-X-BYTERANGE:?(.*)?$/.exec(e)))
                                return (
                                  (i = o(R(t[1]), {
                                    type: 'tag',
                                    tagType: 'byterange',
                                  })),
                                  void n.trigger('data', i)
                                );
                              if (
                                (t = /^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(e))
                              )
                                return (
                                  (i = { type: 'tag', tagType: 'allow-cache' }),
                                  t[1] && (i.allowed = !/NO/.test(t[1])),
                                  void n.trigger('data', i)
                                );
                              if ((t = /^#EXT-X-MAP:?(.*)$/.exec(e))) {
                                if (
                                  ((i = { type: 'tag', tagType: 'map' }), t[1])
                                ) {
                                  var s = O(t[1]);
                                  s.URI && (i.uri = s.URI),
                                    s.BYTERANGE &&
                                      (i.byterange = R(s.BYTERANGE));
                                }
                                n.trigger('data', i);
                              } else if (
                                (t = /^#EXT-X-STREAM-INF:?(.*)$/.exec(e))
                              ) {
                                if (
                                  ((i = { type: 'tag', tagType: 'stream-inf' }),
                                  t[1])
                                ) {
                                  if (
                                    ((i.attributes = O(t[1])),
                                    i.attributes.RESOLUTION)
                                  ) {
                                    var a = i.attributes.RESOLUTION.split('x'),
                                      l = {};
                                    a[0] && (l.width = parseInt(a[0], 10)),
                                      a[1] && (l.height = parseInt(a[1], 10)),
                                      (i.attributes.RESOLUTION = l);
                                  }
                                  i.attributes.BANDWIDTH &&
                                    (i.attributes.BANDWIDTH = parseInt(
                                      i.attributes.BANDWIDTH,
                                      10,
                                    )),
                                    i.attributes['PROGRAM-ID'] &&
                                      (i.attributes['PROGRAM-ID'] = parseInt(
                                        i.attributes['PROGRAM-ID'],
                                        10,
                                      ));
                                }
                                n.trigger('data', i);
                              } else {
                                if ((t = /^#EXT-X-MEDIA:?(.*)$/.exec(e)))
                                  return (
                                    (i = { type: 'tag', tagType: 'media' }),
                                    t[1] && (i.attributes = O(t[1])),
                                    void n.trigger('data', i)
                                  );
                                if ((t = /^#EXT-X-ENDLIST/.exec(e)))
                                  n.trigger('data', {
                                    type: 'tag',
                                    tagType: 'endlist',
                                  });
                                else if ((t = /^#EXT-X-DISCONTINUITY/.exec(e)))
                                  n.trigger('data', {
                                    type: 'tag',
                                    tagType: 'discontinuity',
                                  });
                                else {
                                  if (
                                    (t =
                                      /^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/.exec(
                                        e,
                                      ))
                                  )
                                    return (
                                      (i = {
                                        type: 'tag',
                                        tagType: 'program-date-time',
                                      }),
                                      t[1] &&
                                        ((i.dateTimeString = t[1]),
                                        (i.dateTimeObject = new Date(t[1]))),
                                      void n.trigger('data', i)
                                    );
                                  if ((t = /^#EXT-X-KEY:?(.*)$/.exec(e)))
                                    return (
                                      (i = { type: 'tag', tagType: 'key' }),
                                      t[1] &&
                                        ((i.attributes = O(t[1])),
                                        i.attributes.IV &&
                                          ('0x' ===
                                            i.attributes.IV.substring(
                                              0,
                                              2,
                                            ).toLowerCase() &&
                                            (i.attributes.IV =
                                              i.attributes.IV.substring(2)),
                                          (i.attributes.IV =
                                            i.attributes.IV.match(/.{8}/g)),
                                          (i.attributes.IV[0] = parseInt(
                                            i.attributes.IV[0],
                                            16,
                                          )),
                                          (i.attributes.IV[1] = parseInt(
                                            i.attributes.IV[1],
                                            16,
                                          )),
                                          (i.attributes.IV[2] = parseInt(
                                            i.attributes.IV[2],
                                            16,
                                          )),
                                          (i.attributes.IV[3] = parseInt(
                                            i.attributes.IV[3],
                                            16,
                                          )),
                                          (i.attributes.IV = new Uint32Array(
                                            i.attributes.IV,
                                          )))),
                                      void n.trigger('data', i)
                                    );
                                  if ((t = /^#EXT-X-START:?(.*)$/.exec(e)))
                                    return (
                                      (i = { type: 'tag', tagType: 'start' }),
                                      t[1] &&
                                        ((i.attributes = O(t[1])),
                                        (i.attributes['TIME-OFFSET'] =
                                          parseFloat(
                                            i.attributes['TIME-OFFSET'],
                                          )),
                                        (i.attributes.PRECISE = /YES/.test(
                                          i.attributes.PRECISE,
                                        ))),
                                      void n.trigger('data', i)
                                    );
                                  if (
                                    (t = /^#EXT-X-CUE-OUT-CONT:?(.*)?$/.exec(e))
                                  )
                                    return (
                                      (i = {
                                        type: 'tag',
                                        tagType: 'cue-out-cont',
                                      }),
                                      t[1] ? (i.data = t[1]) : (i.data = ''),
                                      void n.trigger('data', i)
                                    );
                                  if ((t = /^#EXT-X-CUE-OUT:?(.*)?$/.exec(e)))
                                    return (
                                      (i = { type: 'tag', tagType: 'cue-out' }),
                                      t[1] ? (i.data = t[1]) : (i.data = ''),
                                      void n.trigger('data', i)
                                    );
                                  if ((t = /^#EXT-X-CUE-IN:?(.*)?$/.exec(e)))
                                    return (
                                      (i = { type: 'tag', tagType: 'cue-in' }),
                                      t[1] ? (i.data = t[1]) : (i.data = ''),
                                      void n.trigger('data', i)
                                    );
                                  if (
                                    (t = /^#EXT-X-SKIP:(.*)$/.exec(e)) &&
                                    t[1]
                                  )
                                    return (
                                      ((i = {
                                        type: 'tag',
                                        tagType: 'skip',
                                      }).attributes = O(t[1])),
                                      i.attributes.hasOwnProperty(
                                        'SKIPPED-SEGMENTS',
                                      ) &&
                                        (i.attributes['SKIPPED-SEGMENTS'] =
                                          parseInt(
                                            i.attributes['SKIPPED-SEGMENTS'],
                                            10,
                                          )),
                                      i.attributes.hasOwnProperty(
                                        'RECENTLY-REMOVED-DATERANGES',
                                      ) &&
                                        (i.attributes[
                                          'RECENTLY-REMOVED-DATERANGES'
                                        ] =
                                          i.attributes[
                                            'RECENTLY-REMOVED-DATERANGES'
                                          ].split(D)),
                                      void n.trigger('data', i)
                                    );
                                  if (
                                    (t = /^#EXT-X-PART:(.*)$/.exec(e)) &&
                                    t[1]
                                  )
                                    return (
                                      ((i = {
                                        type: 'tag',
                                        tagType: 'part',
                                      }).attributes = O(t[1])),
                                      ['DURATION'].forEach(function (e) {
                                        i.attributes.hasOwnProperty(e) &&
                                          (i.attributes[e] = parseFloat(
                                            i.attributes[e],
                                          ));
                                      }),
                                      ['INDEPENDENT', 'GAP'].forEach(
                                        function (e) {
                                          i.attributes.hasOwnProperty(e) &&
                                            (i.attributes[e] = /YES/.test(
                                              i.attributes[e],
                                            ));
                                        },
                                      ),
                                      i.attributes.hasOwnProperty(
                                        'BYTERANGE',
                                      ) &&
                                        (i.attributes.byterange = R(
                                          i.attributes.BYTERANGE,
                                        )),
                                      void n.trigger('data', i)
                                    );
                                  if (
                                    (t = /^#EXT-X-SERVER-CONTROL:(.*)$/.exec(
                                      e,
                                    )) &&
                                    t[1]
                                  )
                                    return (
                                      ((i = {
                                        type: 'tag',
                                        tagType: 'server-control',
                                      }).attributes = O(t[1])),
                                      [
                                        'CAN-SKIP-UNTIL',
                                        'PART-HOLD-BACK',
                                        'HOLD-BACK',
                                      ].forEach(function (e) {
                                        i.attributes.hasOwnProperty(e) &&
                                          (i.attributes[e] = parseFloat(
                                            i.attributes[e],
                                          ));
                                      }),
                                      [
                                        'CAN-SKIP-DATERANGES',
                                        'CAN-BLOCK-RELOAD',
                                      ].forEach(function (e) {
                                        i.attributes.hasOwnProperty(e) &&
                                          (i.attributes[e] = /YES/.test(
                                            i.attributes[e],
                                          ));
                                      }),
                                      void n.trigger('data', i)
                                    );
                                  if (
                                    (t = /^#EXT-X-PART-INF:(.*)$/.exec(e)) &&
                                    t[1]
                                  )
                                    return (
                                      ((i = {
                                        type: 'tag',
                                        tagType: 'part-inf',
                                      }).attributes = O(t[1])),
                                      ['PART-TARGET'].forEach(function (e) {
                                        i.attributes.hasOwnProperty(e) &&
                                          (i.attributes[e] = parseFloat(
                                            i.attributes[e],
                                          ));
                                      }),
                                      void n.trigger('data', i)
                                    );
                                  if (
                                    (t = /^#EXT-X-PRELOAD-HINT:(.*)$/.exec(
                                      e,
                                    )) &&
                                    t[1]
                                  )
                                    return (
                                      ((i = {
                                        type: 'tag',
                                        tagType: 'preload-hint',
                                      }).attributes = O(t[1])),
                                      [
                                        'BYTERANGE-START',
                                        'BYTERANGE-LENGTH',
                                      ].forEach(function (e) {
                                        if (i.attributes.hasOwnProperty(e)) {
                                          i.attributes[e] = parseInt(
                                            i.attributes[e],
                                            10,
                                          );
                                          var t =
                                            'BYTERANGE-LENGTH' === e
                                              ? 'length'
                                              : 'offset';
                                          (i.attributes.byterange =
                                            i.attributes.byterange || {}),
                                            (i.attributes.byterange[t] =
                                              i.attributes[e]),
                                            delete i.attributes[e];
                                        }
                                      }),
                                      void n.trigger('data', i)
                                    );
                                  if (
                                    (t = /^#EXT-X-RENDITION-REPORT:(.*)$/.exec(
                                      e,
                                    )) &&
                                    t[1]
                                  )
                                    return (
                                      ((i = {
                                        type: 'tag',
                                        tagType: 'rendition-report',
                                      }).attributes = O(t[1])),
                                      ['LAST-MSN', 'LAST-PART'].forEach(
                                        function (e) {
                                          i.attributes.hasOwnProperty(e) &&
                                            (i.attributes[e] = parseInt(
                                              i.attributes[e],
                                              10,
                                            ));
                                        },
                                      ),
                                      void n.trigger('data', i)
                                    );
                                  n.trigger('data', {
                                    type: 'tag',
                                    data: e.slice(4),
                                  });
                                }
                              }
                            }
                          else
                            n.trigger('data', {
                              type: 'comment',
                              text: e.slice(1),
                            });
                        })
                    : this.trigger('data', { type: 'uri', uri: e }));
              }),
              (i.addParser = function (e) {
                var t = this,
                  i = e.expression,
                  n = e.customType,
                  r = e.dataParser,
                  s = e.segment;
                'function' != typeof r &&
                  (r = function (e) {
                    return e;
                  }),
                  this.customParsers.push(function (e) {
                    if (i.exec(e))
                      return (
                        t.trigger('data', {
                          type: 'custom',
                          data: r(e),
                          customType: n,
                          segment: s,
                        }),
                        !0
                      );
                  });
              }),
              (i.addTagMapper = function (e) {
                var t = e.expression,
                  i = e.map;
                this.tagMappers.push(function (e) {
                  return t.test(e) ? i(e) : e;
                });
              }),
              t
            );
          })(E),
          N = function (e) {
            var t = {};
            return (
              Object.keys(e).forEach(function (i) {
                var n;
                t[
                  ((n = i),
                  n.toLowerCase().replace(/-(\w)/g, function (e) {
                    return e[1].toUpperCase();
                  }))
                ] = e[i];
              }),
              t
            );
          },
          B = function (e) {
            var t = e.serverControl,
              i = e.targetDuration,
              n = e.partTargetDuration;
            if (t) {
              var r = '#EXT-X-SERVER-CONTROL',
                s = 'holdBack',
                a = 'partHoldBack',
                o = i && 3 * i,
                l = n && 2 * n;
              i &&
                !t.hasOwnProperty(s) &&
                ((t[s] = o),
                this.trigger('info', {
                  message:
                    r +
                    ' defaulting HOLD-BACK to targetDuration * 3 (' +
                    o +
                    ').',
                })),
                o &&
                  t[s] < o &&
                  (this.trigger('warn', {
                    message:
                      r +
                      ' clamping HOLD-BACK (' +
                      t[s] +
                      ') to targetDuration * 3 (' +
                      o +
                      ')',
                  }),
                  (t[s] = o)),
                n &&
                  !t.hasOwnProperty(a) &&
                  ((t[a] = 3 * n),
                  this.trigger('info', {
                    message:
                      r +
                      ' defaulting PART-HOLD-BACK to partTargetDuration * 3 (' +
                      t[a] +
                      ').',
                  })),
                n &&
                  t[a] < l &&
                  (this.trigger('warn', {
                    message:
                      r +
                      ' clamping PART-HOLD-BACK (' +
                      t[a] +
                      ') to partTargetDuration * 2 (' +
                      l +
                      ').',
                  }),
                  (t[a] = l));
            }
          },
          U = (function (e) {
            function t() {
              var t;
              ((t = e.call(this) || this).lineStream = new L()),
                (t.parseStream = new M()),
                t.lineStream.pipe(t.parseStream);
              var i,
                n,
                r = l(t),
                s = [],
                a = {},
                u = !1,
                d = function () {},
                c = {
                  AUDIO: {},
                  VIDEO: {},
                  'CLOSED-CAPTIONS': {},
                  SUBTITLES: {},
                },
                h = 0;
              t.manifest = {
                allowCache: !0,
                discontinuityStarts: [],
                segments: [],
              };
              var p = 0,
                f = 0;
              return (
                t.on('end', function () {
                  a.uri ||
                    (!a.parts && !a.preloadHints) ||
                    (!a.map && i && (a.map = i),
                    !a.key && n && (a.key = n),
                    a.timeline || 'number' != typeof h || (a.timeline = h),
                    (t.manifest.preloadSegment = a));
                }),
                t.parseStream.on('data', function (e) {
                  var t, l;
                  ({
                    tag: function () {
                      (
                        ({
                          version: function () {
                            e.version && (this.manifest.version = e.version);
                          },
                          'allow-cache': function () {
                            (this.manifest.allowCache = e.allowed),
                              'allowed' in e ||
                                (this.trigger('info', {
                                  message: 'defaulting allowCache to YES',
                                }),
                                (this.manifest.allowCache = !0));
                          },
                          byterange: function () {
                            var t = {};
                            'length' in e &&
                              ((a.byterange = t),
                              (t.length = e.length),
                              'offset' in e || (e.offset = p)),
                              'offset' in e &&
                                ((a.byterange = t), (t.offset = e.offset)),
                              (p = t.offset + t.length);
                          },
                          endlist: function () {
                            this.manifest.endList = !0;
                          },
                          inf: function () {
                            'mediaSequence' in this.manifest ||
                              ((this.manifest.mediaSequence = 0),
                              this.trigger('info', {
                                message: 'defaulting media sequence to zero',
                              })),
                              'discontinuitySequence' in this.manifest ||
                                ((this.manifest.discontinuitySequence = 0),
                                this.trigger('info', {
                                  message:
                                    'defaulting discontinuity sequence to zero',
                                })),
                              e.duration > 0 && (a.duration = e.duration),
                              0 === e.duration &&
                                ((a.duration = 0.01),
                                this.trigger('info', {
                                  message:
                                    'updating zero segment duration to a small value',
                                })),
                              (this.manifest.segments = s);
                          },
                          key: function () {
                            if (e.attributes)
                              if ('NONE' !== e.attributes.METHOD)
                                if (e.attributes.URI) {
                                  if (
                                    'urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed' ===
                                    e.attributes.KEYFORMAT
                                  ) {
                                    return -1 ===
                                      [
                                        'SAMPLE-AES',
                                        'SAMPLE-AES-CTR',
                                        'SAMPLE-AES-CENC',
                                      ].indexOf(e.attributes.METHOD)
                                      ? void this.trigger('warn', {
                                          message:
                                            'invalid key method provided for Widevine',
                                        })
                                      : ('SAMPLE-AES-CENC' ===
                                          e.attributes.METHOD &&
                                          this.trigger('warn', {
                                            message:
                                              'SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead',
                                          }),
                                        'data:text/plain;base64,' !==
                                        e.attributes.URI.substring(0, 23)
                                          ? void this.trigger('warn', {
                                              message:
                                                'invalid key URI provided for Widevine',
                                            })
                                          : e.attributes.KEYID &&
                                              '0x' ===
                                                e.attributes.KEYID.substring(
                                                  0,
                                                  2,
                                                )
                                            ? void (this.manifest.contentProtection =
                                                {
                                                  'com.widevine.alpha': {
                                                    attributes: {
                                                      schemeIdUri:
                                                        e.attributes.KEYFORMAT,
                                                      keyId:
                                                        e.attributes.KEYID.substring(
                                                          2,
                                                        ),
                                                    },
                                                    pssh: j(
                                                      e.attributes.URI.split(
                                                        ',',
                                                      )[1],
                                                    ),
                                                  },
                                                })
                                            : void this.trigger('warn', {
                                                message:
                                                  'invalid key ID provided for Widevine',
                                              }));
                                  }
                                  e.attributes.METHOD ||
                                    this.trigger('warn', {
                                      message:
                                        'defaulting key method to AES-128',
                                    }),
                                    (n = {
                                      method: e.attributes.METHOD || 'AES-128',
                                      uri: e.attributes.URI,
                                    }),
                                    void 0 !== e.attributes.IV &&
                                      (n.iv = e.attributes.IV);
                                } else
                                  this.trigger('warn', {
                                    message:
                                      'ignoring key declaration without URI',
                                  });
                              else n = null;
                            else
                              this.trigger('warn', {
                                message:
                                  'ignoring key declaration without attribute list',
                              });
                          },
                          'media-sequence': function () {
                            isFinite(e.number)
                              ? (this.manifest.mediaSequence = e.number)
                              : this.trigger('warn', {
                                  message:
                                    'ignoring invalid media sequence: ' +
                                    e.number,
                                });
                          },
                          'discontinuity-sequence': function () {
                            isFinite(e.number)
                              ? ((this.manifest.discontinuitySequence =
                                  e.number),
                                (h = e.number))
                              : this.trigger('warn', {
                                  message:
                                    'ignoring invalid discontinuity sequence: ' +
                                    e.number,
                                });
                          },
                          'playlist-type': function () {
                            /VOD|EVENT/.test(e.playlistType)
                              ? (this.manifest.playlistType = e.playlistType)
                              : this.trigger('warn', {
                                  message:
                                    'ignoring unknown playlist type: ' +
                                    e.playlist,
                                });
                          },
                          map: function () {
                            (i = {}),
                              e.uri && (i.uri = e.uri),
                              e.byterange && (i.byterange = e.byterange);
                          },
                          'stream-inf': function () {
                            (this.manifest.playlists = s),
                              (this.manifest.mediaGroups =
                                this.manifest.mediaGroups || c),
                              e.attributes
                                ? (a.attributes || (a.attributes = {}),
                                  o(a.attributes, e.attributes))
                                : this.trigger('warn', {
                                    message:
                                      'ignoring empty stream-inf attributes',
                                  });
                          },
                          media: function () {
                            if (
                              ((this.manifest.mediaGroups =
                                this.manifest.mediaGroups || c),
                              e.attributes &&
                                e.attributes.TYPE &&
                                e.attributes['GROUP-ID'] &&
                                e.attributes.NAME)
                            ) {
                              var i =
                                this.manifest.mediaGroups[e.attributes.TYPE];
                              (i[e.attributes['GROUP-ID']] =
                                i[e.attributes['GROUP-ID']] || {}),
                                (t = i[e.attributes['GROUP-ID']]),
                                (l = {
                                  default: /yes/i.test(e.attributes.DEFAULT),
                                }).default
                                  ? (l.autoselect = !0)
                                  : (l.autoselect = /yes/i.test(
                                      e.attributes.AUTOSELECT,
                                    )),
                                e.attributes.LANGUAGE &&
                                  (l.language = e.attributes.LANGUAGE),
                                e.attributes.URI && (l.uri = e.attributes.URI),
                                e.attributes['INSTREAM-ID'] &&
                                  (l.instreamId = e.attributes['INSTREAM-ID']),
                                e.attributes.CHARACTERISTICS &&
                                  (l.characteristics =
                                    e.attributes.CHARACTERISTICS),
                                e.attributes.FORCED &&
                                  (l.forced = /yes/i.test(e.attributes.FORCED)),
                                (t[e.attributes.NAME] = l);
                            } else
                              this.trigger('warn', {
                                message:
                                  'ignoring incomplete or missing media group',
                              });
                          },
                          discontinuity: function () {
                            (h += 1),
                              (a.discontinuity = !0),
                              this.manifest.discontinuityStarts.push(s.length);
                          },
                          'program-date-time': function () {
                            void 0 === this.manifest.dateTimeString &&
                              ((this.manifest.dateTimeString =
                                e.dateTimeString),
                              (this.manifest.dateTimeObject =
                                e.dateTimeObject)),
                              (a.dateTimeString = e.dateTimeString),
                              (a.dateTimeObject = e.dateTimeObject);
                          },
                          targetduration: function () {
                            !isFinite(e.duration) || e.duration < 0
                              ? this.trigger('warn', {
                                  message:
                                    'ignoring invalid target duration: ' +
                                    e.duration,
                                })
                              : ((this.manifest.targetDuration = e.duration),
                                B.call(this, this.manifest));
                          },
                          start: function () {
                            e.attributes && !isNaN(e.attributes['TIME-OFFSET'])
                              ? (this.manifest.start = {
                                  timeOffset: e.attributes['TIME-OFFSET'],
                                  precise: e.attributes.PRECISE,
                                })
                              : this.trigger('warn', {
                                  message:
                                    'ignoring start declaration without appropriate attribute list',
                                });
                          },
                          'cue-out': function () {
                            a.cueOut = e.data;
                          },
                          'cue-out-cont': function () {
                            a.cueOutCont = e.data;
                          },
                          'cue-in': function () {
                            a.cueIn = e.data;
                          },
                          skip: function () {
                            (this.manifest.skip = N(e.attributes)),
                              this.warnOnMissingAttributes_(
                                '#EXT-X-SKIP',
                                e.attributes,
                                ['SKIPPED-SEGMENTS'],
                              );
                          },
                          part: function () {
                            var t = this;
                            u = !0;
                            var i = this.manifest.segments.length,
                              n = N(e.attributes);
                            (a.parts = a.parts || []),
                              a.parts.push(n),
                              n.byterange &&
                                (n.byterange.hasOwnProperty('offset') ||
                                  (n.byterange.offset = f),
                                (f = n.byterange.offset + n.byterange.length));
                            var r = a.parts.length - 1;
                            this.warnOnMissingAttributes_(
                              '#EXT-X-PART #' + r + ' for segment #' + i,
                              e.attributes,
                              ['URI', 'DURATION'],
                            ),
                              this.manifest.renditionReports &&
                                this.manifest.renditionReports.forEach(
                                  function (e, i) {
                                    e.hasOwnProperty('lastPart') ||
                                      t.trigger('warn', {
                                        message:
                                          '#EXT-X-RENDITION-REPORT #' +
                                          i +
                                          ' lacks required attribute(s): LAST-PART',
                                      });
                                  },
                                );
                          },
                          'server-control': function () {
                            var t = (this.manifest.serverControl = N(
                              e.attributes,
                            ));
                            t.hasOwnProperty('canBlockReload') ||
                              ((t.canBlockReload = !1),
                              this.trigger('info', {
                                message:
                                  '#EXT-X-SERVER-CONTROL defaulting CAN-BLOCK-RELOAD to false',
                              })),
                              B.call(this, this.manifest),
                              t.canSkipDateranges &&
                                !t.hasOwnProperty('canSkipUntil') &&
                                this.trigger('warn', {
                                  message:
                                    '#EXT-X-SERVER-CONTROL lacks required attribute CAN-SKIP-UNTIL which is required when CAN-SKIP-DATERANGES is set',
                                });
                          },
                          'preload-hint': function () {
                            var t = this.manifest.segments.length,
                              i = N(e.attributes),
                              n = i.type && 'PART' === i.type;
                            (a.preloadHints = a.preloadHints || []),
                              a.preloadHints.push(i),
                              i.byterange &&
                                (i.byterange.hasOwnProperty('offset') ||
                                  ((i.byterange.offset = n ? f : 0),
                                  n &&
                                    (f =
                                      i.byterange.offset +
                                      i.byterange.length)));
                            var r = a.preloadHints.length - 1;
                            if (
                              (this.warnOnMissingAttributes_(
                                '#EXT-X-PRELOAD-HINT #' +
                                  r +
                                  ' for segment #' +
                                  t,
                                e.attributes,
                                ['TYPE', 'URI'],
                              ),
                              i.type)
                            )
                              for (
                                var s = 0;
                                s < a.preloadHints.length - 1;
                                s++
                              ) {
                                var o = a.preloadHints[s];
                                o.type &&
                                  o.type === i.type &&
                                  this.trigger('warn', {
                                    message:
                                      '#EXT-X-PRELOAD-HINT #' +
                                      r +
                                      ' for segment #' +
                                      t +
                                      ' has the same TYPE ' +
                                      i.type +
                                      ' as preload hint #' +
                                      s,
                                  });
                              }
                          },
                          'rendition-report': function () {
                            var t = N(e.attributes);
                            (this.manifest.renditionReports =
                              this.manifest.renditionReports || []),
                              this.manifest.renditionReports.push(t);
                            var i = this.manifest.renditionReports.length - 1,
                              n = ['LAST-MSN', 'URI'];
                            u && n.push('LAST-PART'),
                              this.warnOnMissingAttributes_(
                                '#EXT-X-RENDITION-REPORT #' + i,
                                e.attributes,
                                n,
                              );
                          },
                          'part-inf': function () {
                            (this.manifest.partInf = N(e.attributes)),
                              this.warnOnMissingAttributes_(
                                '#EXT-X-PART-INF',
                                e.attributes,
                                ['PART-TARGET'],
                              ),
                              this.manifest.partInf.partTarget &&
                                (this.manifest.partTargetDuration =
                                  this.manifest.partInf.partTarget),
                              B.call(this, this.manifest);
                          },
                        })[e.tagType] || d
                      ).call(r);
                    },
                    uri: function () {
                      (a.uri = e.uri),
                        s.push(a),
                        this.manifest.targetDuration &&
                          !('duration' in a) &&
                          (this.trigger('warn', {
                            message:
                              'defaulting segment duration to the target duration',
                          }),
                          (a.duration = this.manifest.targetDuration)),
                        n && (a.key = n),
                        (a.timeline = h),
                        i && (a.map = i),
                        (f = 0),
                        (a = {});
                    },
                    comment: function () {},
                    custom: function () {
                      e.segment
                        ? ((a.custom = a.custom || {}),
                          (a.custom[e.customType] = e.data))
                        : ((this.manifest.custom = this.manifest.custom || {}),
                          (this.manifest.custom[e.customType] = e.data));
                    },
                  })[e.type].call(r);
                }),
                t
              );
            }
            d(t, e);
            var i = t.prototype;
            return (
              (i.warnOnMissingAttributes_ = function (e, t, i) {
                var n = [];
                i.forEach(function (e) {
                  t.hasOwnProperty(e) || n.push(e);
                }),
                  n.length &&
                    this.trigger('warn', {
                      message:
                        e + ' lacks required attribute(s): ' + n.join(', '),
                    });
              }),
              (i.push = function (e) {
                this.lineStream.push(e);
              }),
              (i.end = function () {
                this.lineStream.push('\n'), this.trigger('end');
              }),
              (i.addParser = function (e) {
                this.parseStream.addParser(e);
              }),
              (i.addTagMapper = function (e) {
                this.parseStream.addTagMapper(e);
              }),
              t
            );
          })(E),
          F = {
            mp4: /^(av0?1|avc0?[1234]|vp0?9|flac|opus|mp3|mp4a|mp4v|stpp.ttml.im1t)/,
            webm: /^(vp0?[89]|av0?1|opus|vorbis)/,
            ogg: /^(vp0?[89]|theora|flac|opus|vorbis)/,
            video: /^(av0?1|avc0?[1234]|vp0?[89]|hvc1|hev1|theora|mp4v)/,
            audio: /^(mp4a|flac|vorbis|opus|ac-[34]|ec-3|alac|mp3|speex|aac)/,
            text: /^(stpp.ttml.im1t)/,
            muxerVideo: /^(avc0?1)/,
            muxerAudio: /^(mp4a)/,
            muxerText: /a^/,
          },
          W = ['video', 'audio', 'text'],
          V = ['Video', 'Audio', 'Text'],
          H = function (e) {
            return e
              ? e.replace(/avc1\.(\d+)\.(\d+)/i, function (e, t, i) {
                  return (
                    'avc1.' +
                    ('00' + Number(t).toString(16)).slice(-2) +
                    '00' +
                    ('00' + Number(i).toString(16)).slice(-2)
                  );
                })
              : e;
          },
          q = function (e) {
            void 0 === e && (e = '');
            var t = e.split(','),
              i = [];
            return (
              t.forEach(function (e) {
                var t;
                (e = e.trim()),
                  W.forEach(function (n) {
                    var r = F[n].exec(e.toLowerCase());
                    if (r && !(r.length <= 1)) {
                      t = n;
                      var s = e.substring(0, r[1].length),
                        a = e.replace(s, '');
                      i.push({ type: s, details: a, mediaType: n });
                    }
                  }),
                  t || i.push({ type: e, details: '', mediaType: 'unknown' });
              }),
              i
            );
          },
          z = function (e) {
            return (
              void 0 === e && (e = ''), F.audio.test(e.trim().toLowerCase())
            );
          },
          K = function (e) {
            if (e && 'string' == typeof e) {
              var t,
                i = e
                  .toLowerCase()
                  .split(',')
                  .map(function (e) {
                    return H(e.trim());
                  }),
                n = 'video';
              1 === i.length && z(i[0])
                ? (n = 'audio')
                : 1 === i.length &&
                  (void 0 === (t = i[0]) && (t = ''),
                  F.text.test(t.trim().toLowerCase())) &&
                  (n = 'application');
              var r = 'mp4';
              return (
                i.every(function (e) {
                  return F.mp4.test(e);
                })
                  ? (r = 'mp4')
                  : i.every(function (e) {
                        return F.webm.test(e);
                      })
                    ? (r = 'webm')
                    : i.every(function (e) {
                        return F.ogg.test(e);
                      }) && (r = 'ogg'),
                n + '/' + r + ';codecs="' + e + '"'
              );
            }
          },
          X = function (e) {
            return (
              void 0 === e && (e = ''),
              (k().MediaSource &&
                k().MediaSource.isTypeSupported &&
                k().MediaSource.isTypeSupported(K(e))) ||
                !1
            );
          },
          Q = function (e) {
            return (
              void 0 === e && (e = ''),
              e
                .toLowerCase()
                .split(',')
                .every(function (e) {
                  e = e.trim();
                  for (var t = 0; t < V.length; t++) {
                    if (F['muxer' + V[t]].test(e)) return !0;
                  }
                  return !1;
                })
            );
          },
          G = 'mp4a.40.2',
          Y = /^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i,
          J = /^application\/dash\+xml/i,
          Z = function (e) {
            return Y.test(e)
              ? 'hls'
              : J.test(e)
                ? 'dash'
                : 'application/vnd.videojs.vhs+json' === e
                  ? 'vhs-json'
                  : null;
          },
          $ = i(647),
          ee = function (e) {
            return !!e && 'object' == typeof e;
          },
          te = function e() {
            for (var t = arguments.length, i = new Array(t), n = 0; n < t; n++)
              i[n] = arguments[n];
            return i.reduce(function (t, i) {
              return (
                'object' != typeof i ||
                  Object.keys(i).forEach(function (n) {
                    Array.isArray(t[n]) && Array.isArray(i[n])
                      ? (t[n] = t[n].concat(i[n]))
                      : ee(t[n]) && ee(i[n])
                        ? (t[n] = e(t[n], i[n]))
                        : (t[n] = i[n]);
                  }),
                t
              );
            }, {});
          },
          ie = function (e) {
            return e.reduce(function (e, t) {
              return e.concat(t);
            }, []);
          },
          ne = function (e) {
            if (!e.length) return [];
            for (var t = [], i = 0; i < e.length; i++) t.push(e[i]);
            return t;
          },
          re = 'INVALID_NUMBER_OF_PERIOD',
          se = 'DASH_EMPTY_MANIFEST',
          ae = 'DASH_INVALID_XML',
          oe = 'NO_BASE_URL',
          le = 'SEGMENT_TIME_UNSPECIFIED',
          ue = 'UNSUPPORTED_UTC_TIMING_SCHEME',
          de = function (e) {
            var t = e.baseUrl,
              i = void 0 === t ? '' : t,
              n = e.source,
              r = void 0 === n ? '' : n,
              s = e.range,
              a = void 0 === s ? '' : s,
              o = e.indexRange,
              l = void 0 === o ? '' : o,
              u = { uri: r, resolvedUri: C(i || '', r) };
            if (a || l) {
              var d = (a || l).split('-'),
                c = parseInt(d[0], 10),
                h = parseInt(d[1], 10);
              u.byterange = { length: h - c + 1, offset: c };
            }
            return u;
          },
          ce = function (e) {
            return (
              e && 'number' != typeof e && (e = parseInt(e, 10)),
              isNaN(e) ? null : e
            );
          },
          he = {
            static: function (e) {
              var t = e.duration,
                i = e.timescale,
                n = void 0 === i ? 1 : i,
                r = e.sourceDuration,
                s = ce(e.endNumber);
              return {
                start: 0,
                end: 'number' == typeof s ? s : Math.ceil(r / (t / n)),
              };
            },
            dynamic: function (e) {
              var t = e.NOW,
                i = e.clientOffset,
                n = e.availabilityStartTime,
                r = e.timescale,
                s = void 0 === r ? 1 : r,
                a = e.duration,
                o = e.start,
                l = void 0 === o ? 0 : o,
                u = e.minimumUpdatePeriod,
                d = void 0 === u ? 0 : u,
                c = e.timeShiftBufferDepth,
                h = void 0 === c ? 1 / 0 : c,
                p = ce(e.endNumber),
                f = (t + i) / 1e3,
                m = n + l,
                g = f + d - m,
                v = Math.ceil((g * s) / a),
                y = Math.floor(((f - m - h) * s) / a),
                A = Math.floor(((f - m) * s) / a);
              return {
                start: Math.max(0, y),
                end: 'number' == typeof p ? p : Math.min(v, A),
              };
            },
          },
          pe = function (e) {
            var t = e.type,
              i = void 0 === t ? 'static' : t,
              n = e.duration,
              r = e.timescale,
              s = void 0 === r ? 1 : r,
              a = e.sourceDuration,
              o = he[i](e),
              l = (function (e, t) {
                for (var i = [], n = e; n < t; n++) i.push(n);
                return i;
              })(o.start, o.end).map(
                (function (e) {
                  return function (t, i) {
                    var n = e.duration,
                      r = e.timescale,
                      s = void 0 === r ? 1 : r,
                      a = e.periodIndex,
                      o = e.startNumber;
                    return {
                      number: (void 0 === o ? 1 : o) + t,
                      duration: n / s,
                      timeline: a,
                      time: i * n,
                    };
                  };
                })(e),
              );
            if ('static' === i) {
              var u = l.length - 1;
              l[u].duration = a - (n / s) * u;
            }
            return l;
          },
          fe = function (e) {
            var t = e.baseUrl,
              i = e.initialization,
              n = void 0 === i ? {} : i,
              r = e.sourceDuration,
              s = e.indexRange,
              a = void 0 === s ? '' : s,
              o = e.duration;
            if (!t) throw new Error(oe);
            var l = de({ baseUrl: t, source: n.sourceURL, range: n.range }),
              u = de({ baseUrl: t, source: t, indexRange: a });
            if (((u.map = l), o)) {
              var d = pe(e);
              d.length &&
                ((u.duration = d[0].duration), (u.timeline = d[0].timeline));
            } else r && ((u.duration = r), (u.timeline = 0));
            return (u.number = 0), [u];
          },
          me = function (e, t, i) {
            for (
              var n = e.sidx.map ? e.sidx.map : null,
                r = e.sidx.duration,
                s = e.timeline || 0,
                a = e.sidx.byterange,
                o = a.offset + a.length,
                l = t.timescale,
                u = t.references.filter(function (e) {
                  return 1 !== e.referenceType;
                }),
                d = [],
                c = o + t.firstOffset,
                h = 0;
              h < u.length;
              h++
            ) {
              var p = t.references[h],
                f = p.referencedSize,
                m = p.subsegmentDuration,
                g = fe({
                  baseUrl: i,
                  timescale: l,
                  timeline: s,
                  periodIndex: s,
                  duration: m,
                  sourceDuration: r,
                  indexRange: c + '-' + (c + f - 1),
                })[0];
              n && (g.map = n), d.push(g), (c += f);
            }
            return (e.segments = d), e;
          },
          ge = function (e) {
            return (
              e &&
              e.uri +
                '-' +
                ((t = e.byterange),
                (i = t.offset + t.length - 1),
                t.offset + '-' + i)
            );
            var t, i;
          },
          ve = function (e) {
            var t;
            return ((t = e.reduce(function (e, t) {
              var i,
                n = t.attributes.id + (t.attributes.lang || '');
              return (
                e[n]
                  ? (t.segments[0] && (t.segments[0].discontinuity = !0),
                    (i = e[n].segments).push.apply(i, t.segments),
                    t.attributes.contentProtection &&
                      (e[n].attributes.contentProtection =
                        t.attributes.contentProtection))
                  : (e[n] = t),
                e
              );
            }, {})),
            Object.keys(t).map(function (e) {
              return t[e];
            })).map(function (e) {
              var t, i;
              return (
                (e.discontinuityStarts =
                  ((t = e.segments),
                  (i = 'discontinuity'),
                  t.reduce(function (e, t, n) {
                    return t[i] && e.push(n), e;
                  }, []))),
                e
              );
            });
          },
          ye = function (e, t) {
            var i = ge(e.sidx),
              n = i && t[i] && t[i].sidx;
            return n && me(e, n, e.sidx.resolvedUri), e;
          },
          Ae = function (e, t) {
            if ((void 0 === t && (t = {}), !Object.keys(t).length)) return e;
            for (var i in e) e[i] = ye(e[i], t);
            return e;
          },
          be = function (e) {
            var t,
              i = e.attributes,
              n = e.segments,
              r = e.sidx,
              s = {
                attributes:
                  ((t = {
                    NAME: i.id,
                    AUDIO: 'audio',
                    SUBTITLES: 'subs',
                    RESOLUTION: { width: i.width, height: i.height },
                    CODECS: i.codecs,
                    BANDWIDTH: i.bandwidth,
                  }),
                  (t['PROGRAM-ID'] = 1),
                  t),
                uri: '',
                endList: 'static' === (i.type || 'static'),
                timeline: i.periodIndex,
                resolvedUri: '',
                targetDuration: i.duration,
                segments: n,
                mediaSequence: n.length ? n[0].number : 1,
              };
            return (
              i.contentProtection &&
                (s.contentProtection = i.contentProtection),
              r && (s.sidx = r),
              s
            );
          },
          Te = function (e) {
            var t = e.attributes;
            return (
              'video/mp4' === t.mimeType ||
              'video/webm' === t.mimeType ||
              'video' === t.contentType
            );
          },
          Se = function (e) {
            var t = e.attributes;
            return (
              'audio/mp4' === t.mimeType ||
              'audio/webm' === t.mimeType ||
              'audio' === t.contentType
            );
          },
          we = function (e) {
            var t = e.attributes;
            return 'text/vtt' === t.mimeType || 'text' === t.contentType;
          },
          ke = function (e, t, i) {
            var n;
            if ((void 0 === i && (i = {}), !e.length)) return {};
            var r = e[0].attributes,
              s = r.sourceDuration,
              a = r.type,
              o = void 0 === a ? 'static' : a,
              l = r.suggestedPresentationDelay,
              u = r.minimumUpdatePeriod,
              d = ve(e.filter(Te)).map(be),
              c = ve(e.filter(Se)),
              h = e.filter(we),
              p = {
                allowCache: !0,
                discontinuityStarts: [],
                segments: [],
                endList: !0,
                mediaGroups:
                  ((n = { AUDIO: {}, VIDEO: {} }),
                  (n['CLOSED-CAPTIONS'] = {}),
                  (n.SUBTITLES = {}),
                  n),
                uri: '',
                duration: s,
                playlists: Ae(d, i),
              };
            u >= 0 && (p.minimumUpdatePeriod = 1e3 * u),
              t && (p.locations = t),
              'dynamic' === o && (p.suggestedPresentationDelay = l);
            var f = 0 === p.playlists.length;
            return (
              c.length &&
                (p.mediaGroups.AUDIO.audio = (function (e, t, i) {
                  var n;
                  void 0 === t && (t = {}), void 0 === i && (i = !1);
                  var r = e.reduce(function (e, r) {
                    var s =
                        (r.attributes.role && r.attributes.role.value) || '',
                      a = r.attributes.lang || '',
                      o = r.attributes.label || 'main';
                    if (a && !r.attributes.label) {
                      var l = s ? ' (' + s + ')' : '';
                      o = '' + r.attributes.lang + l;
                    }
                    e[o] ||
                      (e[o] = {
                        language: a,
                        autoselect: !0,
                        default: 'main' === s,
                        playlists: [],
                        uri: '',
                      });
                    var u = ye(
                      (function (e, t) {
                        var i,
                          n = e.attributes,
                          r = e.segments,
                          s = e.sidx,
                          a = {
                            attributes:
                              ((i = {
                                NAME: n.id,
                                BANDWIDTH: n.bandwidth,
                                CODECS: n.codecs,
                              }),
                              (i['PROGRAM-ID'] = 1),
                              i),
                            uri: '',
                            endList: 'static' === (n.type || 'static'),
                            timeline: n.periodIndex,
                            resolvedUri: '',
                            targetDuration: n.duration,
                            segments: r,
                            mediaSequence: r.length ? r[0].number : 1,
                          };
                        return (
                          n.contentProtection &&
                            (a.contentProtection = n.contentProtection),
                          s && (a.sidx = s),
                          t &&
                            ((a.attributes.AUDIO = 'audio'),
                            (a.attributes.SUBTITLES = 'subs')),
                          a
                        );
                      })(r, i),
                      t,
                    );
                    return (
                      e[o].playlists.push(u),
                      void 0 === n && 'main' === s && ((n = r).default = !0),
                      e
                    );
                  }, {});
                  return n || (r[Object.keys(r)[0]].default = !0), r;
                })(c, i, f)),
              h.length &&
                (p.mediaGroups.SUBTITLES.subs = (function (e, t) {
                  return (
                    void 0 === t && (t = {}),
                    e.reduce(function (e, i) {
                      var n = i.attributes.lang || 'text';
                      return (
                        e[n] ||
                          (e[n] = {
                            language: n,
                            default: !1,
                            autoselect: !1,
                            playlists: [],
                            uri: '',
                          }),
                        e[n].playlists.push(
                          ye(
                            (function (e) {
                              var t,
                                i = e.attributes,
                                n = e.segments;
                              void 0 === n &&
                                ((n = [
                                  {
                                    uri: i.baseUrl,
                                    timeline: i.periodIndex,
                                    resolvedUri: i.baseUrl || '',
                                    duration: i.sourceDuration,
                                    number: 0,
                                  },
                                ]),
                                (i.duration = i.sourceDuration));
                              var r =
                                (((t = { NAME: i.id, BANDWIDTH: i.bandwidth })[
                                  'PROGRAM-ID'
                                ] = 1),
                                t);
                              return (
                                i.codecs && (r.CODECS = i.codecs),
                                {
                                  attributes: r,
                                  uri: '',
                                  endList: 'static' === (i.type || 'static'),
                                  timeline: i.periodIndex,
                                  resolvedUri: i.baseUrl || '',
                                  targetDuration: i.duration,
                                  segments: n,
                                  mediaSequence: n.length ? n[0].number : 1,
                                }
                              );
                            })(i),
                            t,
                          ),
                        ),
                        e
                      );
                    }, {})
                  );
                })(h, i)),
              p
            );
          },
          _e = function (e, t, i) {
            var n = e.NOW,
              r = e.clientOffset,
              s = e.availabilityStartTime,
              a = e.timescale,
              o = void 0 === a ? 1 : a,
              l = e.start,
              u = void 0 === l ? 0 : l,
              d = e.minimumUpdatePeriod,
              c = (n + r) / 1e3 + (void 0 === d ? 0 : d) - (s + u);
            return Math.ceil((c * o - t) / i);
          },
          Ce = function (e, t) {
            for (
              var i = e.type,
                n = void 0 === i ? 'static' : i,
                r = e.minimumUpdatePeriod,
                s = void 0 === r ? 0 : r,
                a = e.media,
                o = void 0 === a ? '' : a,
                l = e.sourceDuration,
                u = e.timescale,
                d = void 0 === u ? 1 : u,
                c = e.startNumber,
                h = void 0 === c ? 1 : c,
                p = e.periodIndex,
                f = [],
                m = -1,
                g = 0;
              g < t.length;
              g++
            ) {
              var v = t[g],
                y = v.d,
                A = v.r || 0,
                b = v.t || 0;
              m < 0 && (m = b), b && b > m && (m = b);
              var T = void 0;
              if (A < 0) {
                var S = g + 1;
                T =
                  S === t.length
                    ? 'dynamic' === n && s > 0 && o.indexOf('$Number$') > 0
                      ? _e(e, m, y)
                      : (l * d - m) / y
                    : (t[S].t - m) / y;
              } else T = A + 1;
              for (var w = h + f.length + T, k = h + f.length; k < w; )
                f.push({ number: k, duration: y / d, time: m, timeline: p }),
                  (m += y),
                  k++;
            }
            return f;
          },
          Ee = /\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,
          je = function (e, t) {
            return e.replace(
              Ee,
              (function (e) {
                return function (t, i, n, r) {
                  if ('$$' === t) return '$';
                  if (void 0 === e[i]) return t;
                  var s = '' + e[i];
                  return 'RepresentationID' === i
                    ? s
                    : ((r = n ? parseInt(r, 10) : 1),
                      s.length >= r
                        ? s
                        : '' + new Array(r - s.length + 1).join('0') + s);
                };
              })(t),
            );
          },
          Pe = function (e, t) {
            var i = { RepresentationID: e.id, Bandwidth: e.bandwidth || 0 },
              n = e.initialization,
              r = void 0 === n ? { sourceURL: '', range: '' } : n,
              s = de({
                baseUrl: e.baseUrl,
                source: je(r.sourceURL, i),
                range: r.range,
              }),
              a = (function (e, t) {
                return e.duration || t
                  ? e.duration
                    ? pe(e)
                    : Ce(e, t)
                  : [
                      {
                        number: e.startNumber || 1,
                        duration: e.sourceDuration,
                        time: 0,
                        timeline: e.periodIndex,
                      },
                    ];
              })(e, t);
            return a.map(function (t) {
              (i.Number = t.number), (i.Time = t.time);
              var n = je(e.media || '', i),
                r = {
                  uri: n,
                  timeline: t.timeline,
                  duration: t.duration,
                  resolvedUri: C(e.baseUrl || '', n),
                  map: s,
                  number: t.number,
                };
              return (
                e.presentationTimeOffset &&
                  (r.presentationTimeOffset = e.presentationTimeOffset),
                r
              );
            });
          },
          Ie = function (e, t) {
            var i = e.duration,
              n = e.segmentUrls,
              r = void 0 === n ? [] : n;
            if ((!i && !t) || (i && t)) throw new Error(le);
            var s,
              a = r.map(function (t) {
                return (function (e, t) {
                  var i = e.baseUrl,
                    n = e.initialization,
                    r = void 0 === n ? {} : n,
                    s = de({ baseUrl: i, source: r.sourceURL, range: r.range }),
                    a = de({
                      baseUrl: i,
                      source: t.media,
                      range: t.mediaRange,
                    });
                  return (a.map = s), a;
                })(e, t);
              });
            return (
              i && (s = pe(e)),
              t && (s = Ce(e, t)),
              s
                .map(function (e, t) {
                  if (a[t]) {
                    var i = a[t];
                    return (
                      (i.timeline = e.timeline),
                      (i.duration = e.duration),
                      (i.number = e.number),
                      i
                    );
                  }
                })
                .filter(function (e) {
                  return e;
                })
            );
          },
          xe = function (e) {
            var t,
              i,
              n = e.attributes,
              r = e.segmentInfo;
            r.template
              ? ((i = Pe),
                (t = te(n, r.template)),
                r.template.presentationTimeOffset &&
                  (t.presentationTimeOffset =
                    r.template.presentationTimeOffset / r.template.timescale))
              : r.base
                ? ((i = fe), (t = te(n, r.base)))
                : r.list && ((i = Ie), (t = te(n, r.list)));
            var s = { attributes: n };
            if (!i) return s;
            var a = i(t, r.timeline);
            if (t.duration) {
              var o = t,
                l = o.duration,
                u = o.timescale,
                d = void 0 === u ? 1 : u;
              t.duration = l / d;
            } else
              a.length
                ? (t.duration = a.reduce(function (e, t) {
                    return Math.max(e, Math.ceil(t.duration));
                  }, 0))
                : (t.duration = 0);
            return (
              (s.attributes = t),
              (s.segments = a),
              r.base && t.indexRange && ((s.sidx = a[0]), (s.segments = [])),
              s
            );
          },
          Le = function (e, t) {
            return ne(e.childNodes).filter(function (e) {
              return e.tagName === t;
            });
          },
          De = function (e) {
            return e.textContent.trim();
          },
          Re = function (e) {
            var t =
              /P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/.exec(
                e,
              );
            if (!t) return 0;
            var i = t.slice(1),
              n = i[0],
              r = i[1],
              s = i[2],
              a = i[3],
              o = i[4],
              l = i[5];
            return (
              31536e3 * parseFloat(n || 0) +
              2592e3 * parseFloat(r || 0) +
              86400 * parseFloat(s || 0) +
              3600 * parseFloat(a || 0) +
              60 * parseFloat(o || 0) +
              parseFloat(l || 0)
            );
          },
          Oe = {
            mediaPresentationDuration: function (e) {
              return Re(e);
            },
            availabilityStartTime: function (e) {
              return (
                /^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test((t = e)) && (t += 'Z'),
                Date.parse(t) / 1e3
              );
              var t;
            },
            minimumUpdatePeriod: function (e) {
              return Re(e);
            },
            suggestedPresentationDelay: function (e) {
              return Re(e);
            },
            type: function (e) {
              return e;
            },
            timeShiftBufferDepth: function (e) {
              return Re(e);
            },
            start: function (e) {
              return Re(e);
            },
            width: function (e) {
              return parseInt(e, 10);
            },
            height: function (e) {
              return parseInt(e, 10);
            },
            bandwidth: function (e) {
              return parseInt(e, 10);
            },
            startNumber: function (e) {
              return parseInt(e, 10);
            },
            timescale: function (e) {
              return parseInt(e, 10);
            },
            presentationTimeOffset: function (e) {
              return parseInt(e, 10);
            },
            duration: function (e) {
              var t = parseInt(e, 10);
              return isNaN(t) ? Re(e) : t;
            },
            d: function (e) {
              return parseInt(e, 10);
            },
            t: function (e) {
              return parseInt(e, 10);
            },
            r: function (e) {
              return parseInt(e, 10);
            },
            DEFAULT: function (e) {
              return e;
            },
          },
          Me = function (e) {
            return e && e.attributes
              ? ne(e.attributes).reduce(function (e, t) {
                  var i = Oe[t.name] || Oe.DEFAULT;
                  return (e[t.name] = i(t.value)), e;
                }, {})
              : {};
          },
          Ne = {
            'urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b': 'org.w3.clearkey',
            'urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed':
              'com.widevine.alpha',
            'urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95':
              'com.microsoft.playready',
            'urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb':
              'com.adobe.primetime',
          },
          Be = function (e, t) {
            return t.length
              ? ie(
                  e.map(function (e) {
                    return t.map(function (t) {
                      return C(e, De(t));
                    });
                  }),
                )
              : e;
          },
          Ue = function (e) {
            var t = Le(e, 'SegmentTemplate')[0],
              i = Le(e, 'SegmentList')[0],
              n =
                i &&
                Le(i, 'SegmentURL').map(function (e) {
                  return te({ tag: 'SegmentURL' }, Me(e));
                }),
              r = Le(e, 'SegmentBase')[0],
              s = i || t,
              a = s && Le(s, 'SegmentTimeline')[0],
              o = i || r || t,
              l = o && Le(o, 'Initialization')[0],
              u = t && Me(t);
            u && l
              ? (u.initialization = l && Me(l))
              : u &&
                u.initialization &&
                (u.initialization = { sourceURL: u.initialization });
            var d = {
              template: u,
              timeline:
                a &&
                Le(a, 'S').map(function (e) {
                  return Me(e);
                }),
              list: i && te(Me(i), { segmentUrls: n, initialization: Me(l) }),
              base: r && te(Me(r), { initialization: Me(l) }),
            };
            return (
              Object.keys(d).forEach(function (e) {
                d[e] || delete d[e];
              }),
              d
            );
          },
          Fe = function (e, t, i) {
            return function (n) {
              var r = Me(n),
                s = Be(t, Le(n, 'BaseURL')),
                a = Le(n, 'Role')[0],
                o = { role: Me(a) },
                l = te(e, r, o),
                u = Le(n, 'Label')[0];
              if (u && u.childNodes.length) {
                var d = u.childNodes[0].nodeValue.trim();
                l = te(l, { label: d });
              }
              var c = Le(n, 'ContentProtection').reduce(function (e, t) {
                var i = Me(t),
                  n = Ne[i.schemeIdUri];
                if (n) {
                  e[n] = { attributes: i };
                  var r = Le(t, 'cenc:pssh')[0];
                  if (r) {
                    var s = De(r),
                      a = s && j(s);
                    e[n].pssh = a;
                  }
                }
                return e;
              }, {});
              Object.keys(c).length && (l = te(l, { contentProtection: c }));
              var h = Ue(n),
                p = Le(n, 'Representation'),
                f = te(i, h);
              return ie(
                p.map(
                  (function (e, t, i) {
                    return function (n) {
                      var r = Le(n, 'BaseURL'),
                        s = Be(t, r),
                        a = te(e, Me(n)),
                        o = Ue(n);
                      return s.map(function (e) {
                        return {
                          segmentInfo: te(i, o),
                          attributes: te(a, { baseUrl: e }),
                        };
                      });
                    };
                  })(l, s, f),
                ),
              );
            };
          },
          We = function (e, t) {
            return function (i, n) {
              var r = Be(t, Le(i, 'BaseURL')),
                s = Me(i),
                a = parseInt(s.id, 10),
                o = k().isNaN(a) ? n : a,
                l = te(e, { periodIndex: o }),
                u = Le(i, 'AdaptationSet'),
                d = Ue(i);
              return ie(u.map(Fe(l, r, d)));
            };
          },
          Ve = function (e) {
            if ('' === e) throw new Error(se);
            var t,
              i,
              n = new $.a();
            try {
              i =
                (t = n.parseFromString(e, 'application/xml')) &&
                'MPD' === t.documentElement.tagName
                  ? t.documentElement
                  : null;
            } catch (e) {}
            if (!i || (i && i.getElementsByTagName('parsererror').length > 0))
              throw new Error(ae);
            return i;
          },
          He = function (e, t) {
            void 0 === t && (t = {});
            var i = (function (e, t) {
                void 0 === t && (t = {});
                var i = t,
                  n = i.manifestUri,
                  r = void 0 === n ? '' : n,
                  s = i.NOW,
                  a = void 0 === s ? Date.now() : s,
                  o = i.clientOffset,
                  l = void 0 === o ? 0 : o,
                  u = Le(e, 'Period');
                if (!u.length) throw new Error(re);
                var d = Le(e, 'Location'),
                  c = Me(e),
                  h = Be([r], Le(e, 'BaseURL'));
                return (
                  (c.sourceDuration = c.mediaPresentationDuration || 0),
                  (c.NOW = a),
                  (c.clientOffset = l),
                  d.length && (c.locations = d.map(De)),
                  {
                    locations: c.locations,
                    representationInfo: ie(u.map(We(c, h))),
                  }
                );
              })(Ve(e), t),
              n = i.representationInfo.map(xe);
            return ke(n, i.locations, t.sidxMapping);
          },
          qe = function (e) {
            return (function (e) {
              var t = Le(e, 'UTCTiming')[0];
              if (!t) return null;
              var i = Me(t);
              switch (i.schemeIdUri) {
                case 'urn:mpeg:dash:utc:http-head:2014':
                case 'urn:mpeg:dash:utc:http-head:2012':
                  i.method = 'HEAD';
                  break;
                case 'urn:mpeg:dash:utc:http-xsdate:2014':
                case 'urn:mpeg:dash:utc:http-iso:2014':
                case 'urn:mpeg:dash:utc:http-xsdate:2012':
                case 'urn:mpeg:dash:utc:http-iso:2012':
                  i.method = 'GET';
                  break;
                case 'urn:mpeg:dash:utc:direct:2014':
                case 'urn:mpeg:dash:utc:direct:2012':
                  (i.method = 'DIRECT'), (i.value = Date.parse(i.value));
                  break;
                default:
                  throw new Error(ue);
              }
              return i;
            })(Ve(e));
          },
          ze = i(221),
          Ke = i.n(ze),
          Xe = function (e) {
            return (function (e) {
              return 'function' === ArrayBuffer.isView
                ? ArrayBuffer.isView(e)
                : e && e.buffer instanceof ArrayBuffer;
            })(e);
          },
          Qe = function (e) {
            return e instanceof Uint8Array
              ? e
              : (Array.isArray(e) ||
                  Xe(e) ||
                  e instanceof ArrayBuffer ||
                  (e =
                    'number' != typeof e || ('number' == typeof e && e != e)
                      ? 0
                      : [e]),
                new Uint8Array(
                  (e && e.buffer) || e,
                  (e && e.byteOffset) || 0,
                  (e && e.byteLength) || 0,
                ));
          },
          Ge = k().BigInt || Number,
          Ye = [
            Ge('0x1'),
            Ge('0x100'),
            Ge('0x10000'),
            Ge('0x1000000'),
            Ge('0x100000000'),
            Ge('0x10000000000'),
            Ge('0x1000000000000'),
            Ge('0x100000000000000'),
            Ge('0x10000000000000000'),
          ],
          Je =
            ((P = new Uint16Array([65484])),
            255 ===
              (I = new Uint8Array(P.buffer, P.byteOffset, P.byteLength))[0] ||
              I[0],
            function (e, t) {
              var i = void 0 === t ? {} : t,
                n = i.signed,
                r = void 0 !== n && n,
                s = i.le,
                a = void 0 !== s && s;
              e = Qe(e);
              var o = a ? 'reduce' : 'reduceRight',
                l = (e[o] ? e[o] : Array.prototype[o]).call(
                  e,
                  function (t, i, n) {
                    var r = a ? n : Math.abs(n + 1 - e.length);
                    return t + Ge(i) * Ye[r];
                  },
                  Ge(0),
                );
              if (r) {
                var u = Ye[e.length] / Ge(2) - Ge(1);
                (l = Ge(l)) > u && ((l -= u), (l -= u), (l -= Ge(2)));
              }
              return Number(l);
            }),
          Ze = function (e, t) {
            var i = (void 0 === t ? {} : t).le,
              n = void 0 !== i && i;
            (('bigint' != typeof e && 'number' != typeof e) ||
              ('number' == typeof e && e != e)) &&
              (e = 0),
              (e = Ge(e));
            for (
              var r,
                s =
                  ((r = e),
                  Math.ceil(
                    (function (e) {
                      return e.toString(2).length;
                    })(r) / 8,
                  )),
                a = new Uint8Array(new ArrayBuffer(s)),
                o = 0;
              o < s;
              o++
            ) {
              var l = n ? o : Math.abs(o + 1 - a.length);
              (a[l] = Number((e / Ye[o]) & Ge(255))),
                e < 0 && ((a[l] = Math.abs(~a[l])), (a[l] -= 0 === o ? 1 : 2));
            }
            return a;
          },
          $e = function (e, t) {
            if (
              ('string' != typeof e &&
                e &&
                'function' == typeof e.toString &&
                (e = e.toString()),
              'string' != typeof e)
            )
              return new Uint8Array();
            t || (e = unescape(encodeURIComponent(e)));
            for (var i = new Uint8Array(e.length), n = 0; n < e.length; n++)
              i[n] = e.charCodeAt(n);
            return i;
          },
          et = function (e, t, i) {
            var n = void 0 === i ? {} : i,
              r = n.offset,
              s = void 0 === r ? 0 : r,
              a = n.mask,
              o = void 0 === a ? [] : a;
            e = Qe(e);
            var l = (t = Qe(t)).every ? t.every : Array.prototype.every;
            return (
              t.length &&
              e.length - s >= t.length &&
              l.call(t, function (t, i) {
                return t === (o[i] ? o[i] & e[s + i] : e[s + i]);
              })
            );
          },
          tt = Qe([73, 68, 51]),
          it = function e(t, i) {
            return (
              void 0 === i && (i = 0),
              (t = Qe(t)).length - i < 10 || !et(t, tt, { offset: i })
                ? i
                : ((i += (function (e, t) {
                    void 0 === t && (t = 0);
                    var i = (e = Qe(e))[t + 5],
                      n =
                        (e[t + 6] << 21) |
                        (e[t + 7] << 14) |
                        (e[t + 8] << 7) |
                        e[t + 9];
                    return (16 & i) >> 4 ? n + 20 : n + 10;
                  })(t, i)),
                  e(t, i))
            );
          },
          nt =
            (new Uint8Array([79, 112, 117, 115, 72, 101, 97, 100]),
            function (e) {
              return 'string' == typeof e ? $e(e) : e;
            }),
          rt = function (e) {
            e = Qe(e);
            for (var t = [], i = 0; e.length > i; ) {
              var n = e[i],
                r = 0,
                s = 0,
                a = e[++s];
              for (s++; 128 & a; ) (r = (127 & a) << 7), (a = e[s]), s++;
              r += 127 & a;
              for (var o = 0; o < x.length; o++) {
                var l = x[o],
                  u = l.id,
                  d = l.parser;
                if (n === u) {
                  t.push(d(e.subarray(s, s + r)));
                  break;
                }
              }
              i += r + s;
            }
            return t;
          };
        x = [
          {
            id: 3,
            parser: function (e) {
              var t = {
                tag: 3,
                id: (e[0] << 8) | e[1],
                flags: e[2],
                size: 3,
                dependsOnEsId: 0,
                ocrEsId: 0,
                descriptors: [],
                url: '',
              };
              if (
                (128 & t.flags &&
                  ((t.dependsOnEsId = (e[t.size] << 8) | e[t.size + 1]),
                  (t.size += 2)),
                64 & t.flags)
              ) {
                var i = e[t.size];
                (t.url = (function (e) {
                  if (!e) return '';
                  e = Array.prototype.slice.call(e);
                  var t = String.fromCharCode.apply(null, Qe(e));
                  try {
                    return decodeURIComponent(escape(t));
                  } catch (e) {}
                  return t;
                })(e.subarray(t.size + 1, t.size + 1 + i))),
                  (t.size += i);
              }
              return (
                32 & t.flags &&
                  ((t.ocrEsId = (e[t.size] << 8) | e[t.size + 1]),
                  (t.size += 2)),
                (t.descriptors = rt(e.subarray(t.size)) || []),
                t
              );
            },
          },
          {
            id: 4,
            parser: function (e) {
              return {
                tag: 4,
                oti: e[0],
                streamType: e[1],
                bufferSize: (e[2] << 16) | (e[3] << 8) | e[4],
                maxBitrate: (e[5] << 24) | (e[6] << 16) | (e[7] << 8) | e[8],
                avgBitrate: (e[9] << 24) | (e[10] << 16) | (e[11] << 8) | e[12],
                descriptors: rt(e.subarray(13)),
              };
            },
          },
          {
            id: 5,
            parser: function (e) {
              return { tag: 5, bytes: e };
            },
          },
          {
            id: 6,
            parser: function (e) {
              return { tag: 6, bytes: e };
            },
          },
        ];
        var st = function e(t, i, n) {
            void 0 === n && (n = !1),
              (i = (function (e) {
                return Array.isArray(e)
                  ? e.map(function (e) {
                      return nt(e);
                    })
                  : [nt(e)];
              })(i)),
              (t = Qe(t));
            var r = [];
            if (!i.length) return r;
            for (var s = 0; s < t.length; ) {
              var a =
                  ((t[s] << 24) |
                    (t[s + 1] << 16) |
                    (t[s + 2] << 8) |
                    t[s + 3]) >>>
                  0,
                o = t.subarray(s + 4, s + 8);
              if (0 === a) break;
              var l = s + a;
              if (l > t.length) {
                if (n) break;
                l = t.length;
              }
              var u = t.subarray(s + 8, l);
              et(o, i[0]) &&
                (1 === i.length
                  ? r.push(u)
                  : r.push.apply(r, e(u, i.slice(1), n))),
                (s = l);
            }
            return r;
          },
          at = {
            EBML: Qe([26, 69, 223, 163]),
            DocType: Qe([66, 130]),
            Segment: Qe([24, 83, 128, 103]),
            SegmentInfo: Qe([21, 73, 169, 102]),
            Tracks: Qe([22, 84, 174, 107]),
            Track: Qe([174]),
            TrackNumber: Qe([215]),
            DefaultDuration: Qe([35, 227, 131]),
            TrackEntry: Qe([174]),
            TrackType: Qe([131]),
            FlagDefault: Qe([136]),
            CodecID: Qe([134]),
            CodecPrivate: Qe([99, 162]),
            VideoTrack: Qe([224]),
            AudioTrack: Qe([225]),
            Cluster: Qe([31, 67, 182, 117]),
            Timestamp: Qe([231]),
            TimestampScale: Qe([42, 215, 177]),
            BlockGroup: Qe([160]),
            BlockDuration: Qe([155]),
            Block: Qe([161]),
            SimpleBlock: Qe([163]),
          },
          ot = [128, 64, 32, 16, 8, 4, 2, 1],
          lt = function (e, t, i, n) {
            void 0 === i && (i = !0), void 0 === n && (n = !1);
            var r = (function (e) {
                for (var t = 1, i = 0; i < ot.length && !(e & ot[i]); i++) t++;
                return t;
              })(e[t]),
              s = e.subarray(t, t + r);
            return (
              i &&
                ((s = Array.prototype.slice.call(e, t, t + r))[0] ^= ot[r - 1]),
              { length: r, value: Je(s, { signed: n }), bytes: s }
            );
          },
          ut = function e(t) {
            return 'string' == typeof t
              ? t.match(/.{1,2}/g).map(function (t) {
                  return e(t);
                })
              : 'number' == typeof t
                ? Ze(t)
                : t;
          },
          dt = function e(t, i, n) {
            if (n >= i.length) return i.length;
            var r = lt(i, n, !1);
            if (et(t.bytes, r.bytes)) return n;
            var s = lt(i, n + r.length);
            return e(t, i, n + s.length + s.value + r.length);
          },
          ct = function e(t, i) {
            (i = (function (e) {
              return Array.isArray(e)
                ? e.map(function (e) {
                    return ut(e);
                  })
                : [ut(e)];
            })(i)),
              (t = Qe(t));
            var n = [];
            if (!i.length) return n;
            for (var r = 0; r < t.length; ) {
              var s = lt(t, r, !1),
                a = lt(t, r + s.length),
                o = r + s.length + a.length;
              127 === a.value &&
                ((a.value = dt(s, t, o)),
                a.value !== t.length && (a.value -= o));
              var l = o + a.value > t.length ? t.length : o + a.value,
                u = t.subarray(o, l);
              et(i[0], s.bytes) &&
                (1 === i.length ? n.push(u) : (n = n.concat(e(u, i.slice(1))))),
                (r += s.length + a.length + u.length);
            }
            return n;
          },
          ht = Qe([0, 0, 0, 1]),
          pt = Qe([0, 0, 1]),
          ft = Qe([0, 0, 3]),
          mt = function (e) {
            for (var t = [], i = 1; i < e.length - 2; )
              et(e.subarray(i, i + 3), ft) && (t.push(i + 2), i++), i++;
            if (0 === t.length) return e;
            var n = e.length - t.length,
              r = new Uint8Array(n),
              s = 0;
            for (i = 0; i < n; s++, i++)
              s === t[0] && (s++, t.shift()), (r[i] = e[s]);
            return r;
          },
          gt = function (e, t, i, n) {
            void 0 === n && (n = 1 / 0), (e = Qe(e)), (i = [].concat(i));
            for (var r, s = 0, a = 0; s < e.length && (a < n || r); ) {
              var o = void 0;
              if (
                (et(e.subarray(s), ht)
                  ? (o = 4)
                  : et(e.subarray(s), pt) && (o = 3),
                o)
              ) {
                if ((a++, r)) return mt(e.subarray(r, s));
                var l = void 0;
                'h264' === t
                  ? (l = 31 & e[s + o])
                  : 'h265' === t && (l = (e[s + o] >> 1) & 63),
                  -1 !== i.indexOf(l) && (r = s + o),
                  (s += o + ('h264' === t ? 1 : 2));
              } else s++;
            }
            return e.subarray(0, 0);
          },
          vt = {
            webm: Qe([119, 101, 98, 109]),
            matroska: Qe([109, 97, 116, 114, 111, 115, 107, 97]),
            flac: Qe([102, 76, 97, 67]),
            ogg: Qe([79, 103, 103, 83]),
            ac3: Qe([11, 119]),
            riff: Qe([82, 73, 70, 70]),
            avi: Qe([65, 86, 73]),
            wav: Qe([87, 65, 86, 69]),
            '3gp': Qe([102, 116, 121, 112, 51, 103]),
            mp4: Qe([102, 116, 121, 112]),
            fmp4: Qe([115, 116, 121, 112]),
            mov: Qe([102, 116, 121, 112, 113, 116]),
            moov: Qe([109, 111, 111, 118]),
            moof: Qe([109, 111, 111, 102]),
          },
          yt = {
            aac: function (e) {
              var t = it(e);
              return et(e, [255, 16], { offset: t, mask: [255, 22] });
            },
            mp3: function (e) {
              var t = it(e);
              return et(e, [255, 2], { offset: t, mask: [255, 6] });
            },
            webm: function (e) {
              var t = ct(e, [at.EBML, at.DocType])[0];
              return et(t, vt.webm);
            },
            mkv: function (e) {
              var t = ct(e, [at.EBML, at.DocType])[0];
              return et(t, vt.matroska);
            },
            mp4: function (e) {
              return (
                !yt['3gp'](e) &&
                !yt.mov(e) &&
                (!(
                  !et(e, vt.mp4, { offset: 4 }) &&
                  !et(e, vt.fmp4, { offset: 4 })
                ) ||
                  !(
                    !et(e, vt.moof, { offset: 4 }) &&
                    !et(e, vt.moov, { offset: 4 })
                  ) ||
                  void 0)
              );
            },
            mov: function (e) {
              return et(e, vt.mov, { offset: 4 });
            },
            '3gp': function (e) {
              return et(e, vt['3gp'], { offset: 4 });
            },
            ac3: function (e) {
              var t = it(e);
              return et(e, vt.ac3, { offset: t });
            },
            ts: function (e) {
              if (e.length < 189 && e.length >= 1) return 71 === e[0];
              for (var t = 0; t + 188 < e.length && t < 188; ) {
                if (71 === e[t] && 71 === e[t + 188]) return !0;
                t += 1;
              }
              return !1;
            },
            flac: function (e) {
              var t = it(e);
              return et(e, vt.flac, { offset: t });
            },
            ogg: function (e) {
              return et(e, vt.ogg);
            },
            avi: function (e) {
              return et(e, vt.riff) && et(e, vt.avi, { offset: 8 });
            },
            wav: function (e) {
              return et(e, vt.riff) && et(e, vt.wav, { offset: 8 });
            },
            h264: function (e) {
              return (function (e, t, i) {
                return gt(e, 'h264', t, i);
              })(e, 7, 3).length;
            },
            h265: function (e) {
              return (function (e, t, i) {
                return gt(e, 'h265', t, i);
              })(e, [32, 33], 3).length;
            },
          },
          At = Object.keys(yt)
            .filter(function (e) {
              return 'ts' !== e && 'h264' !== e && 'h265' !== e;
            })
            .concat(['ts', 'h264', 'h265']);
        At.forEach(function (e) {
          var t = yt[e];
          yt[e] = function (e) {
            return t(Qe(e));
          };
        });
        for (
          var bt,
            Tt = yt,
            St = function (e) {
              e = Qe(e);
              for (var t = 0; t < At.length; t++) {
                var i = At[t];
                if (Tt[i](e)) return i;
              }
              return '';
            },
            wt = function (e) {
              return st(e, ['moof']).length > 0;
            },
            kt = i(547),
            _t = i.n(kt),
            Ct = i(489),
            Et = i(530),
            jt = i.n(Et),
            Pt = '7.12.1',
            It = { prefixed: !0 },
            xt = [
              [
                'requestFullscreen',
                'exitFullscreen',
                'fullscreenElement',
                'fullscreenEnabled',
                'fullscreenchange',
                'fullscreenerror',
                'fullscreen',
              ],
              [
                'webkitRequestFullscreen',
                'webkitExitFullscreen',
                'webkitFullscreenElement',
                'webkitFullscreenEnabled',
                'webkitfullscreenchange',
                'webkitfullscreenerror',
                '-webkit-full-screen',
              ],
              [
                'mozRequestFullScreen',
                'mozCancelFullScreen',
                'mozFullScreenElement',
                'mozFullScreenEnabled',
                'mozfullscreenchange',
                'mozfullscreenerror',
                '-moz-full-screen',
              ],
              [
                'msRequestFullscreen',
                'msExitFullscreen',
                'msFullscreenElement',
                'msFullscreenEnabled',
                'MSFullscreenChange',
                'MSFullscreenError',
                '-ms-fullscreen',
              ],
            ],
            Lt = xt[0],
            Dt = 0;
          Dt < xt.length;
          Dt++
        )
          if (xt[Dt][1] in a()) {
            bt = xt[Dt];
            break;
          }
        if (bt) {
          for (var Rt = 0; Rt < bt.length; Rt++) It[Lt[Rt]] = bt[Rt];
          It.prefixed = bt[0] !== Lt[0];
        }
        var Ot = [];
        var Mt = (function e(t) {
            var i,
              n = 'info',
              s = function () {
                for (
                  var e = arguments.length, t = new Array(e), r = 0;
                  r < e;
                  r++
                )
                  t[r] = arguments[r];
                i('log', n, t);
              };
            return (
              (i = (function (e, t) {
                return function (i, n, s) {
                  var a = t.levels[n],
                    o = new RegExp('^(' + a + ')$');
                  if (
                    ('log' !== i && s.unshift(i.toUpperCase() + ':'),
                    s.unshift(e + ':'),
                    Ot)
                  ) {
                    Ot.push([].concat(s));
                    var l = Ot.length - 1e3;
                    Ot.splice(0, l > 0 ? l : 0);
                  }
                  if (r().console) {
                    var u = r().console[i];
                    u ||
                      'debug' !== i ||
                      (u = r().console.info || r().console.log),
                      u &&
                        a &&
                        o.test(i) &&
                        u[Array.isArray(s) ? 'apply' : 'call'](r().console, s);
                  }
                };
              })(t, s)),
              (s.createLogger = function (i) {
                return e(t + ': ' + i);
              }),
              (s.levels = {
                all: 'debug|log|warn|error',
                off: '',
                debug: 'debug|log|warn|error',
                info: 'log|warn|error',
                warn: 'warn|error',
                error: 'error',
                DEFAULT: n,
              }),
              (s.level = function (e) {
                if ('string' == typeof e) {
                  if (!s.levels.hasOwnProperty(e))
                    throw new Error('"' + e + '" in not a valid log level');
                  n = e;
                }
                return n;
              }),
              ((s.history = function () {
                return Ot ? [].concat(Ot) : [];
              }).filter = function (e) {
                return (Ot || []).filter(function (t) {
                  return new RegExp('.*' + e + '.*').test(t[0]);
                });
              }),
              (s.history.clear = function () {
                Ot && (Ot.length = 0);
              }),
              (s.history.disable = function () {
                null !== Ot && ((Ot.length = 0), (Ot = null));
              }),
              (s.history.enable = function () {
                null === Ot && (Ot = []);
              }),
              (s.error = function () {
                for (
                  var e = arguments.length, t = new Array(e), r = 0;
                  r < e;
                  r++
                )
                  t[r] = arguments[r];
                return i('error', n, t);
              }),
              (s.warn = function () {
                for (
                  var e = arguments.length, t = new Array(e), r = 0;
                  r < e;
                  r++
                )
                  t[r] = arguments[r];
                return i('warn', n, t);
              }),
              (s.debug = function () {
                for (
                  var e = arguments.length, t = new Array(e), r = 0;
                  r < e;
                  r++
                )
                  t[r] = arguments[r];
                return i('debug', n, t);
              }),
              s
            );
          })('VIDEOJS'),
          Nt = Mt.createLogger,
          Bt = Object.prototype.toString,
          Ut = function (e) {
            return Vt(e) ? Object.keys(e) : [];
          };
        function Ft(e, t) {
          Ut(e).forEach(function (i) {
            return t(e[i], i);
          });
        }
        function Wt(e) {
          for (
            var t = arguments.length, i = new Array(t > 1 ? t - 1 : 0), n = 1;
            n < t;
            n++
          )
            i[n - 1] = arguments[n];
          return Object.assign
            ? o.apply(void 0, [e].concat(i))
            : (i.forEach(function (t) {
                t &&
                  Ft(t, function (t, i) {
                    e[i] = t;
                  });
              }),
              e);
        }
        function Vt(e) {
          return !!e && 'object' == typeof e;
        }
        function Ht(e) {
          return (
            Vt(e) &&
            '[object Object]' === Bt.call(e) &&
            e.constructor === Object
          );
        }
        function qt(e, t) {
          if (!e || !t) return '';
          if ('function' == typeof r().getComputedStyle) {
            var i = r().getComputedStyle(e);
            return i ? i.getPropertyValue(t) || i[t] : '';
          }
          return '';
        }
        var zt,
          Kt = (r().navigator && r().navigator.userAgent) || '',
          Xt = /AppleWebKit\/([\d.]+)/i.exec(Kt),
          Qt = Xt ? parseFloat(Xt.pop()) : null,
          Gt = /iPod/i.test(Kt),
          Yt = (zt = Kt.match(/OS (\d+)_/i)) && zt[1] ? zt[1] : null,
          Jt = /Android/i.test(Kt),
          Zt = (function () {
            var e = Kt.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);
            if (!e) return null;
            var t = e[1] && parseFloat(e[1]),
              i = e[2] && parseFloat(e[2]);
            return t && i ? parseFloat(e[1] + '.' + e[2]) : t || null;
          })(),
          $t = Jt && Zt < 5 && Qt < 537,
          ei = /Firefox/i.test(Kt),
          ti = /Edg/i.test(Kt),
          ii = !ti && (/Chrome/i.test(Kt) || /CriOS/i.test(Kt)),
          ni = (function () {
            var e = Kt.match(/(Chrome|CriOS)\/(\d+)/);
            return e && e[2] ? parseFloat(e[2]) : null;
          })(),
          ri = (function () {
            var e = /MSIE\s(\d+)\.\d/.exec(Kt),
              t = e && parseFloat(e[1]);
            return (
              !t && /Trident\/7.0/i.test(Kt) && /rv:11.0/.test(Kt) && (t = 11),
              t
            );
          })(),
          si = /Safari/i.test(Kt) && !ii && !Jt && !ti,
          ai = /Windows/i.test(Kt),
          oi = Boolean(
            mi() &&
              ('ontouchstart' in r() ||
                r().navigator.maxTouchPoints ||
                (r().DocumentTouch &&
                  r().document instanceof r().DocumentTouch)),
          ),
          li = /iPad/i.test(Kt) || (si && oi && !/iPhone/i.test(Kt)),
          ui = /iPhone/i.test(Kt) && !li,
          di = ui || li || Gt,
          ci = (si || di) && !ii,
          hi = Object.freeze({
            __proto__: null,
            IS_IPOD: Gt,
            IOS_VERSION: Yt,
            IS_ANDROID: Jt,
            ANDROID_VERSION: Zt,
            IS_NATIVE_ANDROID: $t,
            IS_FIREFOX: ei,
            IS_EDGE: ti,
            IS_CHROME: ii,
            CHROME_VERSION: ni,
            IE_VERSION: ri,
            IS_SAFARI: si,
            IS_WINDOWS: ai,
            TOUCH_ENABLED: oi,
            IS_IPAD: li,
            IS_IPHONE: ui,
            IS_IOS: di,
            IS_ANY_SAFARI: ci,
          });
        function pi(e) {
          return 'string' == typeof e && Boolean(e.trim());
        }
        function fi(e) {
          if (e.indexOf(' ') >= 0)
            throw new Error('class has illegal whitespace characters');
        }
        function mi() {
          return a() === r().document;
        }
        function gi(e) {
          return Vt(e) && 1 === e.nodeType;
        }
        function vi() {
          try {
            return r().parent !== r().self;
          } catch (e) {
            return !0;
          }
        }
        function yi(e) {
          return function (t, i) {
            if (!pi(t)) return a()[e](null);
            pi(i) && (i = a().querySelector(i));
            var n = gi(i) ? i : a();
            return n[e] && n[e](t);
          };
        }
        function Ai(e, t, i, n) {
          void 0 === e && (e = 'div'),
            void 0 === t && (t = {}),
            void 0 === i && (i = {});
          var r = a().createElement(e);
          return (
            Object.getOwnPropertyNames(t).forEach(function (e) {
              var i = t[e];
              -1 !== e.indexOf('aria-') || 'role' === e || 'type' === e
                ? (Mt.warn(
                    'Setting attributes in the second argument of createEl()\nhas been deprecated. Use the third argument instead.\ncreateEl(type, properties, attributes). Attempting to set ' +
                      e +
                      ' to ' +
                      i +
                      '.',
                  ),
                  r.setAttribute(e, i))
                : 'textContent' === e
                  ? bi(r, i)
                  : (r[e] === i && 'tabIndex' !== e) || (r[e] = i);
            }),
            Object.getOwnPropertyNames(i).forEach(function (e) {
              r.setAttribute(e, i[e]);
            }),
            n && Ui(r, n),
            r
          );
        }
        function bi(e, t) {
          return (
            void 0 === e.textContent ? (e.innerText = t) : (e.textContent = t),
            e
          );
        }
        function Ti(e, t) {
          t.firstChild ? t.insertBefore(e, t.firstChild) : t.appendChild(e);
        }
        function Si(e, t) {
          return (
            fi(t),
            e.classList
              ? e.classList.contains(t)
              : ((i = t), new RegExp('(^|\\s)' + i + '($|\\s)')).test(
                  e.className,
                )
          );
          var i;
        }
        function wi(e, t) {
          return (
            e.classList
              ? e.classList.add(t)
              : Si(e, t) || (e.className = (e.className + ' ' + t).trim()),
            e
          );
        }
        function ki(e, t) {
          return (
            e.classList
              ? e.classList.remove(t)
              : (fi(t),
                (e.className = e.className
                  .split(/\s+/)
                  .filter(function (e) {
                    return e !== t;
                  })
                  .join(' '))),
            e
          );
        }
        function _i(e, t, i) {
          var n = Si(e, t);
          if (
            ('function' == typeof i && (i = i(e, t)),
            'boolean' != typeof i && (i = !n),
            i !== n)
          )
            return i ? wi(e, t) : ki(e, t), e;
        }
        function Ci(e, t) {
          Object.getOwnPropertyNames(t).forEach(function (i) {
            var n = t[i];
            null == n || !1 === n
              ? e.removeAttribute(i)
              : e.setAttribute(i, !0 === n ? '' : n);
          });
        }
        function Ei(e) {
          var t = {},
            i =
              ',autoplay,controls,playsinline,loop,muted,default,defaultMuted,';
          if (e && e.attributes && e.attributes.length > 0)
            for (var n = e.attributes, r = n.length - 1; r >= 0; r--) {
              var s = n[r].name,
                a = n[r].value;
              ('boolean' != typeof e[s] && -1 === i.indexOf(',' + s + ',')) ||
                (a = null !== a),
                (t[s] = a);
            }
          return t;
        }
        function ji(e, t) {
          return e.getAttribute(t);
        }
        function Pi(e, t, i) {
          e.setAttribute(t, i);
        }
        function Ii(e, t) {
          e.removeAttribute(t);
        }
        function xi() {
          a().body.focus(),
            (a().onselectstart = function () {
              return !1;
            });
        }
        function Li() {
          a().onselectstart = function () {
            return !0;
          };
        }
        function Di(e) {
          if (e && e.getBoundingClientRect && e.parentNode) {
            var t = e.getBoundingClientRect(),
              i = {};
            return (
              ['bottom', 'height', 'left', 'right', 'top', 'width'].forEach(
                function (e) {
                  void 0 !== t[e] && (i[e] = t[e]);
                },
              ),
              i.height || (i.height = parseFloat(qt(e, 'height'))),
              i.width || (i.width = parseFloat(qt(e, 'width'))),
              i
            );
          }
        }
        function Ri(e) {
          if (!e || (e && !e.offsetParent))
            return { left: 0, top: 0, width: 0, height: 0 };
          for (
            var t = e.offsetWidth, i = e.offsetHeight, n = 0, r = 0;
            e.offsetParent && e !== a()[It.fullscreenElement];

          )
            (n += e.offsetLeft), (r += e.offsetTop), (e = e.offsetParent);
          return { left: n, top: r, width: t, height: i };
        }
        function Oi(e, t) {
          var i = { x: 0, y: 0 };
          if (di)
            for (var n = e; n && 'html' !== n.nodeName.toLowerCase(); ) {
              var r = qt(n, 'transform');
              if (/^matrix/.test(r)) {
                var s = r.slice(7, -1).split(/,\s/).map(Number);
                (i.x += s[4]), (i.y += s[5]);
              } else if (/^matrix3d/.test(r)) {
                var a = r.slice(9, -1).split(/,\s/).map(Number);
                (i.x += a[12]), (i.y += a[13]);
              }
              n = n.parentNode;
            }
          var o = {},
            l = Ri(t.target),
            u = Ri(e),
            d = u.width,
            c = u.height,
            h = t.offsetY - (u.top - l.top),
            p = t.offsetX - (u.left - l.left);
          return (
            t.changedTouches &&
              ((p = t.changedTouches[0].pageX - u.left),
              (h = t.changedTouches[0].pageY + u.top),
              di && ((p -= i.x), (h -= i.y))),
            (o.y = 1 - Math.max(0, Math.min(1, h / c))),
            (o.x = Math.max(0, Math.min(1, p / d))),
            o
          );
        }
        function Mi(e) {
          return Vt(e) && 3 === e.nodeType;
        }
        function Ni(e) {
          for (; e.firstChild; ) e.removeChild(e.firstChild);
          return e;
        }
        function Bi(e) {
          return (
            'function' == typeof e && (e = e()),
            (Array.isArray(e) ? e : [e])
              .map(function (e) {
                return (
                  'function' == typeof e && (e = e()),
                  gi(e) || Mi(e)
                    ? e
                    : 'string' == typeof e && /\S/.test(e)
                      ? a().createTextNode(e)
                      : void 0
                );
              })
              .filter(function (e) {
                return e;
              })
          );
        }
        function Ui(e, t) {
          return (
            Bi(t).forEach(function (t) {
              return e.appendChild(t);
            }),
            e
          );
        }
        function Fi(e, t) {
          return Ui(Ni(e), t);
        }
        function Wi(e) {
          return (
            (void 0 === e.button && void 0 === e.buttons) ||
            (0 === e.button && void 0 === e.buttons) ||
            ('mouseup' === e.type && 0 === e.button && 0 === e.buttons) ||
            (0 === e.button && 1 === e.buttons)
          );
        }
        var Vi,
          Hi = yi('querySelector'),
          qi = yi('querySelectorAll'),
          zi = Object.freeze({
            __proto__: null,
            isReal: mi,
            isEl: gi,
            isInFrame: vi,
            createEl: Ai,
            textContent: bi,
            prependTo: Ti,
            hasClass: Si,
            addClass: wi,
            removeClass: ki,
            toggleClass: _i,
            setAttributes: Ci,
            getAttributes: Ei,
            getAttribute: ji,
            setAttribute: Pi,
            removeAttribute: Ii,
            blockTextSelection: xi,
            unblockTextSelection: Li,
            getBoundingClientRect: Di,
            findPosition: Ri,
            getPointerPosition: Oi,
            isTextNode: Mi,
            emptyEl: Ni,
            normalizeContent: Bi,
            appendContent: Ui,
            insertContent: Fi,
            isSingleLeftClick: Wi,
            $: Hi,
            $$: qi,
          }),
          Ki = !1,
          Xi = function () {
            if (mi() && !1 !== Vi.options.autoSetup) {
              var e = Array.prototype.slice.call(
                  a().getElementsByTagName('video'),
                ),
                t = Array.prototype.slice.call(
                  a().getElementsByTagName('audio'),
                ),
                i = Array.prototype.slice.call(
                  a().getElementsByTagName('video-js'),
                ),
                n = e.concat(t, i);
              if (n && n.length > 0)
                for (var r = 0, s = n.length; r < s; r++) {
                  var o = n[r];
                  if (!o || !o.getAttribute) {
                    Qi(1);
                    break;
                  }
                  void 0 === o.player &&
                    null !== o.getAttribute('data-setup') &&
                    Vi(o);
                }
              else Ki || Qi(1);
            }
          };
        function Qi(e, t) {
          t && (Vi = t), r().setTimeout(Xi, e);
        }
        function Gi() {
          (Ki = !0), r().removeEventListener('load', Gi);
        }
        mi() &&
          ('complete' === a().readyState
            ? Gi()
            : r().addEventListener('load', Gi));
        var Yi,
          Ji = function (e) {
            var t = a().createElement('style');
            return (t.className = e), t;
          },
          Zi = function (e, t) {
            e.styleSheet ? (e.styleSheet.cssText = t) : (e.textContent = t);
          },
          $i = 3;
        function en() {
          return $i++;
        }
        r().WeakMap ||
          (Yi = (function () {
            function e() {
              (this.vdata =
                'vdata' +
                Math.floor(
                  (r().performance && r().performance.now()) || Date.now(),
                )),
                (this.data = {});
            }
            var t = e.prototype;
            return (
              (t.set = function (e, t) {
                var i = e[this.vdata] || en();
                return (
                  e[this.vdata] || (e[this.vdata] = i), (this.data[i] = t), this
                );
              }),
              (t.get = function (e) {
                var t = e[this.vdata];
                if (t) return this.data[t];
                Mt('We have no data for this element', e);
              }),
              (t.has = function (e) {
                return e[this.vdata] in this.data;
              }),
              (t.delete = function (e) {
                var t = e[this.vdata];
                t && (delete this.data[t], delete e[this.vdata]);
              }),
              e
            );
          })());
        var tn,
          nn = r().WeakMap ? new WeakMap() : new Yi();
        function rn(e, t) {
          if (nn.has(e)) {
            var i = nn.get(e);
            0 === i.handlers[t].length &&
              (delete i.handlers[t],
              e.removeEventListener
                ? e.removeEventListener(t, i.dispatcher, !1)
                : e.detachEvent && e.detachEvent('on' + t, i.dispatcher)),
              Object.getOwnPropertyNames(i.handlers).length <= 0 &&
                (delete i.handlers, delete i.dispatcher, delete i.disabled),
              0 === Object.getOwnPropertyNames(i).length && nn.delete(e);
          }
        }
        function sn(e, t, i, n) {
          i.forEach(function (i) {
            e(t, i, n);
          });
        }
        function an(e) {
          if (e.fixed_) return e;
          function t() {
            return !0;
          }
          function i() {
            return !1;
          }
          if (!e || !e.isPropagationStopped) {
            var n = e || r().event;
            for (var s in ((e = {}), n))
              'layerX' !== s &&
                'layerY' !== s &&
                'keyLocation' !== s &&
                'webkitMovementX' !== s &&
                'webkitMovementY' !== s &&
                (('returnValue' === s && n.preventDefault) || (e[s] = n[s]));
            if (
              (e.target || (e.target = e.srcElement || a()),
              e.relatedTarget ||
                (e.relatedTarget =
                  e.fromElement === e.target ? e.toElement : e.fromElement),
              (e.preventDefault = function () {
                n.preventDefault && n.preventDefault(),
                  (e.returnValue = !1),
                  (n.returnValue = !1),
                  (e.defaultPrevented = !0);
              }),
              (e.defaultPrevented = !1),
              (e.stopPropagation = function () {
                n.stopPropagation && n.stopPropagation(),
                  (e.cancelBubble = !0),
                  (n.cancelBubble = !0),
                  (e.isPropagationStopped = t);
              }),
              (e.isPropagationStopped = i),
              (e.stopImmediatePropagation = function () {
                n.stopImmediatePropagation && n.stopImmediatePropagation(),
                  (e.isImmediatePropagationStopped = t),
                  e.stopPropagation();
              }),
              (e.isImmediatePropagationStopped = i),
              null !== e.clientX && void 0 !== e.clientX)
            ) {
              var o = a().documentElement,
                l = a().body;
              (e.pageX =
                e.clientX +
                ((o && o.scrollLeft) || (l && l.scrollLeft) || 0) -
                ((o && o.clientLeft) || (l && l.clientLeft) || 0)),
                (e.pageY =
                  e.clientY +
                  ((o && o.scrollTop) || (l && l.scrollTop) || 0) -
                  ((o && o.clientTop) || (l && l.clientTop) || 0));
            }
            (e.which = e.charCode || e.keyCode),
              null !== e.button &&
                void 0 !== e.button &&
                (e.button =
                  1 & e.button ? 0 : 4 & e.button ? 1 : 2 & e.button ? 2 : 0);
          }
          return (e.fixed_ = !0), e;
        }
        var on = ['touchstart', 'touchmove'];
        function ln(e, t, i) {
          if (Array.isArray(t)) return sn(ln, e, t, i);
          nn.has(e) || nn.set(e, {});
          var n = nn.get(e);
          if (
            (n.handlers || (n.handlers = {}),
            n.handlers[t] || (n.handlers[t] = []),
            i.guid || (i.guid = en()),
            n.handlers[t].push(i),
            n.dispatcher ||
              ((n.disabled = !1),
              (n.dispatcher = function (t, i) {
                if (!n.disabled) {
                  t = an(t);
                  var r = n.handlers[t.type];
                  if (r)
                    for (
                      var s = r.slice(0), a = 0, o = s.length;
                      a < o && !t.isImmediatePropagationStopped();
                      a++
                    )
                      try {
                        s[a].call(e, t, i);
                      } catch (e) {
                        Mt.error(e);
                      }
                }
              })),
            1 === n.handlers[t].length)
          )
            if (e.addEventListener) {
              var s = !1;
              (function () {
                if ('boolean' != typeof tn) {
                  tn = !1;
                  try {
                    var e = Object.defineProperty({}, 'passive', {
                      get: function () {
                        tn = !0;
                      },
                    });
                    r().addEventListener('test', null, e),
                      r().removeEventListener('test', null, e);
                  } catch (e) {}
                }
                return tn;
              })() &&
                on.indexOf(t) > -1 &&
                (s = { passive: !0 }),
                e.addEventListener(t, n.dispatcher, s);
            } else e.attachEvent && e.attachEvent('on' + t, n.dispatcher);
        }
        function un(e, t, i) {
          if (nn.has(e)) {
            var n = nn.get(e);
            if (n.handlers) {
              if (Array.isArray(t)) return sn(un, e, t, i);
              var r = function (e, t) {
                (n.handlers[t] = []), rn(e, t);
              };
              if (void 0 !== t) {
                var s = n.handlers[t];
                if (s)
                  if (i) {
                    if (i.guid)
                      for (var a = 0; a < s.length; a++)
                        s[a].guid === i.guid && s.splice(a--, 1);
                    rn(e, t);
                  } else r(e, t);
              } else
                for (var o in n.handlers)
                  Object.prototype.hasOwnProperty.call(n.handlers || {}, o) &&
                    r(e, o);
            }
          }
        }
        function dn(e, t, i) {
          var n = nn.has(e) ? nn.get(e) : {},
            r = e.parentNode || e.ownerDocument;
          if (
            ('string' == typeof t
              ? (t = { type: t, target: e })
              : t.target || (t.target = e),
            (t = an(t)),
            n.dispatcher && n.dispatcher.call(e, t, i),
            r && !t.isPropagationStopped() && !0 === t.bubbles)
          )
            dn.call(null, r, t, i);
          else if (!r && !t.defaultPrevented && t.target && t.target[t.type]) {
            nn.has(t.target) || nn.set(t.target, {});
            var s = nn.get(t.target);
            t.target[t.type] &&
              ((s.disabled = !0),
              'function' == typeof t.target[t.type] && t.target[t.type](),
              (s.disabled = !1));
          }
          return !t.defaultPrevented;
        }
        function cn(e, t, i) {
          if (Array.isArray(t)) return sn(cn, e, t, i);
          var n = function n() {
            un(e, t, n), i.apply(this, arguments);
          };
          (n.guid = i.guid = i.guid || en()), ln(e, t, n);
        }
        function hn(e, t, i) {
          var n = function n() {
            un(e, t, n), i.apply(this, arguments);
          };
          (n.guid = i.guid = i.guid || en()), ln(e, t, n);
        }
        var pn,
          fn = Object.freeze({
            __proto__: null,
            fixEvent: an,
            on: ln,
            off: un,
            trigger: dn,
            one: cn,
            any: hn,
          }),
          mn = 30,
          gn = function (e, t, i) {
            t.guid || (t.guid = en());
            var n = t.bind(e);
            return (n.guid = i ? i + '_' + t.guid : t.guid), n;
          },
          vn = function (e, t) {
            var i = r().performance.now();
            return function () {
              var n = r().performance.now();
              n - i >= t && (e.apply(void 0, arguments), (i = n));
            };
          },
          yn = function () {};
        (yn.prototype.allowedEvents_ = {}),
          (yn.prototype.on = function (e, t) {
            var i = this.addEventListener;
            (this.addEventListener = function () {}),
              ln(this, e, t),
              (this.addEventListener = i);
          }),
          (yn.prototype.addEventListener = yn.prototype.on),
          (yn.prototype.off = function (e, t) {
            un(this, e, t);
          }),
          (yn.prototype.removeEventListener = yn.prototype.off),
          (yn.prototype.one = function (e, t) {
            var i = this.addEventListener;
            (this.addEventListener = function () {}),
              cn(this, e, t),
              (this.addEventListener = i);
          }),
          (yn.prototype.any = function (e, t) {
            var i = this.addEventListener;
            (this.addEventListener = function () {}),
              hn(this, e, t),
              (this.addEventListener = i);
          }),
          (yn.prototype.trigger = function (e) {
            var t = e.type || e;
            'string' == typeof e && (e = { type: t }),
              (e = an(e)),
              this.allowedEvents_[t] && this['on' + t] && this['on' + t](e),
              dn(this, e);
          }),
          (yn.prototype.dispatchEvent = yn.prototype.trigger),
          (yn.prototype.queueTrigger = function (e) {
            var t = this;
            pn || (pn = new Map());
            var i = e.type || e,
              n = pn.get(this);
            n || ((n = new Map()), pn.set(this, n));
            var s = n.get(i);
            n.delete(i), r().clearTimeout(s);
            var a = r().setTimeout(function () {
              0 === n.size && ((n = null), pn.delete(t)), t.trigger(e);
            }, 0);
            n.set(i, a);
          });
        var An = function (e) {
            return 'function' == typeof e.name
              ? e.name()
              : 'string' == typeof e.name
                ? e.name
                : e.name_
                  ? e.name_
                  : e.constructor && e.constructor.name
                    ? e.constructor.name
                    : typeof e;
          },
          bn = function (e) {
            return (
              e instanceof yn ||
              (!!e.eventBusEl_ &&
                ['on', 'one', 'off', 'trigger'].every(function (t) {
                  return 'function' == typeof e[t];
                }))
            );
          },
          Tn = function (e) {
            return (
              ('string' == typeof e && /\S/.test(e)) ||
              (Array.isArray(e) && !!e.length)
            );
          },
          Sn = function (e, t, i) {
            if (!e || (!e.nodeName && !bn(e)))
              throw new Error(
                'Invalid target for ' +
                  An(t) +
                  '#' +
                  i +
                  '; must be a DOM node or evented object.',
              );
          },
          wn = function (e, t, i) {
            if (!Tn(e))
              throw new Error(
                'Invalid event type for ' +
                  An(t) +
                  '#' +
                  i +
                  '; must be a non-empty string or array.',
              );
          },
          kn = function (e, t, i) {
            if ('function' != typeof e)
              throw new Error(
                'Invalid listener for ' +
                  An(t) +
                  '#' +
                  i +
                  '; must be a function.',
              );
          },
          _n = function (e, t, i) {
            var n,
              r,
              s,
              a = t.length < 3 || t[0] === e || t[0] === e.eventBusEl_;
            return (
              a
                ? ((n = e.eventBusEl_),
                  t.length >= 3 && t.shift(),
                  (r = t[0]),
                  (s = t[1]))
                : ((n = t[0]), (r = t[1]), (s = t[2])),
              Sn(n, e, i),
              wn(r, e, i),
              kn(s, e, i),
              {
                isTargetingSelf: a,
                target: n,
                type: r,
                listener: (s = gn(e, s)),
              }
            );
          },
          Cn = function (e, t, i, n) {
            Sn(e, e, t), e.nodeName ? fn[t](e, i, n) : e[t](i, n);
          },
          En = {
            on: function () {
              for (
                var e = this, t = arguments.length, i = new Array(t), n = 0;
                n < t;
                n++
              )
                i[n] = arguments[n];
              var r = _n(this, i, 'on'),
                s = r.isTargetingSelf,
                a = r.target,
                o = r.type,
                l = r.listener;
              if ((Cn(a, 'on', o, l), !s)) {
                var u = function () {
                  return e.off(a, o, l);
                };
                u.guid = l.guid;
                var d = function () {
                  return e.off('dispose', u);
                };
                (d.guid = l.guid),
                  Cn(this, 'on', 'dispose', u),
                  Cn(a, 'on', 'dispose', d);
              }
            },
            one: function () {
              for (
                var e = this, t = arguments.length, i = new Array(t), n = 0;
                n < t;
                n++
              )
                i[n] = arguments[n];
              var r = _n(this, i, 'one'),
                s = r.isTargetingSelf,
                a = r.target,
                o = r.type,
                l = r.listener;
              if (s) Cn(a, 'one', o, l);
              else {
                var u = function t() {
                  e.off(a, o, t);
                  for (
                    var i = arguments.length, n = new Array(i), r = 0;
                    r < i;
                    r++
                  )
                    n[r] = arguments[r];
                  l.apply(null, n);
                };
                (u.guid = l.guid), Cn(a, 'one', o, u);
              }
            },
            any: function () {
              for (
                var e = this, t = arguments.length, i = new Array(t), n = 0;
                n < t;
                n++
              )
                i[n] = arguments[n];
              var r = _n(this, i, 'any'),
                s = r.isTargetingSelf,
                a = r.target,
                o = r.type,
                l = r.listener;
              if (s) Cn(a, 'any', o, l);
              else {
                var u = function t() {
                  e.off(a, o, t);
                  for (
                    var i = arguments.length, n = new Array(i), r = 0;
                    r < i;
                    r++
                  )
                    n[r] = arguments[r];
                  l.apply(null, n);
                };
                (u.guid = l.guid), Cn(a, 'any', o, u);
              }
            },
            off: function (e, t, i) {
              if (!e || Tn(e)) un(this.eventBusEl_, e, t);
              else {
                var n = e,
                  r = t;
                Sn(n, this, 'off'),
                  wn(r, this, 'off'),
                  kn(i, this, 'off'),
                  (i = gn(this, i)),
                  this.off('dispose', i),
                  n.nodeName
                    ? (un(n, r, i), un(n, 'dispose', i))
                    : bn(n) && (n.off(r, i), n.off('dispose', i));
              }
            },
            trigger: function (e, t) {
              Sn(this.eventBusEl_, this, 'trigger');
              var i = e && 'string' != typeof e ? e.type : e;
              if (!Tn(i)) {
                var n =
                  'Invalid event type for ' +
                  An(this) +
                  '#trigger; must be a non-empty string or object with a type key that has a non-empty value.';
                if (!e) throw new Error(n);
                (this.log || Mt).error(n);
              }
              return dn(this.eventBusEl_, e, t);
            },
          };
        function jn(e, t) {
          void 0 === t && (t = {});
          var i = t.eventBusKey;
          if (i) {
            if (!e[i].nodeName)
              throw new Error(
                'The eventBusKey "' + i + '" does not refer to an element.',
              );
            e.eventBusEl_ = e[i];
          } else e.eventBusEl_ = Ai('span', { className: 'vjs-event-bus' });
          return (
            Wt(e, En),
            e.eventedCallbacks &&
              e.eventedCallbacks.forEach(function (e) {
                e();
              }),
            e.on('dispose', function () {
              e.off(),
                r().setTimeout(function () {
                  e.eventBusEl_ = null;
                }, 0);
            }),
            e
          );
        }
        var Pn = {
          state: {},
          setState: function (e) {
            var t,
              i = this;
            return (
              'function' == typeof e && (e = e()),
              Ft(e, function (e, n) {
                i.state[n] !== e &&
                  ((t = t || {})[n] = { from: i.state[n], to: e }),
                  (i.state[n] = e);
              }),
              t &&
                bn(this) &&
                this.trigger({ changes: t, type: 'statechanged' }),
              t
            );
          },
        };
        function In(e, t) {
          return (
            Wt(e, Pn),
            (e.state = Wt({}, e.state, t)),
            'function' == typeof e.handleStateChanged &&
              bn(e) &&
              e.on('statechanged', e.handleStateChanged),
            e
          );
        }
        var xn = function (e) {
            return 'string' != typeof e
              ? e
              : e.replace(/./, function (e) {
                  return e.toLowerCase();
                });
          },
          Ln = function (e) {
            return 'string' != typeof e
              ? e
              : e.replace(/./, function (e) {
                  return e.toUpperCase();
                });
          };
        function Dn() {
          for (
            var e = {}, t = arguments.length, i = new Array(t), n = 0;
            n < t;
            n++
          )
            i[n] = arguments[n];
          return (
            i.forEach(function (t) {
              t &&
                Ft(t, function (t, i) {
                  Ht(t)
                    ? (Ht(e[i]) || (e[i] = {}), (e[i] = Dn(e[i], t)))
                    : (e[i] = t);
                });
            }),
            e
          );
        }
        var Rn = (function () {
            function e() {
              this.map_ = {};
            }
            var t = e.prototype;
            return (
              (t.has = function (e) {
                return e in this.map_;
              }),
              (t.delete = function (e) {
                var t = this.has(e);
                return delete this.map_[e], t;
              }),
              (t.set = function (e, t) {
                return (this.map_[e] = t), this;
              }),
              (t.forEach = function (e, t) {
                for (var i in this.map_) e.call(t, this.map_[i], i, this);
              }),
              e
            );
          })(),
          On = r().Map ? r().Map : Rn,
          Mn = (function () {
            function e() {
              this.set_ = {};
            }
            var t = e.prototype;
            return (
              (t.has = function (e) {
                return e in this.set_;
              }),
              (t.delete = function (e) {
                var t = this.has(e);
                return delete this.set_[e], t;
              }),
              (t.add = function (e) {
                return (this.set_[e] = 1), this;
              }),
              (t.forEach = function (e, t) {
                for (var i in this.set_) e.call(t, i, i, this);
              }),
              e
            );
          })(),
          Nn = r().Set ? r().Set : Mn,
          Bn = (function () {
            function e(e, t, i) {
              if (
                (!e && this.play
                  ? (this.player_ = e = this)
                  : (this.player_ = e),
                (this.isDisposed_ = !1),
                (this.parentComponent_ = null),
                (this.options_ = Dn({}, this.options_)),
                (t = this.options_ = Dn(this.options_, t)),
                (this.id_ = t.id || (t.el && t.el.id)),
                !this.id_)
              ) {
                var n = (e && e.id && e.id()) || 'no_player';
                this.id_ = n + '_component_' + en();
              }
              (this.name_ = t.name || null),
                t.el
                  ? (this.el_ = t.el)
                  : !1 !== t.createEl && (this.el_ = this.createEl()),
                !1 !== t.evented &&
                  (jn(this, { eventBusKey: this.el_ ? 'el_' : null }),
                  (this.handleLanguagechange =
                    this.handleLanguagechange.bind(this)),
                  this.on(
                    this.player_,
                    'languagechange',
                    this.handleLanguagechange,
                  )),
                In(this, this.constructor.defaultState),
                (this.children_ = []),
                (this.childIndex_ = {}),
                (this.childNameIndex_ = {}),
                (this.setTimeoutIds_ = new Nn()),
                (this.setIntervalIds_ = new Nn()),
                (this.rafIds_ = new Nn()),
                (this.namedRafs_ = new On()),
                (this.clearingTimersOnDispose_ = !1),
                !1 !== t.initChildren && this.initChildren(),
                this.ready(i),
                !1 !== t.reportTouchActivity && this.enableTouchActivity();
            }
            var t = e.prototype;
            return (
              (t.dispose = function () {
                if (!this.isDisposed_) {
                  if (
                    (this.readyQueue_ && (this.readyQueue_.length = 0),
                    this.trigger({ type: 'dispose', bubbles: !1 }),
                    (this.isDisposed_ = !0),
                    this.children_)
                  )
                    for (var e = this.children_.length - 1; e >= 0; e--)
                      this.children_[e].dispose && this.children_[e].dispose();
                  (this.children_ = null),
                    (this.childIndex_ = null),
                    (this.childNameIndex_ = null),
                    (this.parentComponent_ = null),
                    this.el_ &&
                      (this.el_.parentNode &&
                        this.el_.parentNode.removeChild(this.el_),
                      nn.has(this.el_) && nn.delete(this.el_),
                      (this.el_ = null)),
                    (this.player_ = null);
                }
              }),
              (t.isDisposed = function () {
                return Boolean(this.isDisposed_);
              }),
              (t.player = function () {
                return this.player_;
              }),
              (t.options = function (e) {
                return e
                  ? ((this.options_ = Dn(this.options_, e)), this.options_)
                  : this.options_;
              }),
              (t.el = function () {
                return this.el_;
              }),
              (t.createEl = function (e, t, i) {
                return Ai(e, t, i);
              }),
              (t.localize = function (e, t, i) {
                void 0 === i && (i = e);
                var n = this.player_.language && this.player_.language(),
                  r = this.player_.languages && this.player_.languages(),
                  s = r && r[n],
                  a = n && n.split('-')[0],
                  o = r && r[a],
                  l = i;
                return (
                  s && s[e] ? (l = s[e]) : o && o[e] && (l = o[e]),
                  t &&
                    (l = l.replace(/\{(\d+)\}/g, function (e, i) {
                      var n = t[i - 1],
                        r = n;
                      return void 0 === n && (r = e), r;
                    })),
                  l
                );
              }),
              (t.handleLanguagechange = function () {}),
              (t.contentEl = function () {
                return this.contentEl_ || this.el_;
              }),
              (t.id = function () {
                return this.id_;
              }),
              (t.name = function () {
                return this.name_;
              }),
              (t.children = function () {
                return this.children_;
              }),
              (t.getChildById = function (e) {
                return this.childIndex_[e];
              }),
              (t.getChild = function (e) {
                if (e) return this.childNameIndex_[e];
              }),
              (t.getDescendant = function () {
                for (
                  var e = arguments.length, t = new Array(e), i = 0;
                  i < e;
                  i++
                )
                  t[i] = arguments[i];
                t = t.reduce(function (e, t) {
                  return e.concat(t);
                }, []);
                for (var n = this, r = 0; r < t.length; r++)
                  if (!(n = n.getChild(t[r])) || !n.getChild) return;
                return n;
              }),
              (t.addChild = function (t, i, n) {
                var r, s;
                if (
                  (void 0 === i && (i = {}),
                  void 0 === n && (n = this.children_.length),
                  'string' == typeof t)
                ) {
                  s = Ln(t);
                  var a = i.componentClass || s;
                  i.name = s;
                  var o = e.getComponent(a);
                  if (!o) throw new Error('Component ' + a + ' does not exist');
                  if ('function' != typeof o) return null;
                  r = new o(this.player_ || this, i);
                } else r = t;
                if (
                  (r.parentComponent_ && r.parentComponent_.removeChild(r),
                  this.children_.splice(n, 0, r),
                  (r.parentComponent_ = this),
                  'function' == typeof r.id && (this.childIndex_[r.id()] = r),
                  (s = s || (r.name && Ln(r.name()))) &&
                    ((this.childNameIndex_[s] = r),
                    (this.childNameIndex_[xn(s)] = r)),
                  'function' == typeof r.el && r.el())
                ) {
                  var l = null;
                  this.children_[n + 1] &&
                    (this.children_[n + 1].el_
                      ? (l = this.children_[n + 1].el_)
                      : gi(this.children_[n + 1]) &&
                        (l = this.children_[n + 1])),
                    this.contentEl().insertBefore(r.el(), l);
                }
                return r;
              }),
              (t.removeChild = function (e) {
                if (
                  ('string' == typeof e && (e = this.getChild(e)),
                  e && this.children_)
                ) {
                  for (var t = !1, i = this.children_.length - 1; i >= 0; i--)
                    if (this.children_[i] === e) {
                      (t = !0), this.children_.splice(i, 1);
                      break;
                    }
                  if (t) {
                    (e.parentComponent_ = null),
                      (this.childIndex_[e.id()] = null),
                      (this.childNameIndex_[Ln(e.name())] = null),
                      (this.childNameIndex_[xn(e.name())] = null);
                    var n = e.el();
                    n &&
                      n.parentNode === this.contentEl() &&
                      this.contentEl().removeChild(e.el());
                  }
                }
              }),
              (t.initChildren = function () {
                var t = this,
                  i = this.options_.children;
                if (i) {
                  var n,
                    r = this.options_,
                    s = e.getComponent('Tech');
                  (n = Array.isArray(i) ? i : Object.keys(i))
                    .concat(
                      Object.keys(this.options_).filter(function (e) {
                        return !n.some(function (t) {
                          return 'string' == typeof t ? e === t : e === t.name;
                        });
                      }),
                    )
                    .map(function (e) {
                      var n, r;
                      return (
                        'string' == typeof e
                          ? (r = i[(n = e)] || t.options_[n] || {})
                          : ((n = e.name), (r = e)),
                        { name: n, opts: r }
                      );
                    })
                    .filter(function (t) {
                      var i = e.getComponent(
                        t.opts.componentClass || Ln(t.name),
                      );
                      return i && !s.isTech(i);
                    })
                    .forEach(function (e) {
                      var i = e.name,
                        n = e.opts;
                      if ((void 0 !== r[i] && (n = r[i]), !1 !== n)) {
                        !0 === n && (n = {}),
                          (n.playerOptions = t.options_.playerOptions);
                        var s = t.addChild(i, n);
                        s && (t[i] = s);
                      }
                    });
                }
              }),
              (t.buildCSSClass = function () {
                return '';
              }),
              (t.ready = function (e, t) {
                if ((void 0 === t && (t = !1), e))
                  return this.isReady_
                    ? void (t ? e.call(this) : this.setTimeout(e, 1))
                    : ((this.readyQueue_ = this.readyQueue_ || []),
                      void this.readyQueue_.push(e));
              }),
              (t.triggerReady = function () {
                (this.isReady_ = !0),
                  this.setTimeout(function () {
                    var e = this.readyQueue_;
                    (this.readyQueue_ = []),
                      e &&
                        e.length > 0 &&
                        e.forEach(function (e) {
                          e.call(this);
                        }, this),
                      this.trigger('ready');
                  }, 1);
              }),
              (t.$ = function (e, t) {
                return Hi(e, t || this.contentEl());
              }),
              (t.$$ = function (e, t) {
                return qi(e, t || this.contentEl());
              }),
              (t.hasClass = function (e) {
                return Si(this.el_, e);
              }),
              (t.addClass = function (e) {
                wi(this.el_, e);
              }),
              (t.removeClass = function (e) {
                ki(this.el_, e);
              }),
              (t.toggleClass = function (e, t) {
                _i(this.el_, e, t);
              }),
              (t.show = function () {
                this.removeClass('vjs-hidden');
              }),
              (t.hide = function () {
                this.addClass('vjs-hidden');
              }),
              (t.lockShowing = function () {
                this.addClass('vjs-lock-showing');
              }),
              (t.unlockShowing = function () {
                this.removeClass('vjs-lock-showing');
              }),
              (t.getAttribute = function (e) {
                return ji(this.el_, e);
              }),
              (t.setAttribute = function (e, t) {
                Pi(this.el_, e, t);
              }),
              (t.removeAttribute = function (e) {
                Ii(this.el_, e);
              }),
              (t.width = function (e, t) {
                return this.dimension('width', e, t);
              }),
              (t.height = function (e, t) {
                return this.dimension('height', e, t);
              }),
              (t.dimensions = function (e, t) {
                this.width(e, !0), this.height(t);
              }),
              (t.dimension = function (e, t, i) {
                if (void 0 !== t)
                  return (
                    (null !== t && t == t) || (t = 0),
                    -1 !== ('' + t).indexOf('%') ||
                    -1 !== ('' + t).indexOf('px')
                      ? (this.el_.style[e] = t)
                      : (this.el_.style[e] = 'auto' === t ? '' : t + 'px'),
                    void (i || this.trigger('componentresize'))
                  );
                if (!this.el_) return 0;
                var n = this.el_.style[e],
                  r = n.indexOf('px');
                return -1 !== r
                  ? parseInt(n.slice(0, r), 10)
                  : parseInt(this.el_['offset' + Ln(e)], 10);
              }),
              (t.currentDimension = function (e) {
                var t = 0;
                if ('width' !== e && 'height' !== e)
                  throw new Error(
                    'currentDimension only accepts width or height value',
                  );
                if (
                  ((t = qt(this.el_, e)), 0 === (t = parseFloat(t)) || isNaN(t))
                ) {
                  var i = 'offset' + Ln(e);
                  t = this.el_[i];
                }
                return t;
              }),
              (t.currentDimensions = function () {
                return {
                  width: this.currentDimension('width'),
                  height: this.currentDimension('height'),
                };
              }),
              (t.currentWidth = function () {
                return this.currentDimension('width');
              }),
              (t.currentHeight = function () {
                return this.currentDimension('height');
              }),
              (t.focus = function () {
                this.el_.focus();
              }),
              (t.blur = function () {
                this.el_.blur();
              }),
              (t.handleKeyDown = function (e) {
                this.player_ &&
                  (e.stopPropagation(), this.player_.handleKeyDown(e));
              }),
              (t.handleKeyPress = function (e) {
                this.handleKeyDown(e);
              }),
              (t.emitTapEvents = function () {
                var e,
                  t = 0,
                  i = null;
                this.on('touchstart', function (n) {
                  1 === n.touches.length &&
                    ((i = {
                      pageX: n.touches[0].pageX,
                      pageY: n.touches[0].pageY,
                    }),
                    (t = r().performance.now()),
                    (e = !0));
                }),
                  this.on('touchmove', function (t) {
                    if (t.touches.length > 1) e = !1;
                    else if (i) {
                      var n = t.touches[0].pageX - i.pageX,
                        r = t.touches[0].pageY - i.pageY;
                      Math.sqrt(n * n + r * r) > 10 && (e = !1);
                    }
                  });
                var n = function () {
                  e = !1;
                };
                this.on('touchleave', n),
                  this.on('touchcancel', n),
                  this.on('touchend', function (n) {
                    ((i = null), !0 === e) &&
                      r().performance.now() - t < 200 &&
                      (n.preventDefault(), this.trigger('tap'));
                  });
              }),
              (t.enableTouchActivity = function () {
                if (this.player() && this.player().reportUserActivity) {
                  var e,
                    t = gn(this.player(), this.player().reportUserActivity);
                  this.on('touchstart', function () {
                    t(), this.clearInterval(e), (e = this.setInterval(t, 250));
                  });
                  var i = function (i) {
                    t(), this.clearInterval(e);
                  };
                  this.on('touchmove', t),
                    this.on('touchend', i),
                    this.on('touchcancel', i);
                }
              }),
              (t.setTimeout = function (e, t) {
                var i,
                  n = this;
                return (
                  (e = gn(this, e)),
                  this.clearTimersOnDispose_(),
                  (i = r().setTimeout(function () {
                    n.setTimeoutIds_.has(i) && n.setTimeoutIds_.delete(i), e();
                  }, t)),
                  this.setTimeoutIds_.add(i),
                  i
                );
              }),
              (t.clearTimeout = function (e) {
                return (
                  this.setTimeoutIds_.has(e) &&
                    (this.setTimeoutIds_.delete(e), r().clearTimeout(e)),
                  e
                );
              }),
              (t.setInterval = function (e, t) {
                (e = gn(this, e)), this.clearTimersOnDispose_();
                var i = r().setInterval(e, t);
                return this.setIntervalIds_.add(i), i;
              }),
              (t.clearInterval = function (e) {
                return (
                  this.setIntervalIds_.has(e) &&
                    (this.setIntervalIds_.delete(e), r().clearInterval(e)),
                  e
                );
              }),
              (t.requestAnimationFrame = function (e) {
                var t,
                  i = this;
                return this.supportsRaf_
                  ? (this.clearTimersOnDispose_(),
                    (e = gn(this, e)),
                    (t = r().requestAnimationFrame(function () {
                      i.rafIds_.has(t) && i.rafIds_.delete(t), e();
                    })),
                    this.rafIds_.add(t),
                    t)
                  : this.setTimeout(e, 1e3 / 60);
              }),
              (t.requestNamedAnimationFrame = function (e, t) {
                var i = this;
                if (!this.namedRafs_.has(e)) {
                  this.clearTimersOnDispose_(), (t = gn(this, t));
                  var n = this.requestAnimationFrame(function () {
                    t(), i.namedRafs_.has(e) && i.namedRafs_.delete(e);
                  });
                  return this.namedRafs_.set(e, n), e;
                }
              }),
              (t.cancelNamedAnimationFrame = function (e) {
                this.namedRafs_.has(e) &&
                  (this.cancelAnimationFrame(this.namedRafs_.get(e)),
                  this.namedRafs_.delete(e));
              }),
              (t.cancelAnimationFrame = function (e) {
                return this.supportsRaf_
                  ? (this.rafIds_.has(e) &&
                      (this.rafIds_.delete(e), r().cancelAnimationFrame(e)),
                    e)
                  : this.clearTimeout(e);
              }),
              (t.clearTimersOnDispose_ = function () {
                var e = this;
                this.clearingTimersOnDispose_ ||
                  ((this.clearingTimersOnDispose_ = !0),
                  this.one('dispose', function () {
                    [
                      ['namedRafs_', 'cancelNamedAnimationFrame'],
                      ['rafIds_', 'cancelAnimationFrame'],
                      ['setTimeoutIds_', 'clearTimeout'],
                      ['setIntervalIds_', 'clearInterval'],
                    ].forEach(function (t) {
                      var i = t[0],
                        n = t[1];
                      e[i].forEach(function (t, i) {
                        return e[n](i);
                      });
                    }),
                      (e.clearingTimersOnDispose_ = !1);
                  }));
              }),
              (e.registerComponent = function (t, i) {
                if ('string' != typeof t || !t)
                  throw new Error(
                    'Illegal component name, "' +
                      t +
                      '"; must be a non-empty string.',
                  );
                var n,
                  r = e.getComponent('Tech'),
                  s = r && r.isTech(i),
                  a = e === i || e.prototype.isPrototypeOf(i.prototype);
                if (s || !a)
                  throw (
                    ((n = s
                      ? 'techs must be registered using Tech.registerTech()'
                      : 'must be a Component subclass'),
                    new Error('Illegal component, "' + t + '"; ' + n + '.'))
                  );
                (t = Ln(t)), e.components_ || (e.components_ = {});
                var o = e.getComponent('Player');
                if ('Player' === t && o && o.players) {
                  var l = o.players,
                    u = Object.keys(l);
                  if (
                    l &&
                    u.length > 0 &&
                    u
                      .map(function (e) {
                        return l[e];
                      })
                      .every(Boolean)
                  )
                    throw new Error(
                      'Can not register Player component after player has been created.',
                    );
                }
                return (e.components_[t] = i), (e.components_[xn(t)] = i), i;
              }),
              (e.getComponent = function (t) {
                if (t && e.components_) return e.components_[t];
              }),
              e
            );
          })();
        function Un(e, t, i, n) {
          return (
            (function (e, t, i) {
              if ('number' != typeof t || t < 0 || t > i)
                throw new Error(
                  "Failed to execute '" +
                    e +
                    "' on 'TimeRanges': The index provided (" +
                    t +
                    ') is non-numeric or out of bounds (0-' +
                    i +
                    ').',
                );
            })(e, n, i.length - 1),
            i[n][t]
          );
        }
        function Fn(e) {
          return void 0 === e || 0 === e.length
            ? {
                length: 0,
                start: function () {
                  throw new Error('This TimeRanges object is empty');
                },
                end: function () {
                  throw new Error('This TimeRanges object is empty');
                },
              }
            : {
                length: e.length,
                start: Un.bind(null, 'start', 0, e),
                end: Un.bind(null, 'end', 1, e),
              };
        }
        function Wn(e, t) {
          return Array.isArray(e)
            ? Fn(e)
            : void 0 === e || void 0 === t
              ? Fn()
              : Fn([[e, t]]);
        }
        function Vn(e, t) {
          var i,
            n,
            r = 0;
          if (!t) return 0;
          (e && e.length) || (e = Wn(0, 0));
          for (var s = 0; s < e.length; s++)
            (i = e.start(s)), (n = e.end(s)) > t && (n = t), (r += n - i);
          return r / t;
        }
        function Hn(e) {
          if (e instanceof Hn) return e;
          'number' == typeof e
            ? (this.code = e)
            : 'string' == typeof e
              ? (this.message = e)
              : Vt(e) &&
                ('number' == typeof e.code && (this.code = e.code),
                Wt(this, e)),
            this.message ||
              (this.message = Hn.defaultMessages[this.code] || '');
        }
        (Bn.prototype.supportsRaf_ =
          'function' == typeof r().requestAnimationFrame &&
          'function' == typeof r().cancelAnimationFrame),
          Bn.registerComponent('Component', Bn),
          (Hn.prototype.code = 0),
          (Hn.prototype.message = ''),
          (Hn.prototype.status = null),
          (Hn.errorTypes = [
            'MEDIA_ERR_CUSTOM',
            'MEDIA_ERR_ABORTED',
            'MEDIA_ERR_NETWORK',
            'MEDIA_ERR_DECODE',
            'MEDIA_ERR_SRC_NOT_SUPPORTED',
            'MEDIA_ERR_ENCRYPTED',
          ]),
          (Hn.defaultMessages = {
            1: 'You aborted the media playback',
            2: 'A network error caused the media download to fail part-way.',
            3: 'The media playback was aborted due to a corruption problem or because the media used features your browser did not support.',
            4: 'The media could not be loaded, either because the server or network failed or because the format is not supported.',
            5: 'The media is encrypted and we do not have the keys to decrypt it.',
          });
        for (var qn = 0; qn < Hn.errorTypes.length; qn++)
          (Hn[Hn.errorTypes[qn]] = qn), (Hn.prototype[Hn.errorTypes[qn]] = qn);
        function zn(e) {
          return null != e && 'function' == typeof e.then;
        }
        function Kn(e) {
          zn(e) && e.then(null, function (e) {});
        }
        var Xn = function (e) {
            return [
              'kind',
              'label',
              'language',
              'id',
              'inBandMetadataTrackDispatchType',
              'mode',
              'src',
            ].reduce(
              function (t, i, n) {
                return e[i] && (t[i] = e[i]), t;
              },
              {
                cues:
                  e.cues &&
                  Array.prototype.map.call(e.cues, function (e) {
                    return {
                      startTime: e.startTime,
                      endTime: e.endTime,
                      text: e.text,
                      id: e.id,
                    };
                  }),
              },
            );
          },
          Qn = function (e) {
            var t = e.$$('track'),
              i = Array.prototype.map.call(t, function (e) {
                return e.track;
              });
            return Array.prototype.map
              .call(t, function (e) {
                var t = Xn(e.track);
                return e.src && (t.src = e.src), t;
              })
              .concat(
                Array.prototype.filter
                  .call(e.textTracks(), function (e) {
                    return -1 === i.indexOf(e);
                  })
                  .map(Xn),
              );
          },
          Gn = function (e, t) {
            return (
              e.forEach(function (e) {
                var i = t.addRemoteTextTrack(e).track;
                !e.src &&
                  e.cues &&
                  e.cues.forEach(function (e) {
                    return i.addCue(e);
                  });
              }),
              t.textTracks()
            );
          },
          Yn = (function (e) {
            function t(t, i) {
              var n;
              return (
                ((n = e.call(this, t, i) || this).handleKeyDown_ = function (
                  e,
                ) {
                  return n.handleKeyDown(e);
                }),
                (n.close_ = function (e) {
                  return n.close(e);
                }),
                (n.opened_ = n.hasBeenOpened_ = n.hasBeenFilled_ = !1),
                n.closeable(!n.options_.uncloseable),
                n.content(n.options_.content),
                (n.contentEl_ = Ai(
                  'div',
                  { className: 'vjs-modal-dialog-content' },
                  { role: 'document' },
                )),
                (n.descEl_ = Ai('p', {
                  className: 'vjs-modal-dialog-description vjs-control-text',
                  id: n.el().getAttribute('aria-describedby'),
                })),
                bi(n.descEl_, n.description()),
                n.el_.appendChild(n.descEl_),
                n.el_.appendChild(n.contentEl_),
                n
              );
            }
            d(t, e);
            var i = t.prototype;
            return (
              (i.createEl = function () {
                return e.prototype.createEl.call(
                  this,
                  'div',
                  { className: this.buildCSSClass(), tabIndex: -1 },
                  {
                    'aria-describedby': this.id() + '_description',
                    'aria-hidden': 'true',
                    'aria-label': this.label(),
                    role: 'dialog',
                  },
                );
              }),
              (i.dispose = function () {
                (this.contentEl_ = null),
                  (this.descEl_ = null),
                  (this.previouslyActiveEl_ = null),
                  e.prototype.dispose.call(this);
              }),
              (i.buildCSSClass = function () {
                return (
                  'vjs-modal-dialog vjs-hidden ' +
                  e.prototype.buildCSSClass.call(this)
                );
              }),
              (i.label = function () {
                return this.localize(this.options_.label || 'Modal Window');
              }),
              (i.description = function () {
                var e =
                  this.options_.description ||
                  this.localize('This is a modal window.');
                return (
                  this.closeable() &&
                    (e +=
                      ' ' +
                      this.localize(
                        'This modal can be closed by pressing the Escape key or activating the close button.',
                      )),
                  e
                );
              }),
              (i.open = function () {
                if (!this.opened_) {
                  var e = this.player();
                  this.trigger('beforemodalopen'),
                    (this.opened_ = !0),
                    (this.options_.fillAlways ||
                      (!this.hasBeenOpened_ && !this.hasBeenFilled_)) &&
                      this.fill(),
                    (this.wasPlaying_ = !e.paused()),
                    this.options_.pauseOnOpen && this.wasPlaying_ && e.pause(),
                    this.on('keydown', this.handleKeyDown_),
                    (this.hadControls_ = e.controls()),
                    e.controls(!1),
                    this.show(),
                    this.conditionalFocus_(),
                    this.el().setAttribute('aria-hidden', 'false'),
                    this.trigger('modalopen'),
                    (this.hasBeenOpened_ = !0);
                }
              }),
              (i.opened = function (e) {
                return (
                  'boolean' == typeof e && this[e ? 'open' : 'close'](),
                  this.opened_
                );
              }),
              (i.close = function () {
                if (this.opened_) {
                  var e = this.player();
                  this.trigger('beforemodalclose'),
                    (this.opened_ = !1),
                    this.wasPlaying_ && this.options_.pauseOnOpen && e.play(),
                    this.off('keydown', this.handleKeyDown_),
                    this.hadControls_ && e.controls(!0),
                    this.hide(),
                    this.el().setAttribute('aria-hidden', 'true'),
                    this.trigger('modalclose'),
                    this.conditionalBlur_(),
                    this.options_.temporary && this.dispose();
                }
              }),
              (i.closeable = function (e) {
                if ('boolean' == typeof e) {
                  var t = (this.closeable_ = !!e),
                    i = this.getChild('closeButton');
                  if (t && !i) {
                    var n = this.contentEl_;
                    (this.contentEl_ = this.el_),
                      (i = this.addChild('closeButton', {
                        controlText: 'Close Modal Dialog',
                      })),
                      (this.contentEl_ = n),
                      this.on(i, 'close', this.close_);
                  }
                  !t &&
                    i &&
                    (this.off(i, 'close', this.close_),
                    this.removeChild(i),
                    i.dispose());
                }
                return this.closeable_;
              }),
              (i.fill = function () {
                this.fillWith(this.content());
              }),
              (i.fillWith = function (e) {
                var t = this.contentEl(),
                  i = t.parentNode,
                  n = t.nextSibling;
                this.trigger('beforemodalfill'),
                  (this.hasBeenFilled_ = !0),
                  i.removeChild(t),
                  this.empty(),
                  Fi(t, e),
                  this.trigger('modalfill'),
                  n ? i.insertBefore(t, n) : i.appendChild(t);
                var r = this.getChild('closeButton');
                r && i.appendChild(r.el_);
              }),
              (i.empty = function () {
                this.trigger('beforemodalempty'),
                  Ni(this.contentEl()),
                  this.trigger('modalempty');
              }),
              (i.content = function (e) {
                return void 0 !== e && (this.content_ = e), this.content_;
              }),
              (i.conditionalFocus_ = function () {
                var e = a().activeElement,
                  t = this.player_.el_;
                (this.previouslyActiveEl_ = null),
                  (t.contains(e) || t === e) &&
                    ((this.previouslyActiveEl_ = e), this.focus());
              }),
              (i.conditionalBlur_ = function () {
                this.previouslyActiveEl_ &&
                  (this.previouslyActiveEl_.focus(),
                  (this.previouslyActiveEl_ = null));
              }),
              (i.handleKeyDown = function (e) {
                if (
                  (e.stopPropagation(),
                  f().isEventKey(e, 'Escape') && this.closeable())
                )
                  return e.preventDefault(), void this.close();
                if (f().isEventKey(e, 'Tab')) {
                  for (
                    var t,
                      i = this.focusableEls_(),
                      n = this.el_.querySelector(':focus'),
                      r = 0;
                    r < i.length;
                    r++
                  )
                    if (n === i[r]) {
                      t = r;
                      break;
                    }
                  a().activeElement === this.el_ && (t = 0),
                    e.shiftKey && 0 === t
                      ? (i[i.length - 1].focus(), e.preventDefault())
                      : e.shiftKey ||
                        t !== i.length - 1 ||
                        (i[0].focus(), e.preventDefault());
                }
              }),
              (i.focusableEls_ = function () {
                var e = this.el_.querySelectorAll('*');
                return Array.prototype.filter.call(e, function (e) {
                  return (
                    ((e instanceof r().HTMLAnchorElement ||
                      e instanceof r().HTMLAreaElement) &&
                      e.hasAttribute('href')) ||
                    ((e instanceof r().HTMLInputElement ||
                      e instanceof r().HTMLSelectElement ||
                      e instanceof r().HTMLTextAreaElement ||
                      e instanceof r().HTMLButtonElement) &&
                      !e.hasAttribute('disabled')) ||
                    e instanceof r().HTMLIFrameElement ||
                    e instanceof r().HTMLObjectElement ||
                    e instanceof r().HTMLEmbedElement ||
                    (e.hasAttribute('tabindex') &&
                      -1 !== e.getAttribute('tabindex')) ||
                    e.hasAttribute('contenteditable')
                  );
                });
              }),
              t
            );
          })(Bn);
        (Yn.prototype.options_ = { pauseOnOpen: !0, temporary: !0 }),
          Bn.registerComponent('ModalDialog', Yn);
        var Jn = (function (e) {
          function t(t) {
            var i;
            void 0 === t && (t = []),
              ((i = e.call(this) || this).tracks_ = []),
              Object.defineProperty(l(i), 'length', {
                get: function () {
                  return this.tracks_.length;
                },
              });
            for (var n = 0; n < t.length; n++) i.addTrack(t[n]);
            return i;
          }
          d(t, e);
          var i = t.prototype;
          return (
            (i.addTrack = function (e) {
              var t = this,
                i = this.tracks_.length;
              '' + i in this ||
                Object.defineProperty(this, i, {
                  get: function () {
                    return this.tracks_[i];
                  },
                }),
                -1 === this.tracks_.indexOf(e) &&
                  (this.tracks_.push(e),
                  this.trigger({ track: e, type: 'addtrack', target: this })),
                (e.labelchange_ = function () {
                  t.trigger({ track: e, type: 'labelchange', target: t });
                }),
                bn(e) && e.addEventListener('labelchange', e.labelchange_);
            }),
            (i.removeTrack = function (e) {
              for (var t, i = 0, n = this.length; i < n; i++)
                if (this[i] === e) {
                  (t = this[i]).off && t.off(), this.tracks_.splice(i, 1);
                  break;
                }
              t &&
                this.trigger({ track: t, type: 'removetrack', target: this });
            }),
            (i.getTrackById = function (e) {
              for (var t = null, i = 0, n = this.length; i < n; i++) {
                var r = this[i];
                if (r.id === e) {
                  t = r;
                  break;
                }
              }
              return t;
            }),
            t
          );
        })(yn);
        for (var Zn in ((Jn.prototype.allowedEvents_ = {
          change: 'change',
          addtrack: 'addtrack',
          removetrack: 'removetrack',
          labelchange: 'labelchange',
        }),
        Jn.prototype.allowedEvents_))
          Jn.prototype['on' + Zn] = null;
        var $n = function (e, t) {
            for (var i = 0; i < e.length; i++)
              Object.keys(e[i]).length &&
                t.id !== e[i].id &&
                (e[i].enabled = !1);
          },
          er = (function (e) {
            function t(t) {
              var i;
              void 0 === t && (t = []);
              for (var n = t.length - 1; n >= 0; n--)
                if (t[n].enabled) {
                  $n(t, t[n]);
                  break;
                }
              return ((i = e.call(this, t) || this).changing_ = !1), i;
            }
            d(t, e);
            var i = t.prototype;
            return (
              (i.addTrack = function (t) {
                var i = this;
                t.enabled && $n(this, t),
                  e.prototype.addTrack.call(this, t),
                  t.addEventListener &&
                    ((t.enabledChange_ = function () {
                      i.changing_ ||
                        ((i.changing_ = !0),
                        $n(i, t),
                        (i.changing_ = !1),
                        i.trigger('change'));
                    }),
                    t.addEventListener('enabledchange', t.enabledChange_));
              }),
              (i.removeTrack = function (t) {
                e.prototype.removeTrack.call(this, t),
                  t.removeEventListener &&
                    t.enabledChange_ &&
                    (t.removeEventListener('enabledchange', t.enabledChange_),
                    (t.enabledChange_ = null));
              }),
              t
            );
          })(Jn),
          tr = function (e, t) {
            for (var i = 0; i < e.length; i++)
              Object.keys(e[i]).length &&
                t.id !== e[i].id &&
                (e[i].selected = !1);
          },
          ir = (function (e) {
            function t(t) {
              var i;
              void 0 === t && (t = []);
              for (var n = t.length - 1; n >= 0; n--)
                if (t[n].selected) {
                  tr(t, t[n]);
                  break;
                }
              return (
                ((i = e.call(this, t) || this).changing_ = !1),
                Object.defineProperty(l(i), 'selectedIndex', {
                  get: function () {
                    for (var e = 0; e < this.length; e++)
                      if (this[e].selected) return e;
                    return -1;
                  },
                  set: function () {},
                }),
                i
              );
            }
            d(t, e);
            var i = t.prototype;
            return (
              (i.addTrack = function (t) {
                var i = this;
                t.selected && tr(this, t),
                  e.prototype.addTrack.call(this, t),
                  t.addEventListener &&
                    ((t.selectedChange_ = function () {
                      i.changing_ ||
                        ((i.changing_ = !0),
                        tr(i, t),
                        (i.changing_ = !1),
                        i.trigger('change'));
                    }),
                    t.addEventListener('selectedchange', t.selectedChange_));
              }),
              (i.removeTrack = function (t) {
                e.prototype.removeTrack.call(this, t),
                  t.removeEventListener &&
                    t.selectedChange_ &&
                    (t.removeEventListener('selectedchange', t.selectedChange_),
                    (t.selectedChange_ = null));
              }),
              t
            );
          })(Jn),
          nr = (function (e) {
            function t() {
              return e.apply(this, arguments) || this;
            }
            d(t, e);
            var i = t.prototype;
            return (
              (i.addTrack = function (t) {
                var i = this;
                e.prototype.addTrack.call(this, t),
                  this.queueChange_ ||
                    (this.queueChange_ = function () {
                      return i.queueTrigger('change');
                    }),
                  this.triggerSelectedlanguagechange ||
                    (this.triggerSelectedlanguagechange_ = function () {
                      return i.trigger('selectedlanguagechange');
                    }),
                  t.addEventListener('modechange', this.queueChange_);
                -1 === ['metadata', 'chapters'].indexOf(t.kind) &&
                  t.addEventListener(
                    'modechange',
                    this.triggerSelectedlanguagechange_,
                  );
              }),
              (i.removeTrack = function (t) {
                e.prototype.removeTrack.call(this, t),
                  t.removeEventListener &&
                    (this.queueChange_ &&
                      t.removeEventListener('modechange', this.queueChange_),
                    this.selectedlanguagechange_ &&
                      t.removeEventListener(
                        'modechange',
                        this.triggerSelectedlanguagechange_,
                      ));
              }),
              t
            );
          })(Jn),
          rr = (function () {
            function e(e) {
              void 0 === e && (e = []),
                (this.trackElements_ = []),
                Object.defineProperty(this, 'length', {
                  get: function () {
                    return this.trackElements_.length;
                  },
                });
              for (var t = 0, i = e.length; t < i; t++)
                this.addTrackElement_(e[t]);
            }
            var t = e.prototype;
            return (
              (t.addTrackElement_ = function (e) {
                var t = this.trackElements_.length;
                '' + t in this ||
                  Object.defineProperty(this, t, {
                    get: function () {
                      return this.trackElements_[t];
                    },
                  }),
                  -1 === this.trackElements_.indexOf(e) &&
                    this.trackElements_.push(e);
              }),
              (t.getTrackElementByTrack_ = function (e) {
                for (var t, i = 0, n = this.trackElements_.length; i < n; i++)
                  if (e === this.trackElements_[i].track) {
                    t = this.trackElements_[i];
                    break;
                  }
                return t;
              }),
              (t.removeTrackElement_ = function (e) {
                for (var t = 0, i = this.trackElements_.length; t < i; t++)
                  if (e === this.trackElements_[t]) {
                    this.trackElements_[t].track &&
                      'function' == typeof this.trackElements_[t].track.off &&
                      this.trackElements_[t].track.off(),
                      'function' == typeof this.trackElements_[t].off &&
                        this.trackElements_[t].off(),
                      this.trackElements_.splice(t, 1);
                    break;
                  }
              }),
              e
            );
          })(),
          sr = (function () {
            function e(t) {
              e.prototype.setCues_.call(this, t),
                Object.defineProperty(this, 'length', {
                  get: function () {
                    return this.length_;
                  },
                });
            }
            var t = e.prototype;
            return (
              (t.setCues_ = function (e) {
                var t = this.length || 0,
                  i = 0,
                  n = e.length;
                (this.cues_ = e), (this.length_ = e.length);
                var r = function (e) {
                  '' + e in this ||
                    Object.defineProperty(this, '' + e, {
                      get: function () {
                        return this.cues_[e];
                      },
                    });
                };
                if (t < n) for (i = t; i < n; i++) r.call(this, i);
              }),
              (t.getCueById = function (e) {
                for (var t = null, i = 0, n = this.length; i < n; i++) {
                  var r = this[i];
                  if (r.id === e) {
                    t = r;
                    break;
                  }
                }
                return t;
              }),
              e
            );
          })(),
          ar = {
            alternative: 'alternative',
            captions: 'captions',
            main: 'main',
            sign: 'sign',
            subtitles: 'subtitles',
            commentary: 'commentary',
          },
          or = {
            alternative: 'alternative',
            descriptions: 'descriptions',
            main: 'main',
            'main-desc': 'main-desc',
            translation: 'translation',
            commentary: 'commentary',
          },
          lr = {
            subtitles: 'subtitles',
            captions: 'captions',
            descriptions: 'descriptions',
            chapters: 'chapters',
            metadata: 'metadata',
          },
          ur = { disabled: 'disabled', hidden: 'hidden', showing: 'showing' },
          dr = (function (e) {
            function t(t) {
              var i;
              void 0 === t && (t = {}), (i = e.call(this) || this);
              var n = {
                  id: t.id || 'vjs_track_' + en(),
                  kind: t.kind || '',
                  language: t.language || '',
                },
                r = t.label || '',
                s = function (e) {
                  Object.defineProperty(l(i), e, {
                    get: function () {
                      return n[e];
                    },
                    set: function () {},
                  });
                };
              for (var a in n) s(a);
              return (
                Object.defineProperty(l(i), 'label', {
                  get: function () {
                    return r;
                  },
                  set: function (e) {
                    e !== r && ((r = e), this.trigger('labelchange'));
                  },
                }),
                i
              );
            }
            return d(t, e), t;
          })(yn),
          cr = function (e) {
            var t = [
                'protocol',
                'hostname',
                'port',
                'pathname',
                'search',
                'hash',
                'host',
              ],
              i = a().createElement('a');
            i.href = e;
            var n,
              s = '' === i.host && 'file:' !== i.protocol;
            s &&
              (((n = a().createElement('div')).innerHTML =
                '<a href="' + e + '"></a>'),
              (i = n.firstChild),
              n.setAttribute('style', 'display:none; position:absolute;'),
              a().body.appendChild(n));
            for (var o = {}, l = 0; l < t.length; l++) o[t[l]] = i[t[l]];
            return (
              'http:' === o.protocol && (o.host = o.host.replace(/:80$/, '')),
              'https:' === o.protocol && (o.host = o.host.replace(/:443$/, '')),
              o.protocol || (o.protocol = r().location.protocol),
              s && a().body.removeChild(n),
              o
            );
          },
          hr = function (e) {
            if (!e.match(/^https?:\/\//)) {
              var t = a().createElement('div');
              (t.innerHTML = '<a href="' + e + '">x</a>'),
                (e = t.firstChild.href);
            }
            return e;
          },
          pr = function (e) {
            if ('string' == typeof e) {
              var t =
                /^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/.exec(
                  e,
                );
              if (t) return t.pop().toLowerCase();
            }
            return '';
          },
          fr = function (e, t) {
            void 0 === t && (t = r().location);
            var i = cr(e);
            return (
              (':' === i.protocol ? t.protocol : i.protocol) + i.host !==
              t.protocol + t.host
            );
          },
          mr = Object.freeze({
            __proto__: null,
            parseUrl: cr,
            getAbsoluteURL: hr,
            getFileExtension: pr,
            isCrossOrigin: fr,
          }),
          gr = function (e, t) {
            var i = new (r().WebVTT.Parser)(
                r(),
                r().vttjs,
                r().WebVTT.StringDecoder(),
              ),
              n = [];
            (i.oncue = function (e) {
              t.addCue(e);
            }),
              (i.onparsingerror = function (e) {
                n.push(e);
              }),
              (i.onflush = function () {
                t.trigger({ type: 'loadeddata', target: t });
              }),
              i.parse(e),
              n.length > 0 &&
                (r().console &&
                  r().console.groupCollapsed &&
                  r().console.groupCollapsed(
                    'Text Track parsing errors for ' + t.src,
                  ),
                n.forEach(function (e) {
                  return Mt.error(e);
                }),
                r().console && r().console.groupEnd && r().console.groupEnd()),
              i.flush();
          },
          vr = function (e, t) {
            var i = { uri: e },
              n = fr(e);
            n && (i.cors = n);
            var s = 'use-credentials' === t.tech_.crossOrigin();
            s && (i.withCredentials = s),
              g()(
                i,
                gn(this, function (e, i, n) {
                  if (e) return Mt.error(e, i);
                  (t.loaded_ = !0),
                    'function' != typeof r().WebVTT
                      ? t.tech_ &&
                        t.tech_.any(
                          ['vttjsloaded', 'vttjserror'],
                          function (e) {
                            if ('vttjserror' !== e.type) return gr(n, t);
                            Mt.error(
                              'vttjs failed to load, stopping trying to process ' +
                                t.src,
                            );
                          },
                        )
                      : gr(n, t);
                }),
              );
          },
          yr = (function (e) {
            function t(t) {
              var i;
              if ((void 0 === t && (t = {}), !t.tech))
                throw new Error('A tech was not provided.');
              var n = Dn(t, {
                  kind: lr[t.kind] || 'subtitles',
                  language: t.language || t.srclang || '',
                }),
                r = ur[n.mode] || 'disabled',
                s = n.default;
              ('metadata' !== n.kind && 'chapters' !== n.kind) ||
                (r = 'hidden'),
                ((i = e.call(this, n) || this).tech_ = n.tech),
                (i.cues_ = []),
                (i.activeCues_ = []),
                (i.preload_ = !1 !== i.tech_.preloadTextTracks);
              var a = new sr(i.cues_),
                o = new sr(i.activeCues_),
                u = !1,
                d = gn(l(i), function () {
                  this.tech_.isReady_ &&
                    !this.tech_.isDisposed() &&
                    ((this.activeCues = this.activeCues),
                    u && (this.trigger('cuechange'), (u = !1)));
                });
              return (
                i.tech_.one('dispose', function () {
                  i.tech_.off('timeupdate', d);
                }),
                'disabled' !== r && i.tech_.on('timeupdate', d),
                Object.defineProperties(l(i), {
                  default: {
                    get: function () {
                      return s;
                    },
                    set: function () {},
                  },
                  mode: {
                    get: function () {
                      return r;
                    },
                    set: function (e) {
                      ur[e] &&
                        r !== e &&
                        ((r = e),
                        this.preload_ ||
                          'disabled' === r ||
                          0 !== this.cues.length ||
                          vr(this.src, this),
                        this.tech_.off('timeupdate', d),
                        'disabled' !== r && this.tech_.on('timeupdate', d),
                        this.trigger('modechange'));
                    },
                  },
                  cues: {
                    get: function () {
                      return this.loaded_ ? a : null;
                    },
                    set: function () {},
                  },
                  activeCues: {
                    get: function () {
                      if (!this.loaded_) return null;
                      if (0 === this.cues.length) return o;
                      for (
                        var e = this.tech_.currentTime(),
                          t = [],
                          i = 0,
                          n = this.cues.length;
                        i < n;
                        i++
                      ) {
                        var r = this.cues[i];
                        ((r.startTime <= e && r.endTime >= e) ||
                          (r.startTime === r.endTime &&
                            r.startTime <= e &&
                            r.startTime + 0.5 >= e)) &&
                          t.push(r);
                      }
                      if (((u = !1), t.length !== this.activeCues_.length))
                        u = !0;
                      else
                        for (var s = 0; s < t.length; s++)
                          -1 === this.activeCues_.indexOf(t[s]) && (u = !0);
                      return (
                        (this.activeCues_ = t), o.setCues_(this.activeCues_), o
                      );
                    },
                    set: function () {},
                  },
                }),
                n.src
                  ? ((i.src = n.src),
                    i.preload_ || (i.loaded_ = !0),
                    (i.preload_ ||
                      ('subtitles' !== n.kind && 'captions' !== n.kind)) &&
                      vr(i.src, l(i)))
                  : (i.loaded_ = !0),
                i
              );
            }
            d(t, e);
            var i = t.prototype;
            return (
              (i.addCue = function (e) {
                var t = e;
                if (r().vttjs && !(e instanceof r().vttjs.VTTCue)) {
                  for (var i in ((t = new (r().vttjs.VTTCue)(
                    e.startTime,
                    e.endTime,
                    e.text,
                  )),
                  e))
                    i in t || (t[i] = e[i]);
                  (t.id = e.id), (t.originalCue_ = e);
                }
                for (var n = this.tech_.textTracks(), s = 0; s < n.length; s++)
                  n[s] !== this && n[s].removeCue(t);
                this.cues_.push(t), this.cues.setCues_(this.cues_);
              }),
              (i.removeCue = function (e) {
                for (var t = this.cues_.length; t--; ) {
                  var i = this.cues_[t];
                  if (i === e || (i.originalCue_ && i.originalCue_ === e)) {
                    this.cues_.splice(t, 1), this.cues.setCues_(this.cues_);
                    break;
                  }
                }
              }),
              t
            );
          })(dr);
        yr.prototype.allowedEvents_ = { cuechange: 'cuechange' };
        var Ar = (function (e) {
            function t(t) {
              var i;
              void 0 === t && (t = {});
              var n = Dn(t, { kind: or[t.kind] || '' });
              i = e.call(this, n) || this;
              var r = !1;
              return (
                Object.defineProperty(l(i), 'enabled', {
                  get: function () {
                    return r;
                  },
                  set: function (e) {
                    'boolean' == typeof e &&
                      e !== r &&
                      ((r = e), this.trigger('enabledchange'));
                  },
                }),
                n.enabled && (i.enabled = n.enabled),
                (i.loaded_ = !0),
                i
              );
            }
            return d(t, e), t;
          })(dr),
          br = (function (e) {
            function t(t) {
              var i;
              void 0 === t && (t = {});
              var n = Dn(t, { kind: ar[t.kind] || '' });
              i = e.call(this, n) || this;
              var r = !1;
              return (
                Object.defineProperty(l(i), 'selected', {
                  get: function () {
                    return r;
                  },
                  set: function (e) {
                    'boolean' == typeof e &&
                      e !== r &&
                      ((r = e), this.trigger('selectedchange'));
                  },
                }),
                n.selected && (i.selected = n.selected),
                i
              );
            }
            return d(t, e), t;
          })(dr),
          Tr = (function (e) {
            function t(t) {
              var i, n;
              void 0 === t && (t = {}), (i = e.call(this) || this);
              var r = new yr(t);
              return (
                (i.kind = r.kind),
                (i.src = r.src),
                (i.srclang = r.language),
                (i.label = r.label),
                (i.default = r.default),
                Object.defineProperties(l(i), {
                  readyState: {
                    get: function () {
                      return n;
                    },
                  },
                  track: {
                    get: function () {
                      return r;
                    },
                  },
                }),
                (n = 0),
                r.addEventListener('loadeddata', function () {
                  (n = 2), i.trigger({ type: 'load', target: l(i) });
                }),
                i
              );
            }
            return d(t, e), t;
          })(yn);
        (Tr.prototype.allowedEvents_ = { load: 'load' }),
          (Tr.NONE = 0),
          (Tr.LOADING = 1),
          (Tr.LOADED = 2),
          (Tr.ERROR = 3);
        var Sr = {
          audio: { ListClass: er, TrackClass: Ar, capitalName: 'Audio' },
          video: { ListClass: ir, TrackClass: br, capitalName: 'Video' },
          text: { ListClass: nr, TrackClass: yr, capitalName: 'Text' },
        };
        Object.keys(Sr).forEach(function (e) {
          (Sr[e].getterName = e + 'Tracks'),
            (Sr[e].privateName = e + 'Tracks_');
        });
        var wr = {
            remoteText: {
              ListClass: nr,
              TrackClass: yr,
              capitalName: 'RemoteText',
              getterName: 'remoteTextTracks',
              privateName: 'remoteTextTracks_',
            },
            remoteTextEl: {
              ListClass: rr,
              TrackClass: Tr,
              capitalName: 'RemoteTextTrackEls',
              getterName: 'remoteTextTrackEls',
              privateName: 'remoteTextTrackEls_',
            },
          },
          kr = o({}, Sr, wr);
        (wr.names = Object.keys(wr)),
          (Sr.names = Object.keys(Sr)),
          (kr.names = [].concat(wr.names).concat(Sr.names));
        var _r = (function (e) {
          function t(t, i) {
            var n;
            return (
              void 0 === t && (t = {}),
              void 0 === i && (i = function () {}),
              (t.reportTouchActivity = !1),
              ((n = e.call(this, null, t, i) || this).onDurationChange_ =
                function (e) {
                  return n.onDurationChange(e);
                }),
              (n.trackProgress_ = function (e) {
                return n.trackProgress(e);
              }),
              (n.trackCurrentTime_ = function (e) {
                return n.trackCurrentTime(e);
              }),
              (n.stopTrackingCurrentTime_ = function (e) {
                return n.stopTrackingCurrentTime(e);
              }),
              (n.disposeSourceHandler_ = function (e) {
                return n.disposeSourceHandler(e);
              }),
              (n.hasStarted_ = !1),
              n.on('playing', function () {
                this.hasStarted_ = !0;
              }),
              n.on('loadstart', function () {
                this.hasStarted_ = !1;
              }),
              kr.names.forEach(function (e) {
                var i = kr[e];
                t && t[i.getterName] && (n[i.privateName] = t[i.getterName]);
              }),
              n.featuresProgressEvents || n.manualProgressOn(),
              n.featuresTimeupdateEvents || n.manualTimeUpdatesOn(),
              ['Text', 'Audio', 'Video'].forEach(function (e) {
                !1 === t['native' + e + 'Tracks'] &&
                  (n['featuresNative' + e + 'Tracks'] = !1);
              }),
              !1 === t.nativeCaptions || !1 === t.nativeTextTracks
                ? (n.featuresNativeTextTracks = !1)
                : (!0 !== t.nativeCaptions && !0 !== t.nativeTextTracks) ||
                  (n.featuresNativeTextTracks = !0),
              n.featuresNativeTextTracks || n.emulateTextTracks(),
              (n.preloadTextTracks = !1 !== t.preloadTextTracks),
              (n.autoRemoteTextTracks_ = new kr.text.ListClass()),
              n.initTrackListeners(),
              t.nativeControlsForTouch || n.emitTapEvents(),
              n.constructor && (n.name_ = n.constructor.name || 'Unknown Tech'),
              n
            );
          }
          d(t, e);
          var i = t.prototype;
          return (
            (i.triggerSourceset = function (e) {
              var t = this;
              this.isReady_ ||
                this.one('ready', function () {
                  return t.setTimeout(function () {
                    return t.triggerSourceset(e);
                  }, 1);
                }),
                this.trigger({ src: e, type: 'sourceset' });
            }),
            (i.manualProgressOn = function () {
              this.on('durationchange', this.onDurationChange_),
                (this.manualProgress = !0),
                this.one('ready', this.trackProgress_);
            }),
            (i.manualProgressOff = function () {
              (this.manualProgress = !1),
                this.stopTrackingProgress(),
                this.off('durationchange', this.onDurationChange_);
            }),
            (i.trackProgress = function (e) {
              this.stopTrackingProgress(),
                (this.progressInterval = this.setInterval(
                  gn(this, function () {
                    var e = this.bufferedPercent();
                    this.bufferedPercent_ !== e && this.trigger('progress'),
                      (this.bufferedPercent_ = e),
                      1 === e && this.stopTrackingProgress();
                  }),
                  500,
                ));
            }),
            (i.onDurationChange = function (e) {
              this.duration_ = this.duration();
            }),
            (i.buffered = function () {
              return Wn(0, 0);
            }),
            (i.bufferedPercent = function () {
              return Vn(this.buffered(), this.duration_);
            }),
            (i.stopTrackingProgress = function () {
              this.clearInterval(this.progressInterval);
            }),
            (i.manualTimeUpdatesOn = function () {
              (this.manualTimeUpdates = !0),
                this.on('play', this.trackCurrentTime_),
                this.on('pause', this.stopTrackingCurrentTime_);
            }),
            (i.manualTimeUpdatesOff = function () {
              (this.manualTimeUpdates = !1),
                this.stopTrackingCurrentTime(),
                this.off('play', this.trackCurrentTime_),
                this.off('pause', this.stopTrackingCurrentTime_);
            }),
            (i.trackCurrentTime = function () {
              this.currentTimeInterval && this.stopTrackingCurrentTime(),
                (this.currentTimeInterval = this.setInterval(function () {
                  this.trigger({
                    type: 'timeupdate',
                    target: this,
                    manuallyTriggered: !0,
                  });
                }, 250));
            }),
            (i.stopTrackingCurrentTime = function () {
              this.clearInterval(this.currentTimeInterval),
                this.trigger({
                  type: 'timeupdate',
                  target: this,
                  manuallyTriggered: !0,
                });
            }),
            (i.dispose = function () {
              this.clearTracks(Sr.names),
                this.manualProgress && this.manualProgressOff(),
                this.manualTimeUpdates && this.manualTimeUpdatesOff(),
                e.prototype.dispose.call(this);
            }),
            (i.clearTracks = function (e) {
              var t = this;
              (e = [].concat(e)).forEach(function (e) {
                for (var i = t[e + 'Tracks']() || [], n = i.length; n--; ) {
                  var r = i[n];
                  'text' === e && t.removeRemoteTextTrack(r), i.removeTrack(r);
                }
              });
            }),
            (i.cleanupAutoTextTracks = function () {
              for (
                var e = this.autoRemoteTextTracks_ || [], t = e.length;
                t--;

              ) {
                var i = e[t];
                this.removeRemoteTextTrack(i);
              }
            }),
            (i.reset = function () {}),
            (i.crossOrigin = function () {}),
            (i.setCrossOrigin = function () {}),
            (i.error = function (e) {
              return (
                void 0 !== e &&
                  ((this.error_ = new Hn(e)), this.trigger('error')),
                this.error_
              );
            }),
            (i.played = function () {
              return this.hasStarted_ ? Wn(0, 0) : Wn();
            }),
            (i.play = function () {}),
            (i.setScrubbing = function () {}),
            (i.scrubbing = function () {}),
            (i.setCurrentTime = function () {
              this.manualTimeUpdates &&
                this.trigger({
                  type: 'timeupdate',
                  target: this,
                  manuallyTriggered: !0,
                });
            }),
            (i.initTrackListeners = function () {
              var e = this;
              Sr.names.forEach(function (t) {
                var i = Sr[t],
                  n = function () {
                    e.trigger(t + 'trackchange');
                  },
                  r = e[i.getterName]();
                r.addEventListener('removetrack', n),
                  r.addEventListener('addtrack', n),
                  e.on('dispose', function () {
                    r.removeEventListener('removetrack', n),
                      r.removeEventListener('addtrack', n);
                  });
              });
            }),
            (i.addWebVttScript_ = function () {
              var e = this;
              if (!r().WebVTT)
                if (a().body.contains(this.el())) {
                  if (
                    !this.options_['vtt.js'] &&
                    Ht(y()) &&
                    Object.keys(y()).length > 0
                  )
                    return void this.trigger('vttjsloaded');
                  var t = a().createElement('script');
                  (t.src =
                    this.options_['vtt.js'] ||
                    'https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js'),
                    (t.onload = function () {
                      e.trigger('vttjsloaded');
                    }),
                    (t.onerror = function () {
                      e.trigger('vttjserror');
                    }),
                    this.on('dispose', function () {
                      (t.onload = null), (t.onerror = null);
                    }),
                    (r().WebVTT = !0),
                    this.el().parentNode.appendChild(t);
                } else this.ready(this.addWebVttScript_);
            }),
            (i.emulateTextTracks = function () {
              var e = this,
                t = this.textTracks(),
                i = this.remoteTextTracks(),
                n = function (e) {
                  return t.addTrack(e.track);
                },
                r = function (e) {
                  return t.removeTrack(e.track);
                };
              i.on('addtrack', n),
                i.on('removetrack', r),
                this.addWebVttScript_();
              var s = function () {
                  return e.trigger('texttrackchange');
                },
                a = function () {
                  s();
                  for (var e = 0; e < t.length; e++) {
                    var i = t[e];
                    i.removeEventListener('cuechange', s),
                      'showing' === i.mode &&
                        i.addEventListener('cuechange', s);
                  }
                };
              a(),
                t.addEventListener('change', a),
                t.addEventListener('addtrack', a),
                t.addEventListener('removetrack', a),
                this.on('dispose', function () {
                  i.off('addtrack', n),
                    i.off('removetrack', r),
                    t.removeEventListener('change', a),
                    t.removeEventListener('addtrack', a),
                    t.removeEventListener('removetrack', a);
                  for (var e = 0; e < t.length; e++) {
                    t[e].removeEventListener('cuechange', s);
                  }
                });
            }),
            (i.addTextTrack = function (e, t, i) {
              if (!e)
                throw new Error(
                  'TextTrack kind is required but was not provided',
                );
              return (function (e, t, i, n, r) {
                void 0 === r && (r = {});
                var s = e.textTracks();
                (r.kind = t),
                  i && (r.label = i),
                  n && (r.language = n),
                  (r.tech = e);
                var a = new kr.text.TrackClass(r);
                return s.addTrack(a), a;
              })(this, e, t, i);
            }),
            (i.createRemoteTextTrack = function (e) {
              var t = Dn(e, { tech: this });
              return new wr.remoteTextEl.TrackClass(t);
            }),
            (i.addRemoteTextTrack = function (e, t) {
              var i = this;
              void 0 === e && (e = {});
              var n = this.createRemoteTextTrack(e);
              return (
                !0 !== t &&
                  !1 !== t &&
                  (Mt.warn(
                    'Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js',
                  ),
                  (t = !0)),
                this.remoteTextTrackEls().addTrackElement_(n),
                this.remoteTextTracks().addTrack(n.track),
                !0 !== t &&
                  this.ready(function () {
                    return i.autoRemoteTextTracks_.addTrack(n.track);
                  }),
                n
              );
            }),
            (i.removeRemoteTextTrack = function (e) {
              var t = this.remoteTextTrackEls().getTrackElementByTrack_(e);
              this.remoteTextTrackEls().removeTrackElement_(t),
                this.remoteTextTracks().removeTrack(e),
                this.autoRemoteTextTracks_.removeTrack(e);
            }),
            (i.getVideoPlaybackQuality = function () {
              return {};
            }),
            (i.requestPictureInPicture = function () {
              var e = this.options_.Promise || r().Promise;
              if (e) return e.reject();
            }),
            (i.disablePictureInPicture = function () {
              return !0;
            }),
            (i.setDisablePictureInPicture = function () {}),
            (i.setPoster = function () {}),
            (i.playsinline = function () {}),
            (i.setPlaysinline = function () {}),
            (i.overrideNativeAudioTracks = function () {}),
            (i.overrideNativeVideoTracks = function () {}),
            (i.canPlayType = function () {
              return '';
            }),
            (t.canPlayType = function () {
              return '';
            }),
            (t.canPlaySource = function (e, i) {
              return t.canPlayType(e.type);
            }),
            (t.isTech = function (e) {
              return e.prototype instanceof t || e instanceof t || e === t;
            }),
            (t.registerTech = function (e, i) {
              if ((t.techs_ || (t.techs_ = {}), !t.isTech(i)))
                throw new Error('Tech ' + e + ' must be a Tech');
              if (!t.canPlayType)
                throw new Error(
                  'Techs must have a static canPlayType method on them',
                );
              if (!t.canPlaySource)
                throw new Error(
                  'Techs must have a static canPlaySource method on them',
                );
              return (
                (e = Ln(e)),
                (t.techs_[e] = i),
                (t.techs_[xn(e)] = i),
                'Tech' !== e && t.defaultTechOrder_.push(e),
                i
              );
            }),
            (t.getTech = function (e) {
              if (e)
                return t.techs_ && t.techs_[e]
                  ? t.techs_[e]
                  : ((e = Ln(e)),
                    r() && r().videojs && r().videojs[e]
                      ? (Mt.warn(
                          'The ' +
                            e +
                            ' tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)',
                        ),
                        r().videojs[e])
                      : void 0);
            }),
            t
          );
        })(Bn);
        kr.names.forEach(function (e) {
          var t = kr[e];
          _r.prototype[t.getterName] = function () {
            return (
              (this[t.privateName] = this[t.privateName] || new t.ListClass()),
              this[t.privateName]
            );
          };
        }),
          (_r.prototype.featuresVolumeControl = !0),
          (_r.prototype.featuresMuteControl = !0),
          (_r.prototype.featuresFullscreenResize = !1),
          (_r.prototype.featuresPlaybackRate = !1),
          (_r.prototype.featuresProgressEvents = !1),
          (_r.prototype.featuresSourceset = !1),
          (_r.prototype.featuresTimeupdateEvents = !1),
          (_r.prototype.featuresNativeTextTracks = !1),
          (_r.withSourceHandlers = function (e) {
            (e.registerSourceHandler = function (t, i) {
              var n = e.sourceHandlers;
              n || (n = e.sourceHandlers = []),
                void 0 === i && (i = n.length),
                n.splice(i, 0, t);
            }),
              (e.canPlayType = function (t) {
                for (
                  var i, n = e.sourceHandlers || [], r = 0;
                  r < n.length;
                  r++
                )
                  if ((i = n[r].canPlayType(t))) return i;
                return '';
              }),
              (e.selectSourceHandler = function (t, i) {
                for (var n = e.sourceHandlers || [], r = 0; r < n.length; r++)
                  if (n[r].canHandleSource(t, i)) return n[r];
                return null;
              }),
              (e.canPlaySource = function (t, i) {
                var n = e.selectSourceHandler(t, i);
                return n ? n.canHandleSource(t, i) : '';
              });
            ['seekable', 'seeking', 'duration'].forEach(function (e) {
              var t = this[e];
              'function' == typeof t &&
                (this[e] = function () {
                  return this.sourceHandler_ && this.sourceHandler_[e]
                    ? this.sourceHandler_[e].apply(
                        this.sourceHandler_,
                        arguments,
                      )
                    : t.apply(this, arguments);
                });
            }, e.prototype),
              (e.prototype.setSource = function (t) {
                var i = e.selectSourceHandler(t, this.options_);
                i ||
                  (e.nativeSourceHandler
                    ? (i = e.nativeSourceHandler)
                    : Mt.error(
                        'No source handler found for the current source.',
                      )),
                  this.disposeSourceHandler(),
                  this.off('dispose', this.disposeSourceHandler_),
                  i !== e.nativeSourceHandler && (this.currentSource_ = t),
                  (this.sourceHandler_ = i.handleSource(
                    t,
                    this,
                    this.options_,
                  )),
                  this.one('dispose', this.disposeSourceHandler_);
              }),
              (e.prototype.disposeSourceHandler = function () {
                this.currentSource_ &&
                  (this.clearTracks(['audio', 'video']),
                  (this.currentSource_ = null)),
                  this.cleanupAutoTextTracks(),
                  this.sourceHandler_ &&
                    (this.sourceHandler_.dispose &&
                      this.sourceHandler_.dispose(),
                    (this.sourceHandler_ = null));
              });
          }),
          Bn.registerComponent('Tech', _r),
          _r.registerTech('Tech', _r),
          (_r.defaultTechOrder_ = []);
        var Cr = {},
          Er = {},
          jr = {};
        function Pr(e, t, i) {
          e.setTimeout(function () {
            return Or(t, Cr[t.type], i, e);
          }, 1);
        }
        function Ir(e, t, i, n) {
          void 0 === n && (n = null);
          var r = 'call' + Ln(i),
            s = e.reduce(Rr(r), n),
            a = s === jr,
            o = a ? null : t[i](s);
          return (
            (function (e, t, i, n) {
              for (var r = e.length - 1; r >= 0; r--) {
                var s = e[r];
                s[t] && s[t](n, i);
              }
            })(e, i, o, a),
            o
          );
        }
        var xr = {
            buffered: 1,
            currentTime: 1,
            duration: 1,
            muted: 1,
            played: 1,
            paused: 1,
            seekable: 1,
            volume: 1,
          },
          Lr = { setCurrentTime: 1, setMuted: 1, setVolume: 1 },
          Dr = { play: 1, pause: 1 };
        function Rr(e) {
          return function (t, i) {
            return t === jr ? jr : i[e] ? i[e](t) : t;
          };
        }
        function Or(e, t, i, n, r, s) {
          void 0 === e && (e = {}),
            void 0 === t && (t = []),
            void 0 === r && (r = []),
            void 0 === s && (s = !1);
          var a = t,
            o = a[0],
            l = a.slice(1);
          if ('string' == typeof o) Or(e, Cr[o], i, n, r, s);
          else if (o) {
            var u = (function (e, t) {
              var i = Er[e.id()],
                n = null;
              if (null == i) return (n = t(e)), (Er[e.id()] = [[t, n]]), n;
              for (var r = 0; r < i.length; r++) {
                var s = i[r],
                  a = s[0],
                  o = s[1];
                a === t && (n = o);
              }
              return null === n && ((n = t(e)), i.push([t, n])), n;
            })(n, o);
            if (!u.setSource) return r.push(u), Or(e, l, i, n, r, s);
            u.setSource(Wt({}, e), function (t, a) {
              if (t) return Or(e, l, i, n, r, s);
              r.push(u), Or(a, e.type === a.type ? l : Cr[a.type], i, n, r, s);
            });
          } else
            l.length
              ? Or(e, l, i, n, r, s)
              : s
                ? i(e, r)
                : Or(e, Cr['*'], i, n, r, !0);
        }
        var Mr = {
            opus: 'video/ogg',
            ogv: 'video/ogg',
            mp4: 'video/mp4',
            mov: 'video/mp4',
            m4v: 'video/mp4',
            mkv: 'video/x-matroska',
            m4a: 'audio/mp4',
            mp3: 'audio/mpeg',
            aac: 'audio/aac',
            caf: 'audio/x-caf',
            flac: 'audio/flac',
            oga: 'audio/ogg',
            wav: 'audio/wav',
            m3u8: 'application/x-mpegURL',
            jpg: 'image/jpeg',
            jpeg: 'image/jpeg',
            gif: 'image/gif',
            png: 'image/png',
            svg: 'image/svg+xml',
            webp: 'image/webp',
          },
          Nr = function (e) {
            void 0 === e && (e = '');
            var t = pr(e);
            return Mr[t.toLowerCase()] || '';
          },
          Br = function e(t) {
            if (Array.isArray(t)) {
              var i = [];
              t.forEach(function (t) {
                (t = e(t)),
                  Array.isArray(t) ? (i = i.concat(t)) : Vt(t) && i.push(t);
              }),
                (t = i);
            } else
              t =
                'string' == typeof t && t.trim()
                  ? [Ur({ src: t })]
                  : Vt(t) && 'string' == typeof t.src && t.src && t.src.trim()
                    ? [Ur(t)]
                    : [];
            return t;
          };
        function Ur(e) {
          if (!e.type) {
            var t = Nr(e.src);
            t && (e.type = t);
          }
          return e;
        }
        var Fr = (function (e) {
          function t(t, i, n) {
            var r,
              s = Dn({ createEl: !1 }, i);
            if (
              ((r = e.call(this, t, s, n) || this),
              i.playerOptions.sources && 0 !== i.playerOptions.sources.length)
            )
              t.src(i.playerOptions.sources);
            else
              for (
                var a = 0, o = i.playerOptions.techOrder;
                a < o.length;
                a++
              ) {
                var l = Ln(o[a]),
                  u = _r.getTech(l);
                if ((l || (u = Bn.getComponent(l)), u && u.isSupported())) {
                  t.loadTech_(l);
                  break;
                }
              }
            return r;
          }
          return d(t, e), t;
        })(Bn);
        Bn.registerComponent('MediaLoader', Fr);
        var Wr = (function (e) {
          function t(t, i) {
            var n;
            return (
              ((n = e.call(this, t, i) || this).handleMouseOver_ = function (
                e,
              ) {
                return n.handleMouseOver(e);
              }),
              (n.handleMouseOut_ = function (e) {
                return n.handleMouseOut(e);
              }),
              (n.handleClick_ = function (e) {
                return n.handleClick(e);
              }),
              (n.handleKeyDown_ = function (e) {
                return n.handleKeyDown(e);
              }),
              n.emitTapEvents(),
              n.enable(),
              n
            );
          }
          d(t, e);
          var i = t.prototype;
          return (
            (i.createEl = function (t, i, n) {
              void 0 === t && (t = 'div'),
                void 0 === i && (i = {}),
                void 0 === n && (n = {}),
                (i = Wt(
                  {
                    innerHTML:
                      '<span aria-hidden="true" class="vjs-icon-placeholder"></span>',
                    className: this.buildCSSClass(),
                    tabIndex: 0,
                  },
                  i,
                )),
                'button' === t &&
                  Mt.error(
                    'Creating a ClickableComponent with an HTML element of ' +
                      t +
                      ' is not supported; use a Button instead.',
                  ),
                (n = Wt({ role: 'button' }, n)),
                (this.tabIndex_ = i.tabIndex);
              var r = e.prototype.createEl.call(this, t, i, n);
              return this.createControlTextEl(r), r;
            }),
            (i.dispose = function () {
              (this.controlTextEl_ = null), e.prototype.dispose.call(this);
            }),
            (i.createControlTextEl = function (e) {
              return (
                (this.controlTextEl_ = Ai(
                  'span',
                  { className: 'vjs-control-text' },
                  { 'aria-live': 'polite' },
                )),
                e && e.appendChild(this.controlTextEl_),
                this.controlText(this.controlText_, e),
                this.controlTextEl_
              );
            }),
            (i.controlText = function (e, t) {
              if ((void 0 === t && (t = this.el()), void 0 === e))
                return this.controlText_ || 'Need Text';
              var i = this.localize(e);
              (this.controlText_ = e),
                bi(this.controlTextEl_, i),
                this.nonIconControl ||
                  this.player_.options_.noUITitleAttributes ||
                  t.setAttribute('title', i);
            }),
            (i.buildCSSClass = function () {
              return (
                'vjs-control vjs-button ' + e.prototype.buildCSSClass.call(this)
              );
            }),
            (i.enable = function () {
              this.enabled_ ||
                ((this.enabled_ = !0),
                this.removeClass('vjs-disabled'),
                this.el_.setAttribute('aria-disabled', 'false'),
                void 0 !== this.tabIndex_ &&
                  this.el_.setAttribute('tabIndex', this.tabIndex_),
                this.on(['tap', 'click'], this.handleClick_),
                this.on('keydown', this.handleKeyDown_));
            }),
            (i.disable = function () {
              (this.enabled_ = !1),
                this.addClass('vjs-disabled'),
                this.el_.setAttribute('aria-disabled', 'true'),
                void 0 !== this.tabIndex_ &&
                  this.el_.removeAttribute('tabIndex'),
                this.off('mouseover', this.handleMouseOver_),
                this.off('mouseout', this.handleMouseOut_),
                this.off(['tap', 'click'], this.handleClick_),
                this.off('keydown', this.handleKeyDown_);
            }),
            (i.handleLanguagechange = function () {
              this.controlText(this.controlText_);
            }),
            (i.handleClick = function (e) {
              this.options_.clickHandler &&
                this.options_.clickHandler.call(this, arguments);
            }),
            (i.handleKeyDown = function (t) {
              f().isEventKey(t, 'Space') || f().isEventKey(t, 'Enter')
                ? (t.preventDefault(),
                  t.stopPropagation(),
                  this.trigger('click'))
                : e.prototype.handleKeyDown.call(this, t);
            }),
            t
          );
        })(Bn);
        Bn.registerComponent('ClickableComponent', Wr);
        var Vr = (function (e) {
          function t(t, i) {
            var n;
            return (
              (n = e.call(this, t, i) || this).update(),
              (n.update_ = function (e) {
                return n.update(e);
              }),
              t.on('posterchange', n.update_),
              n
            );
          }
          d(t, e);
          var i = t.prototype;
          return (
            (i.dispose = function () {
              this.player().off('posterchange', this.update_),
                e.prototype.dispose.call(this);
            }),
            (i.createEl = function () {
              return Ai('div', { className: 'vjs-poster', tabIndex: -1 });
            }),
            (i.update = function (e) {
              var t = this.player().poster();
              this.setSrc(t), t ? this.show() : this.hide();
            }),
            (i.setSrc = function (e) {
              var t = '';
              e && (t = 'url("' + e + '")'),
                (this.el_.style.backgroundImage = t);
            }),
            (i.handleClick = function (e) {
              if (this.player_.controls()) {
                var t =
                  this.player_.usingPlugin('eme') &&
                  this.player_.eme.sessions &&
                  this.player_.eme.sessions.length > 0;
                !this.player_.tech(!0) ||
                  ((ri || ti) && t) ||
                  this.player_.tech(!0).focus(),
                  this.player_.paused()
                    ? Kn(this.player_.play())
                    : this.player_.pause();
              }
            }),
            t
          );
        })(Wr);
        Bn.registerComponent('PosterImage', Vr);
        var Hr = {
          monospace: 'monospace',
          sansSerif: 'sans-serif',
          serif: 'serif',
          monospaceSansSerif: '"Andale Mono", "Lucida Console", monospace',
          monospaceSerif: '"Courier New", monospace',
          proportionalSansSerif: 'sans-serif',
          proportionalSerif: 'serif',
          casual: '"Comic Sans MS", Impact, fantasy',
          script: '"Monotype Corsiva", cursive',
          smallcaps: '"Andale Mono", "Lucida Console", monospace, sans-serif',
        };
        function qr(e, t) {
          var i;
          if (4 === e.length) i = e[1] + e[1] + e[2] + e[2] + e[3] + e[3];
          else {
            if (7 !== e.length)
              throw new Error(
                'Invalid color code provided, ' +
                  e +
                  '; must be formatted as e.g. #f0e or #f604e2.',
              );
            i = e.slice(1);
          }
          return (
            'rgba(' +
            parseInt(i.slice(0, 2), 16) +
            ',' +
            parseInt(i.slice(2, 4), 16) +
            ',' +
            parseInt(i.slice(4, 6), 16) +
            ',' +
            t +
            ')'
          );
        }
        function zr(e, t, i) {
          try {
            e.style[t] = i;
          } catch (e) {
            return;
          }
        }
        var Kr = (function (e) {
          function t(t, i, n) {
            var s;
            s = e.call(this, t, i, n) || this;
            var a = function (e) {
              return s.updateDisplay(e);
            };
            return (
              t.on('loadstart', function (e) {
                return s.toggleDisplay(e);
              }),
              t.on('texttrackchange', a),
              t.on('loadedmetadata', function (e) {
                return s.preselectTrack(e);
              }),
              t.ready(
                gn(l(s), function () {
                  if (t.tech_ && t.tech_.featuresNativeTextTracks) this.hide();
                  else {
                    t.on('fullscreenchange', a),
                      t.on('playerresize', a),
                      r().addEventListener('orientationchange', a),
                      t.on('dispose', function () {
                        return r().removeEventListener('orientationchange', a);
                      });
                    for (
                      var e = this.options_.playerOptions.tracks || [], i = 0;
                      i < e.length;
                      i++
                    )
                      this.player_.addRemoteTextTrack(e[i], !0);
                    this.preselectTrack();
                  }
                }),
              ),
              s
            );
          }
          d(t, e);
          var i = t.prototype;
          return (
            (i.preselectTrack = function () {
              for (
                var e,
                  t,
                  i,
                  n = { captions: 1, subtitles: 1 },
                  r = this.player_.textTracks(),
                  s = this.player_.cache_.selectedLanguage,
                  a = 0;
                a < r.length;
                a++
              ) {
                var o = r[a];
                s &&
                s.enabled &&
                s.language &&
                s.language === o.language &&
                o.kind in n
                  ? o.kind === s.kind
                    ? (i = o)
                    : i || (i = o)
                  : s && !s.enabled
                    ? ((i = null), (e = null), (t = null))
                    : o.default &&
                      ('descriptions' !== o.kind || e
                        ? o.kind in n && !t && (t = o)
                        : (e = o));
              }
              i
                ? (i.mode = 'showing')
                : t
                  ? (t.mode = 'showing')
                  : e && (e.mode = 'showing');
            }),
            (i.toggleDisplay = function () {
              this.player_.tech_ && this.player_.tech_.featuresNativeTextTracks
                ? this.hide()
                : this.show();
            }),
            (i.createEl = function () {
              return e.prototype.createEl.call(
                this,
                'div',
                { className: 'vjs-text-track-display' },
                { 'aria-live': 'off', 'aria-atomic': 'true' },
              );
            }),
            (i.clearDisplay = function () {
              'function' == typeof r().WebVTT &&
                r().WebVTT.processCues(r(), [], this.el_);
            }),
            (i.updateDisplay = function () {
              var e = this.player_.textTracks(),
                t = this.options_.allowMultipleShowingTracks;
              if ((this.clearDisplay(), t)) {
                for (var i = [], n = 0; n < e.length; ++n) {
                  var r = e[n];
                  'showing' === r.mode && i.push(r);
                }
                this.updateForTrack(i);
              } else {
                for (var s = null, a = null, o = e.length; o--; ) {
                  var l = e[o];
                  'showing' === l.mode &&
                    ('descriptions' === l.kind ? (s = l) : (a = l));
                }
                a
                  ? ('off' !== this.getAttribute('aria-live') &&
                      this.setAttribute('aria-live', 'off'),
                    this.updateForTrack(a))
                  : s &&
                    ('assertive' !== this.getAttribute('aria-live') &&
                      this.setAttribute('aria-live', 'assertive'),
                    this.updateForTrack(s));
              }
            }),
            (i.updateDisplayState = function (e) {
              for (
                var t = this.player_.textTrackSettings.getValues(),
                  i = e.activeCues,
                  n = i.length;
                n--;

              ) {
                var s = i[n];
                if (s) {
                  var a = s.displayState;
                  if (
                    (t.color && (a.firstChild.style.color = t.color),
                    t.textOpacity &&
                      zr(
                        a.firstChild,
                        'color',
                        qr(t.color || '#fff', t.textOpacity),
                      ),
                    t.backgroundColor &&
                      (a.firstChild.style.backgroundColor = t.backgroundColor),
                    t.backgroundOpacity &&
                      zr(
                        a.firstChild,
                        'backgroundColor',
                        qr(t.backgroundColor || '#000', t.backgroundOpacity),
                      ),
                    t.windowColor &&
                      (t.windowOpacity
                        ? zr(
                            a,
                            'backgroundColor',
                            qr(t.windowColor, t.windowOpacity),
                          )
                        : (a.style.backgroundColor = t.windowColor)),
                    t.edgeStyle &&
                      ('dropshadow' === t.edgeStyle
                        ? (a.firstChild.style.textShadow =
                            '2px 2px 3px #222, 2px 2px 4px #222, 2px 2px 5px #222')
                        : 'raised' === t.edgeStyle
                          ? (a.firstChild.style.textShadow =
                              '1px 1px #222, 2px 2px #222, 3px 3px #222')
                          : 'depressed' === t.edgeStyle
                            ? (a.firstChild.style.textShadow =
                                '1px 1px #ccc, 0 1px #ccc, -1px -1px #222, 0 -1px #222')
                            : 'uniform' === t.edgeStyle &&
                              (a.firstChild.style.textShadow =
                                '0 0 4px #222, 0 0 4px #222, 0 0 4px #222, 0 0 4px #222')),
                    t.fontPercent && 1 !== t.fontPercent)
                  ) {
                    var o = r().parseFloat(a.style.fontSize);
                    (a.style.fontSize = o * t.fontPercent + 'px'),
                      (a.style.height = 'auto'),
                      (a.style.top = 'auto');
                  }
                  t.fontFamily &&
                    'default' !== t.fontFamily &&
                    ('small-caps' === t.fontFamily
                      ? (a.firstChild.style.fontVariant = 'small-caps')
                      : (a.firstChild.style.fontFamily = Hr[t.fontFamily]));
                }
              }
            }),
            (i.updateForTrack = function (e) {
              if (
                (Array.isArray(e) || (e = [e]),
                'function' == typeof r().WebVTT &&
                  !e.every(function (e) {
                    return !e.activeCues;
                  }))
              ) {
                for (var t = [], i = 0; i < e.length; ++i)
                  for (var n = e[i], s = 0; s < n.activeCues.length; ++s)
                    t.push(n.activeCues[s]);
                r().WebVTT.processCues(r(), t, this.el_);
                for (var a = 0; a < e.length; ++a) {
                  for (var o = e[a], l = 0; l < o.activeCues.length; ++l) {
                    var u = o.activeCues[l].displayState;
                    wi(u, 'vjs-text-track-cue'),
                      wi(
                        u,
                        'vjs-text-track-cue-' + (o.language ? o.language : a),
                      );
                  }
                  this.player_.textTrackSettings && this.updateDisplayState(o);
                }
              }
            }),
            t
          );
        })(Bn);
        Bn.registerComponent('TextTrackDisplay', Kr);
        var Xr = (function (e) {
          function t() {
            return e.apply(this, arguments) || this;
          }
          return (
            d(t, e),
            (t.prototype.createEl = function () {
              var t = this.player_.isAudio(),
                i = this.localize(t ? 'Audio Player' : 'Video Player'),
                n = Ai('span', {
                  className: 'vjs-control-text',
                  innerHTML: this.localize('{1} is loading.', [i]),
                }),
                r = e.prototype.createEl.call(this, 'div', {
                  className: 'vjs-loading-spinner',
                  dir: 'ltr',
                });
              return r.appendChild(n), r;
            }),
            t
          );
        })(Bn);
        Bn.registerComponent('LoadingSpinner', Xr);
        var Qr = (function (e) {
          function t() {
            return e.apply(this, arguments) || this;
          }
          d(t, e);
          var i = t.prototype;
          return (
            (i.createEl = function (e, t, i) {
              void 0 === t && (t = {}),
                void 0 === i && (i = {}),
                (t = Wt(
                  {
                    innerHTML:
                      '<span aria-hidden="true" class="vjs-icon-placeholder"></span>',
                    className: this.buildCSSClass(),
                  },
                  t,
                )),
                (i = Wt({ type: 'button' }, i));
              var n = Bn.prototype.createEl.call(this, 'button', t, i);
              return this.createControlTextEl(n), n;
            }),
            (i.addChild = function (e, t) {
              void 0 === t && (t = {});
              var i = this.constructor.name;
              return (
                Mt.warn(
                  'Adding an actionable (user controllable) child to a Button (' +
                    i +
                    ') is not supported; use a ClickableComponent instead.',
                ),
                Bn.prototype.addChild.call(this, e, t)
              );
            }),
            (i.enable = function () {
              e.prototype.enable.call(this),
                this.el_.removeAttribute('disabled');
            }),
            (i.disable = function () {
              e.prototype.disable.call(this),
                this.el_.setAttribute('disabled', 'disabled');
            }),
            (i.handleKeyDown = function (t) {
              f().isEventKey(t, 'Space') || f().isEventKey(t, 'Enter')
                ? t.stopPropagation()
                : e.prototype.handleKeyDown.call(this, t);
            }),
            t
          );
        })(Wr);
        Bn.registerComponent('Button', Qr);
        var Gr = (function (e) {
          function t(t, i) {
            var n;
            return (
              ((n = e.call(this, t, i) || this).mouseused_ = !1),
              n.on('mousedown', function (e) {
                return n.handleMouseDown(e);
              }),
              n
            );
          }
          d(t, e);
          var i = t.prototype;
          return (
            (i.buildCSSClass = function () {
              return 'vjs-big-play-button';
            }),
            (i.handleClick = function (e) {
              var t = this.player_.play();
              if (this.mouseused_ && e.clientX && e.clientY) {
                var i =
                  this.player_.usingPlugin('eme') &&
                  this.player_.eme.sessions &&
                  this.player_.eme.sessions.length > 0;
                return (
                  Kn(t),
                  void (
                    !this.player_.tech(!0) ||
                    ((ri || ti) && i) ||
                    this.player_.tech(!0).focus()
                  )
                );
              }
              var n = this.player_.getChild('controlBar'),
                r = n && n.getChild('playToggle');
              if (r) {
                var s = function () {
                  return r.focus();
                };
                zn(t) ? t.then(s, function () {}) : this.setTimeout(s, 1);
              } else this.player_.tech(!0).focus();
            }),
            (i.handleKeyDown = function (t) {
              (this.mouseused_ = !1), e.prototype.handleKeyDown.call(this, t);
            }),
            (i.handleMouseDown = function (e) {
              this.mouseused_ = !0;
            }),
            t
          );
        })(Qr);
        (Gr.prototype.controlText_ = 'Play Video'),
          Bn.registerComponent('BigPlayButton', Gr);
        var Yr = (function (e) {
          function t(t, i) {
            var n;
            return (
              (n = e.call(this, t, i) || this).controlText(
                (i && i.controlText) || n.localize('Close'),
              ),
              n
            );
          }
          d(t, e);
          var i = t.prototype;
          return (
            (i.buildCSSClass = function () {
              return 'vjs-close-button ' + e.prototype.buildCSSClass.call(this);
            }),
            (i.handleClick = function (e) {
              this.trigger({ type: 'close', bubbles: !1 });
            }),
            (i.handleKeyDown = function (t) {
              f().isEventKey(t, 'Esc')
                ? (t.preventDefault(),
                  t.stopPropagation(),
                  this.trigger('click'))
                : e.prototype.handleKeyDown.call(this, t);
            }),
            t
          );
        })(Qr);
        Bn.registerComponent('CloseButton', Yr);
        var Jr = (function (e) {
          function t(t, i) {
            var n;
            return (
              void 0 === i && (i = {}),
              (n = e.call(this, t, i) || this),
              (i.replay = void 0 === i.replay || i.replay),
              n.on(t, 'play', function (e) {
                return n.handlePlay(e);
              }),
              n.on(t, 'pause', function (e) {
                return n.handlePause(e);
              }),
              i.replay &&
                n.on(t, 'ended', function (e) {
                  return n.handleEnded(e);
                }),
              n
            );
          }
          d(t, e);
          var i = t.prototype;
          return (
            (i.buildCSSClass = function () {
              return 'vjs-play-control ' + e.prototype.buildCSSClass.call(this);
            }),
            (i.handleClick = function (e) {
              this.player_.paused()
                ? this.player_.play()
                : this.player_.pause();
            }),
            (i.handleSeeked = function (e) {
              this.removeClass('vjs-ended'),
                this.player_.paused()
                  ? this.handlePause(e)
                  : this.handlePlay(e);
            }),
            (i.handlePlay = function (e) {
              this.removeClass('vjs-ended'),
                this.removeClass('vjs-paused'),
                this.addClass('vjs-playing'),
                this.controlText('Pause');
            }),
            (i.handlePause = function (e) {
              this.removeClass('vjs-playing'),
                this.addClass('vjs-paused'),
                this.controlText('Play');
            }),
            (i.handleEnded = function (e) {
              var t = this;
              this.removeClass('vjs-playing'),
                this.addClass('vjs-ended'),
                this.controlText('Replay'),
                this.one(this.player_, 'seeked', function (e) {
                  return t.handleSeeked(e);
                });
            }),
            t
          );
        })(Qr);
        (Jr.prototype.controlText_ = 'Play'),
          Bn.registerComponent('PlayToggle', Jr);
        var Zr = function (e, t) {
            e = e < 0 ? 0 : e;
            var i = Math.floor(e % 60),
              n = Math.floor((e / 60) % 60),
              r = Math.floor(e / 3600),
              s = Math.floor((t / 60) % 60),
              a = Math.floor(t / 3600);
            return (
              (isNaN(e) || e === 1 / 0) && (r = n = i = '-'),
              (r = r > 0 || a > 0 ? r + ':' : '') +
                (n = ((r || s >= 10) && n < 10 ? '0' + n : n) + ':') +
                (i = i < 10 ? '0' + i : i)
            );
          },
          $r = Zr;
        function es(e, t) {
          return void 0 === t && (t = e), $r(e, t);
        }
        var ts = (function (e) {
          function t(t, i) {
            var n;
            return (
              (n = e.call(this, t, i) || this).on(
                t,
                ['timeupdate', 'ended'],
                function (e) {
                  return n.updateContent(e);
                },
              ),
              n.updateTextNode_(),
              n
            );
          }
          d(t, e);
          var i = t.prototype;
          return (
            (i.createEl = function () {
              var t = this.buildCSSClass(),
                i = e.prototype.createEl.call(this, 'div', {
                  className: t + ' vjs-time-control vjs-control',
                  innerHTML:
                    '<span class="vjs-control-text" role="presentation">' +
                    this.localize(this.labelText_) +
                    ' </span>',
                });
              return (
                (this.contentEl_ = Ai(
                  'span',
                  { className: t + '-display' },
                  { 'aria-live': 'off', role: 'presentation' },
                )),
                i.appendChild(this.contentEl_),
                i
              );
            }),
            (i.dispose = function () {
              (this.contentEl_ = null),
                (this.textNode_ = null),
                e.prototype.dispose.call(this);
            }),
            (i.updateTextNode_ = function (e) {
              var t = this;
              void 0 === e && (e = 0),
                (e = es(e)),
                this.formattedTime_ !== e &&
                  ((this.formattedTime_ = e),
                  this.requestNamedAnimationFrame(
                    'TimeDisplay#updateTextNode_',
                    function () {
                      if (t.contentEl_) {
                        var e = t.textNode_;
                        e &&
                          t.contentEl_.firstChild !== e &&
                          ((e = null),
                          Mt.warn(
                            'TimeDisplay#updateTextnode_: Prevented replacement of text node element since it was no longer a child of this node. Appending a new node instead.',
                          )),
                          (t.textNode_ = a().createTextNode(t.formattedTime_)),
                          t.textNode_ &&
                            (e
                              ? t.contentEl_.replaceChild(t.textNode_, e)
                              : t.contentEl_.appendChild(t.textNode_));
                      }
                    },
                  ));
            }),
            (i.updateContent = function (e) {}),
            t
          );
        })(Bn);
        (ts.prototype.labelText_ = 'Time'),
          (ts.prototype.controlText_ = 'Time'),
          Bn.registerComponent('TimeDisplay', ts);
        var is = (function (e) {
          function t() {
            return e.apply(this, arguments) || this;
          }
          d(t, e);
          var i = t.prototype;
          return (
            (i.buildCSSClass = function () {
              return 'vjs-current-time';
            }),
            (i.updateContent = function (e) {
              var t;
              (t = this.player_.ended()
                ? this.player_.duration()
                : this.player_.scrubbing()
                  ? this.player_.getCache().currentTime
                  : this.player_.currentTime()),
                this.updateTextNode_(t);
            }),
            t
          );
        })(ts);
        (is.prototype.labelText_ = 'Current Time'),
          (is.prototype.controlText_ = 'Current Time'),
          Bn.registerComponent('CurrentTimeDisplay', is);
        var ns = (function (e) {
          function t(t, i) {
            var n,
              r = function (e) {
                return n.updateContent(e);
              };
            return (
              (n = e.call(this, t, i) || this).on(t, 'durationchange', r),
              n.on(t, 'loadstart', r),
              n.on(t, 'loadedmetadata', r),
              n
            );
          }
          d(t, e);
          var i = t.prototype;
          return (
            (i.buildCSSClass = function () {
              return 'vjs-duration';
            }),
            (i.updateContent = function (e) {
              var t = this.player_.duration();
              this.updateTextNode_(t);
            }),
            t
          );
        })(ts);
        (ns.prototype.labelText_ = 'Duration'),
          (ns.prototype.controlText_ = 'Duration'),
          Bn.registerComponent('DurationDisplay', ns);
        var rs = (function (e) {
          function t() {
            return e.apply(this, arguments) || this;
          }
          return (
            d(t, e),
            (t.prototype.createEl = function () {
              return e.prototype.createEl.call(
                this,
                'div',
                {
                  className: 'vjs-time-control vjs-time-divider',
                  innerHTML: '<div><span>/</span></div>',
                },
                { 'aria-hidden': !0 },
              );
            }),
            t
          );
        })(Bn);
        Bn.registerComponent('TimeDivider', rs);
        var ss = (function (e) {
          function t(t, i) {
            var n;
            return (
              (n = e.call(this, t, i) || this).on(
                t,
                'durationchange',
                function (e) {
                  return n.updateContent(e);
                },
              ),
              n
            );
          }
          d(t, e);
          var i = t.prototype;
          return (
            (i.buildCSSClass = function () {
              return 'vjs-remaining-time';
            }),
            (i.createEl = function () {
              var t = e.prototype.createEl.call(this);
              return (
                t.insertBefore(
                  Ai('span', {}, { 'aria-hidden': !0 }, '-'),
                  this.contentEl_,
                ),
                t
              );
            }),
            (i.updateContent = function (e) {
              var t;
              'number' == typeof this.player_.duration() &&
                ((t = this.player_.ended()
                  ? 0
                  : this.player_.remainingTimeDisplay
                    ? this.player_.remainingTimeDisplay()
                    : this.player_.remainingTime()),
                this.updateTextNode_(t));
            }),
            t
          );
        })(ts);
        (ss.prototype.labelText_ = 'Remaining Time'),
          (ss.prototype.controlText_ = 'Remaining Time'),
          Bn.registerComponent('RemainingTimeDisplay', ss);
        var as = (function (e) {
          function t(t, i) {
            var n;
            return (
              (n = e.call(this, t, i) || this).updateShowing(),
              n.on(n.player(), 'durationchange', function (e) {
                return n.updateShowing(e);
              }),
              n
            );
          }
          d(t, e);
          var i = t.prototype;
          return (
            (i.createEl = function () {
              var t = e.prototype.createEl.call(this, 'div', {
                className: 'vjs-live-control vjs-control',
              });
              return (
                (this.contentEl_ = Ai(
                  'div',
                  {
                    className: 'vjs-live-display',
                    innerHTML:
                      '<span class="vjs-control-text">' +
                      this.localize('Stream Type') +
                      ' </span>' +
                      this.localize('LIVE'),
                  },
                  { 'aria-live': 'off' },
                )),
                t.appendChild(this.contentEl_),
                t
              );
            }),
            (i.dispose = function () {
              (this.contentEl_ = null), e.prototype.dispose.call(this);
            }),
            (i.updateShowing = function (e) {
              this.player().duration() === 1 / 0 ? this.show() : this.hide();
            }),
            t
          );
        })(Bn);
        Bn.registerComponent('LiveDisplay', as);
        var os = (function (e) {
          function t(t, i) {
            var n;
            return (
              (n = e.call(this, t, i) || this).updateLiveEdgeStatus(),
              n.player_.liveTracker &&
                ((n.updateLiveEdgeStatusHandler_ = function (e) {
                  return n.updateLiveEdgeStatus(e);
                }),
                n.on(
                  n.player_.liveTracker,
                  'liveedgechange',
                  n.updateLiveEdgeStatusHandler_,
                )),
              n
            );
          }
          d(t, e);
          var i = t.prototype;
          return (
            (i.createEl = function () {
              var t = e.prototype.createEl.call(this, 'button', {
                className: 'vjs-seek-to-live-control vjs-control',
              });
              return (
                (this.textEl_ = Ai(
                  'span',
                  {
                    className: 'vjs-seek-to-live-text',
                    innerHTML: this.localize('LIVE'),
                  },
                  { 'aria-hidden': 'true' },
                )),
                t.appendChild(this.textEl_),
                t
              );
            }),
            (i.updateLiveEdgeStatus = function () {
              !this.player_.liveTracker || this.player_.liveTracker.atLiveEdge()
                ? (this.setAttribute('aria-disabled', !0),
                  this.addClass('vjs-at-live-edge'),
                  this.controlText('Seek to live, currently playing live'))
                : (this.setAttribute('aria-disabled', !1),
                  this.removeClass('vjs-at-live-edge'),
                  this.controlText('Seek to live, currently behind live'));
            }),
            (i.handleClick = function () {
              this.player_.liveTracker.seekToLiveEdge();
            }),
            (i.dispose = function () {
              this.player_.liveTracker &&
                this.off(
                  this.player_.liveTracker,
                  'liveedgechange',
                  this.updateLiveEdgeStatusHandler_,
                ),
                (this.textEl_ = null),
                e.prototype.dispose.call(this);
            }),
            t
          );
        })(Qr);
        (os.prototype.controlText_ = 'Seek to live, currently playing live'),
          Bn.registerComponent('SeekToLive', os);
        var ls = function (e, t, i) {
            return (e = Number(e)), Math.min(i, Math.max(t, isNaN(e) ? t : e));
          },
          us = (function (e) {
            function t(t, i) {
              var n;
              return (
                ((n = e.call(this, t, i) || this).handleMouseDown_ = function (
                  e,
                ) {
                  return n.handleMouseDown(e);
                }),
                (n.handleMouseUp_ = function (e) {
                  return n.handleMouseUp(e);
                }),
                (n.handleKeyDown_ = function (e) {
                  return n.handleKeyDown(e);
                }),
                (n.handleClick_ = function (e) {
                  return n.handleClick(e);
                }),
                (n.handleMouseMove_ = function (e) {
                  return n.handleMouseMove(e);
                }),
                (n.update_ = function (e) {
                  return n.update(e);
                }),
                (n.bar = n.getChild(n.options_.barName)),
                n.vertical(!!n.options_.vertical),
                n.enable(),
                n
              );
            }
            d(t, e);
            var i = t.prototype;
            return (
              (i.enabled = function () {
                return this.enabled_;
              }),
              (i.enable = function () {
                this.enabled() ||
                  (this.on('mousedown', this.handleMouseDown_),
                  this.on('touchstart', this.handleMouseDown_),
                  this.on('keydown', this.handleKeyDown_),
                  this.on('click', this.handleClick_),
                  this.on(this.player_, 'controlsvisible', this.update),
                  this.playerEvent &&
                    this.on(this.player_, this.playerEvent, this.update),
                  this.removeClass('disabled'),
                  this.setAttribute('tabindex', 0),
                  (this.enabled_ = !0));
              }),
              (i.disable = function () {
                if (this.enabled()) {
                  var e = this.bar.el_.ownerDocument;
                  this.off('mousedown', this.handleMouseDown_),
                    this.off('touchstart', this.handleMouseDown_),
                    this.off('keydown', this.handleKeyDown_),
                    this.off('click', this.handleClick_),
                    this.off(this.player_, 'controlsvisible', this.update_),
                    this.off(e, 'mousemove', this.handleMouseMove_),
                    this.off(e, 'mouseup', this.handleMouseUp_),
                    this.off(e, 'touchmove', this.handleMouseMove_),
                    this.off(e, 'touchend', this.handleMouseUp_),
                    this.removeAttribute('tabindex'),
                    this.addClass('disabled'),
                    this.playerEvent &&
                      this.off(this.player_, this.playerEvent, this.update),
                    (this.enabled_ = !1);
                }
              }),
              (i.createEl = function (t, i, n) {
                return (
                  void 0 === i && (i = {}),
                  void 0 === n && (n = {}),
                  (i.className = i.className + ' vjs-slider'),
                  (i = Wt({ tabIndex: 0 }, i)),
                  (n = Wt(
                    {
                      role: 'slider',
                      'aria-valuenow': 0,
                      'aria-valuemin': 0,
                      'aria-valuemax': 100,
                      tabIndex: 0,
                    },
                    n,
                  )),
                  e.prototype.createEl.call(this, t, i, n)
                );
              }),
              (i.handleMouseDown = function (e) {
                var t = this.bar.el_.ownerDocument;
                'mousedown' === e.type && e.preventDefault(),
                  'touchstart' !== e.type || ii || e.preventDefault(),
                  xi(),
                  this.addClass('vjs-sliding'),
                  this.trigger('slideractive'),
                  this.on(t, 'mousemove', this.handleMouseMove_),
                  this.on(t, 'mouseup', this.handleMouseUp_),
                  this.on(t, 'touchmove', this.handleMouseMove_),
                  this.on(t, 'touchend', this.handleMouseUp_),
                  this.handleMouseMove(e);
              }),
              (i.handleMouseMove = function (e) {}),
              (i.handleMouseUp = function () {
                var e = this.bar.el_.ownerDocument;
                Li(),
                  this.removeClass('vjs-sliding'),
                  this.trigger('sliderinactive'),
                  this.off(e, 'mousemove', this.handleMouseMove_),
                  this.off(e, 'mouseup', this.handleMouseUp_),
                  this.off(e, 'touchmove', this.handleMouseMove_),
                  this.off(e, 'touchend', this.handleMouseUp_),
                  this.update();
              }),
              (i.update = function () {
                var e = this;
                if (this.el_ && this.bar) {
                  var t = this.getProgress();
                  return (
                    t === this.progress_ ||
                      ((this.progress_ = t),
                      this.requestNamedAnimationFrame(
                        'Slider#update',
                        function () {
                          var i = e.vertical() ? 'height' : 'width';
                          e.bar.el().style[i] = (100 * t).toFixed(2) + '%';
                        },
                      )),
                    t
                  );
                }
              }),
              (i.getProgress = function () {
                return Number(ls(this.getPercent(), 0, 1).toFixed(4));
              }),
              (i.calculateDistance = function (e) {
                var t = Oi(this.el_, e);
                return this.vertical() ? t.y : t.x;
              }),
              (i.handleKeyDown = function (t) {
                f().isEventKey(t, 'Left') || f().isEventKey(t, 'Down')
                  ? (t.preventDefault(), t.stopPropagation(), this.stepBack())
                  : f().isEventKey(t, 'Right') || f().isEventKey(t, 'Up')
                    ? (t.preventDefault(),
                      t.stopPropagation(),
                      this.stepForward())
                    : e.prototype.handleKeyDown.call(this, t);
              }),
              (i.handleClick = function (e) {
                e.stopPropagation(), e.preventDefault();
              }),
              (i.vertical = function (e) {
                if (void 0 === e) return this.vertical_ || !1;
                (this.vertical_ = !!e),
                  this.vertical_
                    ? this.addClass('vjs-slider-vertical')
                    : this.addClass('vjs-slider-horizontal');
              }),
              t
            );
          })(Bn);
        Bn.registerComponent('Slider', us);
        var ds = function (e, t) {
            return ls((e / t) * 100, 0, 100).toFixed(2) + '%';
          },
          cs = (function (e) {
            function t(t, i) {
              var n;
              return (
                ((n = e.call(this, t, i) || this).partEls_ = []),
                n.on(t, 'progress', function (e) {
                  return n.update(e);
                }),
                n
              );
            }
            d(t, e);
            var i = t.prototype;
            return (
              (i.createEl = function () {
                var t = e.prototype.createEl.call(this, 'div', {
                    className: 'vjs-load-progress',
                  }),
                  i = Ai('span', { className: 'vjs-control-text' }),
                  n = Ai('span', { textContent: this.localize('Loaded') }),
                  r = a().createTextNode(': ');
                return (
                  (this.percentageEl_ = Ai('span', {
                    className: 'vjs-control-text-loaded-percentage',
                    textContent: '0%',
                  })),
                  t.appendChild(i),
                  i.appendChild(n),
                  i.appendChild(r),
                  i.appendChild(this.percentageEl_),
                  t
                );
              }),
              (i.dispose = function () {
                (this.partEls_ = null),
                  (this.percentageEl_ = null),
                  e.prototype.dispose.call(this);
              }),
              (i.update = function (e) {
                var t = this;
                this.requestNamedAnimationFrame(
                  'LoadProgressBar#update',
                  function () {
                    var e = t.player_.liveTracker,
                      i = t.player_.buffered(),
                      n =
                        e && e.isLive()
                          ? e.seekableEnd()
                          : t.player_.duration(),
                      r = t.player_.bufferedEnd(),
                      s = t.partEls_,
                      a = ds(r, n);
                    t.percent_ !== a &&
                      ((t.el_.style.width = a),
                      bi(t.percentageEl_, a),
                      (t.percent_ = a));
                    for (var o = 0; o < i.length; o++) {
                      var l = i.start(o),
                        u = i.end(o),
                        d = s[o];
                      d || ((d = t.el_.appendChild(Ai())), (s[o] = d)),
                        (d.dataset.start === l && d.dataset.end === u) ||
                          ((d.dataset.start = l),
                          (d.dataset.end = u),
                          (d.style.left = ds(l, r)),
                          (d.style.width = ds(u - l, r)));
                    }
                    for (var c = s.length; c > i.length; c--)
                      t.el_.removeChild(s[c - 1]);
                    s.length = i.length;
                  },
                );
              }),
              t
            );
          })(Bn);
        Bn.registerComponent('LoadProgressBar', cs);
        var hs = (function (e) {
          function t(t, i) {
            var n;
            return (
              ((n = e.call(this, t, i) || this).update = vn(
                gn(l(n), n.update),
                mn,
              )),
              n
            );
          }
          d(t, e);
          var i = t.prototype;
          return (
            (i.createEl = function () {
              return e.prototype.createEl.call(
                this,
                'div',
                { className: 'vjs-time-tooltip' },
                { 'aria-hidden': 'true' },
              );
            }),
            (i.update = function (e, t, i) {
              var n = Ri(this.el_),
                r = Di(this.player_.el()),
                s = e.width * t;
              if (r && n) {
                var a = e.left - r.left + s,
                  o = e.width - s + (r.right - e.right),
                  l = n.width / 2;
                a < l ? (l += l - a) : o < l && (l = o),
                  l < 0 ? (l = 0) : l > n.width && (l = n.width),
                  (l = Math.round(l)),
                  (this.el_.style.right = '-' + l + 'px'),
                  this.write(i);
              }
            }),
            (i.write = function (e) {
              bi(this.el_, e);
            }),
            (i.updateTime = function (e, t, i, n) {
              var r = this;
              this.requestNamedAnimationFrame(
                'TimeTooltip#updateTime',
                function () {
                  var s,
                    a = r.player_.duration();
                  if (r.player_.liveTracker && r.player_.liveTracker.isLive()) {
                    var o = r.player_.liveTracker.liveWindow(),
                      l = o - t * o;
                    s = (l < 1 ? '' : '-') + es(l, o);
                  } else s = es(i, a);
                  r.update(e, t, s), n && n();
                },
              );
            }),
            t
          );
        })(Bn);
        Bn.registerComponent('TimeTooltip', hs);
        var ps = (function (e) {
          function t(t, i) {
            var n;
            return (
              ((n = e.call(this, t, i) || this).update = vn(
                gn(l(n), n.update),
                mn,
              )),
              n
            );
          }
          d(t, e);
          var i = t.prototype;
          return (
            (i.createEl = function () {
              return e.prototype.createEl.call(
                this,
                'div',
                { className: 'vjs-play-progress vjs-slider-bar' },
                { 'aria-hidden': 'true' },
              );
            }),
            (i.update = function (e, t) {
              var i = this.getChild('timeTooltip');
              if (i) {
                var n = this.player_.scrubbing()
                  ? this.player_.getCache().currentTime
                  : this.player_.currentTime();
                i.updateTime(e, t, n);
              }
            }),
            t
          );
        })(Bn);
        (ps.prototype.options_ = { children: [] }),
          di || Jt || ps.prototype.options_.children.push('timeTooltip'),
          Bn.registerComponent('PlayProgressBar', ps);
        var fs = (function (e) {
          function t(t, i) {
            var n;
            return (
              ((n = e.call(this, t, i) || this).update = vn(
                gn(l(n), n.update),
                mn,
              )),
              n
            );
          }
          d(t, e);
          var i = t.prototype;
          return (
            (i.createEl = function () {
              return e.prototype.createEl.call(this, 'div', {
                className: 'vjs-mouse-display',
              });
            }),
            (i.update = function (e, t) {
              var i = this,
                n = t * this.player_.duration();
              this.getChild('timeTooltip').updateTime(e, t, n, function () {
                i.el_.style.left = e.width * t + 'px';
              });
            }),
            t
          );
        })(Bn);
        (fs.prototype.options_ = { children: ['timeTooltip'] }),
          Bn.registerComponent('MouseTimeDisplay', fs);
        var ms = (function (e) {
          function t(t, i) {
            var n;
            return (n = e.call(this, t, i) || this).setEventHandlers_(), n;
          }
          d(t, e);
          var i = t.prototype;
          return (
            (i.setEventHandlers_ = function () {
              var e = this;
              (this.update_ = gn(this, this.update)),
                (this.update = vn(this.update_, mn)),
                this.on(
                  this.player_,
                  ['ended', 'durationchange', 'timeupdate'],
                  this.update,
                ),
                this.player_.liveTracker &&
                  this.on(
                    this.player_.liveTracker,
                    'liveedgechange',
                    this.update,
                  ),
                (this.updateInterval = null),
                (this.enableIntervalHandler_ = function (t) {
                  return e.enableInterval_(t);
                }),
                (this.disableIntervalHandler_ = function (t) {
                  return e.disableInterval_(t);
                }),
                this.on(this.player_, ['playing'], this.enableIntervalHandler_),
                this.on(
                  this.player_,
                  ['ended', 'pause', 'waiting'],
                  this.disableIntervalHandler_,
                ),
                'hidden' in a() &&
                  'visibilityState' in a() &&
                  this.on(a(), 'visibilitychange', this.toggleVisibility_);
            }),
            (i.toggleVisibility_ = function (e) {
              'hidden' === a().visibilityState
                ? (this.cancelNamedAnimationFrame('SeekBar#update'),
                  this.cancelNamedAnimationFrame('Slider#update'),
                  this.disableInterval_(e))
                : (this.player_.ended() ||
                    this.player_.paused() ||
                    this.enableInterval_(),
                  this.update());
            }),
            (i.enableInterval_ = function () {
              this.updateInterval ||
                (this.updateInterval = this.setInterval(this.update, mn));
            }),
            (i.disableInterval_ = function (e) {
              (this.player_.liveTracker &&
                this.player_.liveTracker.isLive() &&
                e &&
                'ended' !== e.type) ||
                (this.updateInterval &&
                  (this.clearInterval(this.updateInterval),
                  (this.updateInterval = null)));
            }),
            (i.createEl = function () {
              return e.prototype.createEl.call(
                this,
                'div',
                { className: 'vjs-progress-holder' },
                { 'aria-label': this.localize('Progress Bar') },
              );
            }),
            (i.update = function (t) {
              var i = this;
              if ('hidden' !== a().visibilityState) {
                var n = e.prototype.update.call(this);
                return (
                  this.requestNamedAnimationFrame(
                    'SeekBar#update',
                    function () {
                      var e = i.player_.ended()
                          ? i.player_.duration()
                          : i.getCurrentTime_(),
                        t = i.player_.liveTracker,
                        r = i.player_.duration();
                      t &&
                        t.isLive() &&
                        (r = i.player_.liveTracker.liveCurrentTime()),
                        i.percent_ !== n &&
                          (i.el_.setAttribute(
                            'aria-valuenow',
                            (100 * n).toFixed(2),
                          ),
                          (i.percent_ = n)),
                        (i.currentTime_ === e && i.duration_ === r) ||
                          (i.el_.setAttribute(
                            'aria-valuetext',
                            i.localize(
                              'progress bar timing: currentTime={1} duration={2}',
                              [es(e, r), es(r, r)],
                              '{1} of {2}',
                            ),
                          ),
                          (i.currentTime_ = e),
                          (i.duration_ = r)),
                        i.bar && i.bar.update(Di(i.el()), i.getProgress());
                    },
                  ),
                  n
                );
              }
            }),
            (i.getCurrentTime_ = function () {
              return this.player_.scrubbing()
                ? this.player_.getCache().currentTime
                : this.player_.currentTime();
            }),
            (i.getPercent = function () {
              var e,
                t = this.getCurrentTime_(),
                i = this.player_.liveTracker;
              return (
                i && i.isLive()
                  ? ((e = (t - i.seekableStart()) / i.liveWindow()),
                    i.atLiveEdge() && (e = 1))
                  : (e = t / this.player_.duration()),
                e
              );
            }),
            (i.handleMouseDown = function (t) {
              Wi(t) &&
                (t.stopPropagation(),
                this.player_.scrubbing(!0),
                (this.videoWasPlaying = !this.player_.paused()),
                this.player_.pause(),
                e.prototype.handleMouseDown.call(this, t));
            }),
            (i.handleMouseMove = function (e) {
              if (Wi(e)) {
                var t,
                  i = this.calculateDistance(e),
                  n = this.player_.liveTracker;
                if (n && n.isLive()) {
                  if (i >= 0.99) return void n.seekToLiveEdge();
                  var r = n.seekableStart(),
                    s = n.liveCurrentTime();
                  if (
                    ((t = r + i * n.liveWindow()) >= s && (t = s),
                    t <= r && (t = r + 0.1),
                    t === 1 / 0)
                  )
                    return;
                } else
                  (t = i * this.player_.duration()) ===
                    this.player_.duration() && (t -= 0.1);
                this.player_.currentTime(t);
              }
            }),
            (i.enable = function () {
              e.prototype.enable.call(this);
              var t = this.getChild('mouseTimeDisplay');
              t && t.show();
            }),
            (i.disable = function () {
              e.prototype.disable.call(this);
              var t = this.getChild('mouseTimeDisplay');
              t && t.hide();
            }),
            (i.handleMouseUp = function (t) {
              e.prototype.handleMouseUp.call(this, t),
                t && t.stopPropagation(),
                this.player_.scrubbing(!1),
                this.player_.trigger({
                  type: 'timeupdate',
                  target: this,
                  manuallyTriggered: !0,
                }),
                this.videoWasPlaying ? Kn(this.player_.play()) : this.update_();
            }),
            (i.stepForward = function () {
              this.player_.currentTime(this.player_.currentTime() + 5);
            }),
            (i.stepBack = function () {
              this.player_.currentTime(this.player_.currentTime() - 5);
            }),
            (i.handleAction = function (e) {
              this.player_.paused()
                ? this.player_.play()
                : this.player_.pause();
            }),
            (i.handleKeyDown = function (t) {
              if (f().isEventKey(t, 'Space') || f().isEventKey(t, 'Enter'))
                t.preventDefault(), t.stopPropagation(), this.handleAction(t);
              else if (f().isEventKey(t, 'Home'))
                t.preventDefault(),
                  t.stopPropagation(),
                  this.player_.currentTime(0);
              else if (f().isEventKey(t, 'End'))
                t.preventDefault(),
                  t.stopPropagation(),
                  this.player_.currentTime(this.player_.duration());
              else if (/^[0-9]$/.test(f()(t))) {
                t.preventDefault(), t.stopPropagation();
                var i = (10 * (f().codes[f()(t)] - f().codes[0])) / 100;
                this.player_.currentTime(this.player_.duration() * i);
              } else
                f().isEventKey(t, 'PgDn')
                  ? (t.preventDefault(),
                    t.stopPropagation(),
                    this.player_.currentTime(this.player_.currentTime() - 60))
                  : f().isEventKey(t, 'PgUp')
                    ? (t.preventDefault(),
                      t.stopPropagation(),
                      this.player_.currentTime(this.player_.currentTime() + 60))
                    : e.prototype.handleKeyDown.call(this, t);
            }),
            (i.dispose = function () {
              this.disableInterval_(),
                this.off(
                  this.player_,
                  ['ended', 'durationchange', 'timeupdate'],
                  this.update,
                ),
                this.player_.liveTracker &&
                  this.on(
                    this.player_.liveTracker,
                    'liveedgechange',
                    this.update,
                  ),
                this.off(
                  this.player_,
                  ['playing'],
                  this.enableIntervalHandler_,
                ),
                this.off(
                  this.player_,
                  ['ended', 'pause', 'waiting'],
                  this.disableIntervalHandler_,
                ),
                'hidden' in a() &&
                  'visibilityState' in a() &&
                  this.off(a(), 'visibilitychange', this.toggleVisibility_),
                e.prototype.dispose.call(this);
            }),
            t
          );
        })(us);
        (ms.prototype.options_ = {
          children: ['loadProgressBar', 'playProgressBar'],
          barName: 'playProgressBar',
        }),
          di ||
            Jt ||
            ms.prototype.options_.children.splice(1, 0, 'mouseTimeDisplay'),
          Bn.registerComponent('SeekBar', ms);
        var gs = (function (e) {
          function t(t, i) {
            var n;
            return (
              ((n = e.call(this, t, i) || this).handleMouseMove = vn(
                gn(l(n), n.handleMouseMove),
                mn,
              )),
              (n.throttledHandleMouseSeek = vn(
                gn(l(n), n.handleMouseSeek),
                mn,
              )),
              (n.handleMouseUpHandler_ = function (e) {
                return n.handleMouseUp(e);
              }),
              (n.handleMouseDownHandler_ = function (e) {
                return n.handleMouseDown(e);
              }),
              n.enable(),
              n
            );
          }
          d(t, e);
          var i = t.prototype;
          return (
            (i.createEl = function () {
              return e.prototype.createEl.call(this, 'div', {
                className: 'vjs-progress-control vjs-control',
              });
            }),
            (i.handleMouseMove = function (e) {
              var t = this.getChild('seekBar');
              if (t) {
                var i = t.getChild('playProgressBar'),
                  n = t.getChild('mouseTimeDisplay');
                if (i || n) {
                  var r = t.el(),
                    s = Ri(r),
                    a = Oi(r, e).x;
                  (a = ls(a, 0, 1)),
                    n && n.update(s, a),
                    i && i.update(s, t.getProgress());
                }
              }
            }),
            (i.handleMouseSeek = function (e) {
              var t = this.getChild('seekBar');
              t && t.handleMouseMove(e);
            }),
            (i.enabled = function () {
              return this.enabled_;
            }),
            (i.disable = function () {
              if (
                (this.children().forEach(function (e) {
                  return e.disable && e.disable();
                }),
                this.enabled() &&
                  (this.off(
                    ['mousedown', 'touchstart'],
                    this.handleMouseDownHandler_,
                  ),
                  this.off(this.el_, 'mousemove', this.handleMouseMove),
                  this.removeListenersAddedOnMousedownAndTouchstart(),
                  this.addClass('disabled'),
                  (this.enabled_ = !1),
                  this.player_.scrubbing()))
              ) {
                var e = this.getChild('seekBar');
                this.player_.scrubbing(!1),
                  e.videoWasPlaying && Kn(this.player_.play());
              }
            }),
            (i.enable = function () {
              this.children().forEach(function (e) {
                return e.enable && e.enable();
              }),
                this.enabled() ||
                  (this.on(
                    ['mousedown', 'touchstart'],
                    this.handleMouseDownHandler_,
                  ),
                  this.on(this.el_, 'mousemove', this.handleMouseMove),
                  this.removeClass('disabled'),
                  (this.enabled_ = !0));
            }),
            (i.removeListenersAddedOnMousedownAndTouchstart = function () {
              var e = this.el_.ownerDocument;
              this.off(e, 'mousemove', this.throttledHandleMouseSeek),
                this.off(e, 'touchmove', this.throttledHandleMouseSeek),
                this.off(e, 'mouseup', this.handleMouseUpHandler_),
                this.off(e, 'touchend', this.handleMouseUpHandler_);
            }),
            (i.handleMouseDown = function (e) {
              var t = this.el_.ownerDocument,
                i = this.getChild('seekBar');
              i && i.handleMouseDown(e),
                this.on(t, 'mousemove', this.throttledHandleMouseSeek),
                this.on(t, 'touchmove', this.throttledHandleMouseSeek),
                this.on(t, 'mouseup', this.handleMouseUpHandler_),
                this.on(t, 'touchend', this.handleMouseUpHandler_);
            }),
            (i.handleMouseUp = function (e) {
              var t = this.getChild('seekBar');
              t && t.handleMouseUp(e),
                this.removeListenersAddedOnMousedownAndTouchstart();
            }),
            t
          );
        })(Bn);
        (gs.prototype.options_ = { children: ['seekBar'] }),
          Bn.registerComponent('ProgressControl', gs);
        var vs = (function (e) {
          function t(t, i) {
            var n;
            return (
              (n = e.call(this, t, i) || this).on(
                t,
                ['enterpictureinpicture', 'leavepictureinpicture'],
                function (e) {
                  return n.handlePictureInPictureChange(e);
                },
              ),
              n.on(
                t,
                ['disablepictureinpicturechanged', 'loadedmetadata'],
                function (e) {
                  return n.handlePictureInPictureEnabledChange(e);
                },
              ),
              n.disable(),
              n
            );
          }
          d(t, e);
          var i = t.prototype;
          return (
            (i.buildCSSClass = function () {
              return (
                'vjs-picture-in-picture-control ' +
                e.prototype.buildCSSClass.call(this)
              );
            }),
            (i.handlePictureInPictureEnabledChange = function () {
              a().pictureInPictureEnabled &&
              !1 === this.player_.disablePictureInPicture()
                ? this.enable()
                : this.disable();
            }),
            (i.handlePictureInPictureChange = function (e) {
              this.player_.isInPictureInPicture()
                ? this.controlText('Exit Picture-in-Picture')
                : this.controlText('Picture-in-Picture'),
                this.handlePictureInPictureEnabledChange();
            }),
            (i.handleClick = function (e) {
              this.player_.isInPictureInPicture()
                ? this.player_.exitPictureInPicture()
                : this.player_.requestPictureInPicture();
            }),
            t
          );
        })(Qr);
        (vs.prototype.controlText_ = 'Picture-in-Picture'),
          Bn.registerComponent('PictureInPictureToggle', vs);
        var ys = (function (e) {
          function t(t, i) {
            var n;
            return (
              (n = e.call(this, t, i) || this).on(
                t,
                'fullscreenchange',
                function (e) {
                  return n.handleFullscreenChange(e);
                },
              ),
              !1 === a()[t.fsApi_.fullscreenEnabled] && n.disable(),
              n
            );
          }
          d(t, e);
          var i = t.prototype;
          return (
            (i.buildCSSClass = function () {
              return (
                'vjs-fullscreen-control ' + e.prototype.buildCSSClass.call(this)
              );
            }),
            (i.handleFullscreenChange = function (e) {
              this.player_.isFullscreen()
                ? this.controlText('Non-Fullscreen')
                : this.controlText('Fullscreen');
            }),
            (i.handleClick = function (e) {
              this.player_.isFullscreen()
                ? this.player_.exitFullscreen()
                : this.player_.requestFullscreen();
            }),
            t
          );
        })(Qr);
        (ys.prototype.controlText_ = 'Fullscreen'),
          Bn.registerComponent('FullscreenToggle', ys);
        var As = (function (e) {
          function t() {
            return e.apply(this, arguments) || this;
          }
          return (
            d(t, e),
            (t.prototype.createEl = function () {
              return e.prototype.createEl.call(this, 'div', {
                className: 'vjs-volume-level',
                innerHTML: '<span class="vjs-control-text"></span>',
              });
            }),
            t
          );
        })(Bn);
        Bn.registerComponent('VolumeLevel', As);
        var bs = (function (e) {
          function t(t, i) {
            var n;
            return (
              ((n = e.call(this, t, i) || this).update = vn(
                gn(l(n), n.update),
                mn,
              )),
              n
            );
          }
          d(t, e);
          var i = t.prototype;
          return (
            (i.createEl = function () {
              return e.prototype.createEl.call(
                this,
                'div',
                { className: 'vjs-volume-tooltip' },
                { 'aria-hidden': 'true' },
              );
            }),
            (i.update = function (e, t, i, n) {
              if (!i) {
                var r = Di(this.el_),
                  s = Di(this.player_.el()),
                  a = e.width * t;
                if (!s || !r) return;
                var o = e.left - s.left + a,
                  l = e.width - a + (s.right - e.right),
                  u = r.width / 2;
                o < u ? (u += u - o) : l < u && (u = l),
                  u < 0 ? (u = 0) : u > r.width && (u = r.width),
                  (this.el_.style.right = '-' + u + 'px');
              }
              this.write(n + '%');
            }),
            (i.write = function (e) {
              bi(this.el_, e);
            }),
            (i.updateVolume = function (e, t, i, n, r) {
              var s = this;
              this.requestNamedAnimationFrame(
                'VolumeLevelTooltip#updateVolume',
                function () {
                  s.update(e, t, i, n.toFixed(0)), r && r();
                },
              );
            }),
            t
          );
        })(Bn);
        Bn.registerComponent('VolumeLevelTooltip', bs);
        var Ts = (function (e) {
          function t(t, i) {
            var n;
            return (
              ((n = e.call(this, t, i) || this).update = vn(
                gn(l(n), n.update),
                mn,
              )),
              n
            );
          }
          d(t, e);
          var i = t.prototype;
          return (
            (i.createEl = function () {
              return e.prototype.createEl.call(this, 'div', {
                className: 'vjs-mouse-display',
              });
            }),
            (i.update = function (e, t, i) {
              var n = this,
                r = 100 * t;
              this.getChild('volumeLevelTooltip').updateVolume(
                e,
                t,
                i,
                r,
                function () {
                  i
                    ? (n.el_.style.bottom = e.height * t + 'px')
                    : (n.el_.style.left = e.width * t + 'px');
                },
              );
            }),
            t
          );
        })(Bn);
        (Ts.prototype.options_ = { children: ['volumeLevelTooltip'] }),
          Bn.registerComponent('MouseVolumeLevelDisplay', Ts);
        var Ss = (function (e) {
          function t(t, i) {
            var n;
            return (
              (n = e.call(this, t, i) || this).on('slideractive', function (e) {
                return n.updateLastVolume_(e);
              }),
              n.on(t, 'volumechange', function (e) {
                return n.updateARIAAttributes(e);
              }),
              t.ready(function () {
                return n.updateARIAAttributes();
              }),
              n
            );
          }
          d(t, e);
          var i = t.prototype;
          return (
            (i.createEl = function () {
              return e.prototype.createEl.call(
                this,
                'div',
                { className: 'vjs-volume-bar vjs-slider-bar' },
                {
                  'aria-label': this.localize('Volume Level'),
                  'aria-live': 'polite',
                },
              );
            }),
            (i.handleMouseDown = function (t) {
              Wi(t) && e.prototype.handleMouseDown.call(this, t);
            }),
            (i.handleMouseMove = function (e) {
              var t = this.getChild('mouseVolumeLevelDisplay');
              if (t) {
                var i = this.el(),
                  n = Di(i),
                  r = this.vertical(),
                  s = Oi(i, e);
                (s = r ? s.y : s.x), (s = ls(s, 0, 1)), t.update(n, s, r);
              }
              Wi(e) &&
                (this.checkMuted(),
                this.player_.volume(this.calculateDistance(e)));
            }),
            (i.checkMuted = function () {
              this.player_.muted() && this.player_.muted(!1);
            }),
            (i.getPercent = function () {
              return this.player_.muted() ? 0 : this.player_.volume();
            }),
            (i.stepForward = function () {
              this.checkMuted(),
                this.player_.volume(this.player_.volume() + 0.1);
            }),
            (i.stepBack = function () {
              this.checkMuted(),
                this.player_.volume(this.player_.volume() - 0.1);
            }),
            (i.updateARIAAttributes = function (e) {
              var t = this.player_.muted() ? 0 : this.volumeAsPercentage_();
              this.el_.setAttribute('aria-valuenow', t),
                this.el_.setAttribute('aria-valuetext', t + '%');
            }),
            (i.volumeAsPercentage_ = function () {
              return Math.round(100 * this.player_.volume());
            }),
            (i.updateLastVolume_ = function () {
              var e = this,
                t = this.player_.volume();
              this.one('sliderinactive', function () {
                0 === e.player_.volume() && e.player_.lastVolume_(t);
              });
            }),
            t
          );
        })(us);
        (Ss.prototype.options_ = {
          children: ['volumeLevel'],
          barName: 'volumeLevel',
        }),
          di ||
            Jt ||
            Ss.prototype.options_.children.splice(
              0,
              0,
              'mouseVolumeLevelDisplay',
            ),
          (Ss.prototype.playerEvent = 'volumechange'),
          Bn.registerComponent('VolumeBar', Ss);
        var ws = (function (e) {
          function t(t, i) {
            var n;
            return (
              void 0 === i && (i = {}),
              (i.vertical = i.vertical || !1),
              (void 0 === i.volumeBar || Ht(i.volumeBar)) &&
                ((i.volumeBar = i.volumeBar || {}),
                (i.volumeBar.vertical = i.vertical)),
              (function (e, t) {
                t.tech_ &&
                  !t.tech_.featuresVolumeControl &&
                  e.addClass('vjs-hidden'),
                  e.on(t, 'loadstart', function () {
                    t.tech_.featuresVolumeControl
                      ? e.removeClass('vjs-hidden')
                      : e.addClass('vjs-hidden');
                  });
              })(l((n = e.call(this, t, i) || this)), t),
              (n.throttledHandleMouseMove = vn(
                gn(l(n), n.handleMouseMove),
                mn,
              )),
              (n.handleMouseUpHandler_ = function (e) {
                return n.handleMouseUp(e);
              }),
              n.on('mousedown', function (e) {
                return n.handleMouseDown(e);
              }),
              n.on('touchstart', function (e) {
                return n.handleMouseDown(e);
              }),
              n.on('mousemove', function (e) {
                return n.handleMouseMove(e);
              }),
              n.on(n.volumeBar, ['focus', 'slideractive'], function () {
                n.volumeBar.addClass('vjs-slider-active'),
                  n.addClass('vjs-slider-active'),
                  n.trigger('slideractive');
              }),
              n.on(n.volumeBar, ['blur', 'sliderinactive'], function () {
                n.volumeBar.removeClass('vjs-slider-active'),
                  n.removeClass('vjs-slider-active'),
                  n.trigger('sliderinactive');
              }),
              n
            );
          }
          d(t, e);
          var i = t.prototype;
          return (
            (i.createEl = function () {
              var t = 'vjs-volume-horizontal';
              return (
                this.options_.vertical && (t = 'vjs-volume-vertical'),
                e.prototype.createEl.call(this, 'div', {
                  className: 'vjs-volume-control vjs-control ' + t,
                })
              );
            }),
            (i.handleMouseDown = function (e) {
              var t = this.el_.ownerDocument;
              this.on(t, 'mousemove', this.throttledHandleMouseMove),
                this.on(t, 'touchmove', this.throttledHandleMouseMove),
                this.on(t, 'mouseup', this.handleMouseUpHandler_),
                this.on(t, 'touchend', this.handleMouseUpHandler_);
            }),
            (i.handleMouseUp = function (e) {
              var t = this.el_.ownerDocument;
              this.off(t, 'mousemove', this.throttledHandleMouseMove),
                this.off(t, 'touchmove', this.throttledHandleMouseMove),
                this.off(t, 'mouseup', this.handleMouseUpHandler_),
                this.off(t, 'touchend', this.handleMouseUpHandler_);
            }),
            (i.handleMouseMove = function (e) {
              this.volumeBar.handleMouseMove(e);
            }),
            t
          );
        })(Bn);
        (ws.prototype.options_ = { children: ['volumeBar'] }),
          Bn.registerComponent('VolumeControl', ws);
        var ks = (function (e) {
          function t(t, i) {
            var n;
            return (
              (function (e, t) {
                t.tech_ &&
                  !t.tech_.featuresMuteControl &&
                  e.addClass('vjs-hidden'),
                  e.on(t, 'loadstart', function () {
                    t.tech_.featuresMuteControl
                      ? e.removeClass('vjs-hidden')
                      : e.addClass('vjs-hidden');
                  });
              })(l((n = e.call(this, t, i) || this)), t),
              n.on(t, ['loadstart', 'volumechange'], function (e) {
                return n.update(e);
              }),
              n
            );
          }
          d(t, e);
          var i = t.prototype;
          return (
            (i.buildCSSClass = function () {
              return 'vjs-mute-control ' + e.prototype.buildCSSClass.call(this);
            }),
            (i.handleClick = function (e) {
              var t = this.player_.volume(),
                i = this.player_.lastVolume_();
              if (0 === t) {
                var n = i < 0.1 ? 0.1 : i;
                this.player_.volume(n), this.player_.muted(!1);
              } else this.player_.muted(!this.player_.muted());
            }),
            (i.update = function (e) {
              this.updateIcon_(), this.updateControlText_();
            }),
            (i.updateIcon_ = function () {
              var e = this.player_.volume(),
                t = 3;
              di &&
                this.player_.tech_ &&
                this.player_.tech_.el_ &&
                this.player_.muted(this.player_.tech_.el_.muted),
                0 === e || this.player_.muted()
                  ? (t = 0)
                  : e < 0.33
                    ? (t = 1)
                    : e < 0.67 && (t = 2);
              for (var i = 0; i < 4; i++) ki(this.el_, 'vjs-vol-' + i);
              wi(this.el_, 'vjs-vol-' + t);
            }),
            (i.updateControlText_ = function () {
              var e =
                this.player_.muted() || 0 === this.player_.volume()
                  ? 'Unmute'
                  : 'Mute';
              this.controlText() !== e && this.controlText(e);
            }),
            t
          );
        })(Qr);
        (ks.prototype.controlText_ = 'Mute'),
          Bn.registerComponent('MuteToggle', ks);
        var _s = (function (e) {
          function t(t, i) {
            var n;
            return (
              void 0 === i && (i = {}),
              void 0 !== i.inline ? (i.inline = i.inline) : (i.inline = !0),
              (void 0 === i.volumeControl || Ht(i.volumeControl)) &&
                ((i.volumeControl = i.volumeControl || {}),
                (i.volumeControl.vertical = !i.inline)),
              ((n = e.call(this, t, i) || this).handleKeyPressHandler_ =
                function (e) {
                  return n.handleKeyPress(e);
                }),
              n.on(t, ['loadstart'], function (e) {
                return n.volumePanelState_(e);
              }),
              n.on(n.muteToggle, 'keyup', function (e) {
                return n.handleKeyPress(e);
              }),
              n.on(n.volumeControl, 'keyup', function (e) {
                return n.handleVolumeControlKeyUp(e);
              }),
              n.on('keydown', function (e) {
                return n.handleKeyPress(e);
              }),
              n.on('mouseover', function (e) {
                return n.handleMouseOver(e);
              }),
              n.on('mouseout', function (e) {
                return n.handleMouseOut(e);
              }),
              n.on(n.volumeControl, ['slideractive'], n.sliderActive_),
              n.on(n.volumeControl, ['sliderinactive'], n.sliderInactive_),
              n
            );
          }
          d(t, e);
          var i = t.prototype;
          return (
            (i.sliderActive_ = function () {
              this.addClass('vjs-slider-active');
            }),
            (i.sliderInactive_ = function () {
              this.removeClass('vjs-slider-active');
            }),
            (i.volumePanelState_ = function () {
              this.volumeControl.hasClass('vjs-hidden') &&
                this.muteToggle.hasClass('vjs-hidden') &&
                this.addClass('vjs-hidden'),
                this.volumeControl.hasClass('vjs-hidden') &&
                  !this.muteToggle.hasClass('vjs-hidden') &&
                  this.addClass('vjs-mute-toggle-only');
            }),
            (i.createEl = function () {
              var t = 'vjs-volume-panel-horizontal';
              return (
                this.options_.inline || (t = 'vjs-volume-panel-vertical'),
                e.prototype.createEl.call(this, 'div', {
                  className: 'vjs-volume-panel vjs-control ' + t,
                })
              );
            }),
            (i.dispose = function () {
              this.handleMouseOut(), e.prototype.dispose.call(this);
            }),
            (i.handleVolumeControlKeyUp = function (e) {
              f().isEventKey(e, 'Esc') && this.muteToggle.focus();
            }),
            (i.handleMouseOver = function (e) {
              this.addClass('vjs-hover'),
                ln(a(), 'keyup', this.handleKeyPressHandler_);
            }),
            (i.handleMouseOut = function (e) {
              this.removeClass('vjs-hover'),
                un(a(), 'keyup', this.handleKeyPressHandler_);
            }),
            (i.handleKeyPress = function (e) {
              f().isEventKey(e, 'Esc') && this.handleMouseOut();
            }),
            t
          );
        })(Bn);
        (_s.prototype.options_ = { children: ['muteToggle', 'volumeControl'] }),
          Bn.registerComponent('VolumePanel', _s);
        var Cs = (function (e) {
          function t(t, i) {
            var n;
            return (
              (n = e.call(this, t, i) || this),
              i && (n.menuButton_ = i.menuButton),
              (n.focusedChild_ = -1),
              n.on('keydown', function (e) {
                return n.handleKeyDown(e);
              }),
              (n.boundHandleBlur_ = function (e) {
                return n.handleBlur(e);
              }),
              (n.boundHandleTapClick_ = function (e) {
                return n.handleTapClick(e);
              }),
              n
            );
          }
          d(t, e);
          var i = t.prototype;
          return (
            (i.addEventListenerForItem = function (e) {
              e instanceof Bn &&
                (this.on(e, 'blur', this.boundHandleBlur_),
                this.on(e, ['tap', 'click'], this.boundHandleTapClick_));
            }),
            (i.removeEventListenerForItem = function (e) {
              e instanceof Bn &&
                (this.off(e, 'blur', this.boundHandleBlur_),
                this.off(e, ['tap', 'click'], this.boundHandleTapClick_));
            }),
            (i.removeChild = function (t) {
              'string' == typeof t && (t = this.getChild(t)),
                this.removeEventListenerForItem(t),
                e.prototype.removeChild.call(this, t);
            }),
            (i.addItem = function (e) {
              var t = this.addChild(e);
              t && this.addEventListenerForItem(t);
            }),
            (i.createEl = function () {
              var t = this.options_.contentElType || 'ul';
              (this.contentEl_ = Ai(t, { className: 'vjs-menu-content' })),
                this.contentEl_.setAttribute('role', 'menu');
              var i = e.prototype.createEl.call(this, 'div', {
                append: this.contentEl_,
                className: 'vjs-menu',
              });
              return (
                i.appendChild(this.contentEl_),
                ln(i, 'click', function (e) {
                  e.preventDefault(), e.stopImmediatePropagation();
                }),
                i
              );
            }),
            (i.dispose = function () {
              (this.contentEl_ = null),
                (this.boundHandleBlur_ = null),
                (this.boundHandleTapClick_ = null),
                e.prototype.dispose.call(this);
            }),
            (i.handleBlur = function (e) {
              var t = e.relatedTarget || a().activeElement;
              if (
                !this.children().some(function (e) {
                  return e.el() === t;
                })
              ) {
                var i = this.menuButton_;
                i &&
                  i.buttonPressed_ &&
                  t !== i.el().firstChild &&
                  i.unpressButton();
              }
            }),
            (i.handleTapClick = function (e) {
              if (this.menuButton_) {
                this.menuButton_.unpressButton();
                var t = this.children();
                if (!Array.isArray(t)) return;
                var i = t.filter(function (t) {
                  return t.el() === e.target;
                })[0];
                if (!i) return;
                'CaptionSettingsMenuItem' !== i.name() &&
                  this.menuButton_.focus();
              }
            }),
            (i.handleKeyDown = function (e) {
              f().isEventKey(e, 'Left') || f().isEventKey(e, 'Down')
                ? (e.preventDefault(), e.stopPropagation(), this.stepForward())
                : (f().isEventKey(e, 'Right') || f().isEventKey(e, 'Up')) &&
                  (e.preventDefault(), e.stopPropagation(), this.stepBack());
            }),
            (i.stepForward = function () {
              var e = 0;
              void 0 !== this.focusedChild_ && (e = this.focusedChild_ + 1),
                this.focus(e);
            }),
            (i.stepBack = function () {
              var e = 0;
              void 0 !== this.focusedChild_ && (e = this.focusedChild_ - 1),
                this.focus(e);
            }),
            (i.focus = function (e) {
              void 0 === e && (e = 0);
              var t = this.children().slice();
              t.length && t[0].hasClass('vjs-menu-title') && t.shift(),
                t.length > 0 &&
                  (e < 0 ? (e = 0) : e >= t.length && (e = t.length - 1),
                  (this.focusedChild_ = e),
                  t[e].el_.focus());
            }),
            t
          );
        })(Bn);
        Bn.registerComponent('Menu', Cs);
        var Es = (function (e) {
          function t(t, i) {
            var n;
            void 0 === i && (i = {}),
              ((n = e.call(this, t, i) || this).menuButton_ = new Qr(t, i)),
              n.menuButton_.controlText(n.controlText_),
              n.menuButton_.el_.setAttribute('aria-haspopup', 'true');
            var r = Qr.prototype.buildCSSClass();
            (n.menuButton_.el_.className = n.buildCSSClass() + ' ' + r),
              n.menuButton_.removeClass('vjs-control'),
              n.addChild(n.menuButton_),
              n.update(),
              (n.enabled_ = !0);
            var s = function (e) {
              return n.handleClick(e);
            };
            return (
              (n.handleMenuKeyUp_ = function (e) {
                return n.handleMenuKeyUp(e);
              }),
              n.on(n.menuButton_, 'tap', s),
              n.on(n.menuButton_, 'click', s),
              n.on(n.menuButton_, 'keydown', function (e) {
                return n.handleKeyDown(e);
              }),
              n.on(n.menuButton_, 'mouseenter', function () {
                n.addClass('vjs-hover'),
                  n.menu.show(),
                  ln(a(), 'keyup', n.handleMenuKeyUp_);
              }),
              n.on('mouseleave', function (e) {
                return n.handleMouseLeave(e);
              }),
              n.on('keydown', function (e) {
                return n.handleSubmenuKeyDown(e);
              }),
              n
            );
          }
          d(t, e);
          var i = t.prototype;
          return (
            (i.update = function () {
              var e = this.createMenu();
              this.menu && (this.menu.dispose(), this.removeChild(this.menu)),
                (this.menu = e),
                this.addChild(e),
                (this.buttonPressed_ = !1),
                this.menuButton_.el_.setAttribute('aria-expanded', 'false'),
                this.items && this.items.length <= this.hideThreshold_
                  ? this.hide()
                  : this.show();
            }),
            (i.createMenu = function () {
              var e = new Cs(this.player_, { menuButton: this });
              if (((this.hideThreshold_ = 0), this.options_.title)) {
                var t = Ai('li', {
                  className: 'vjs-menu-title',
                  innerHTML: Ln(this.options_.title),
                  tabIndex: -1,
                });
                this.hideThreshold_ += 1;
                var i = new Bn(this.player_, { el: t });
                e.addItem(i);
              }
              if (((this.items = this.createItems()), this.items))
                for (var n = 0; n < this.items.length; n++)
                  e.addItem(this.items[n]);
              return e;
            }),
            (i.createItems = function () {}),
            (i.createEl = function () {
              return e.prototype.createEl.call(
                this,
                'div',
                { className: this.buildWrapperCSSClass() },
                {},
              );
            }),
            (i.buildWrapperCSSClass = function () {
              var t = 'vjs-menu-button';
              return (
                !0 === this.options_.inline
                  ? (t += '-inline')
                  : (t += '-popup'),
                'vjs-menu-button ' +
                  t +
                  ' ' +
                  Qr.prototype.buildCSSClass() +
                  ' ' +
                  e.prototype.buildCSSClass.call(this)
              );
            }),
            (i.buildCSSClass = function () {
              var t = 'vjs-menu-button';
              return (
                !0 === this.options_.inline
                  ? (t += '-inline')
                  : (t += '-popup'),
                'vjs-menu-button ' +
                  t +
                  ' ' +
                  e.prototype.buildCSSClass.call(this)
              );
            }),
            (i.controlText = function (e, t) {
              return (
                void 0 === t && (t = this.menuButton_.el()),
                this.menuButton_.controlText(e, t)
              );
            }),
            (i.dispose = function () {
              this.handleMouseLeave(), e.prototype.dispose.call(this);
            }),
            (i.handleClick = function (e) {
              this.buttonPressed_ ? this.unpressButton() : this.pressButton();
            }),
            (i.handleMouseLeave = function (e) {
              this.removeClass('vjs-hover'),
                un(a(), 'keyup', this.handleMenuKeyUp_);
            }),
            (i.focus = function () {
              this.menuButton_.focus();
            }),
            (i.blur = function () {
              this.menuButton_.blur();
            }),
            (i.handleKeyDown = function (e) {
              f().isEventKey(e, 'Esc') || f().isEventKey(e, 'Tab')
                ? (this.buttonPressed_ && this.unpressButton(),
                  f().isEventKey(e, 'Tab') ||
                    (e.preventDefault(), this.menuButton_.focus()))
                : (f().isEventKey(e, 'Up') || f().isEventKey(e, 'Down')) &&
                  (this.buttonPressed_ ||
                    (e.preventDefault(), this.pressButton()));
            }),
            (i.handleMenuKeyUp = function (e) {
              (f().isEventKey(e, 'Esc') || f().isEventKey(e, 'Tab')) &&
                this.removeClass('vjs-hover');
            }),
            (i.handleSubmenuKeyPress = function (e) {
              this.handleSubmenuKeyDown(e);
            }),
            (i.handleSubmenuKeyDown = function (e) {
              (f().isEventKey(e, 'Esc') || f().isEventKey(e, 'Tab')) &&
                (this.buttonPressed_ && this.unpressButton(),
                f().isEventKey(e, 'Tab') ||
                  (e.preventDefault(), this.menuButton_.focus()));
            }),
            (i.pressButton = function () {
              if (this.enabled_) {
                if (
                  ((this.buttonPressed_ = !0),
                  this.menu.show(),
                  this.menu.lockShowing(),
                  this.menuButton_.el_.setAttribute('aria-expanded', 'true'),
                  di && vi())
                )
                  return;
                this.menu.focus();
              }
            }),
            (i.unpressButton = function () {
              this.enabled_ &&
                ((this.buttonPressed_ = !1),
                this.menu.unlockShowing(),
                this.menu.hide(),
                this.menuButton_.el_.setAttribute('aria-expanded', 'false'));
            }),
            (i.disable = function () {
              this.unpressButton(),
                (this.enabled_ = !1),
                this.addClass('vjs-disabled'),
                this.menuButton_.disable();
            }),
            (i.enable = function () {
              (this.enabled_ = !0),
                this.removeClass('vjs-disabled'),
                this.menuButton_.enable();
            }),
            t
          );
        })(Bn);
        Bn.registerComponent('MenuButton', Es);
        var js = (function (e) {
          function t(t, i) {
            var n,
              r = i.tracks;
            if (
              ((n = e.call(this, t, i) || this).items.length <= 1 && n.hide(),
              !r)
            )
              return l(n);
            var s = gn(l(n), n.update);
            return (
              r.addEventListener('removetrack', s),
              r.addEventListener('addtrack', s),
              r.addEventListener('labelchange', s),
              n.player_.on('ready', s),
              n.player_.on('dispose', function () {
                r.removeEventListener('removetrack', s),
                  r.removeEventListener('addtrack', s),
                  r.removeEventListener('labelchange', s);
              }),
              n
            );
          }
          return d(t, e), t;
        })(Es);
        Bn.registerComponent('TrackButton', js);
        var Ps = ['Tab', 'Esc', 'Up', 'Down', 'Right', 'Left'],
          Is = (function (e) {
            function t(t, i) {
              var n;
              return (
                ((n = e.call(this, t, i) || this).selectable = i.selectable),
                (n.isSelected_ = i.selected || !1),
                (n.multiSelectable = i.multiSelectable),
                n.selected(n.isSelected_),
                n.selectable
                  ? n.multiSelectable
                    ? n.el_.setAttribute('role', 'menuitemcheckbox')
                    : n.el_.setAttribute('role', 'menuitemradio')
                  : n.el_.setAttribute('role', 'menuitem'),
                n
              );
            }
            d(t, e);
            var i = t.prototype;
            return (
              (i.createEl = function (t, i, n) {
                return (
                  (this.nonIconControl = !0),
                  e.prototype.createEl.call(
                    this,
                    'li',
                    Wt(
                      {
                        className: 'vjs-menu-item',
                        innerHTML:
                          '<span class="vjs-menu-item-text">' +
                          this.localize(this.options_.label) +
                          '</span>',
                        tabIndex: -1,
                      },
                      i,
                    ),
                    n,
                  )
                );
              }),
              (i.handleKeyDown = function (t) {
                Ps.some(function (e) {
                  return f().isEventKey(t, e);
                }) || e.prototype.handleKeyDown.call(this, t);
              }),
              (i.handleClick = function (e) {
                this.selected(!0);
              }),
              (i.selected = function (e) {
                this.selectable &&
                  (e
                    ? (this.addClass('vjs-selected'),
                      this.el_.setAttribute('aria-checked', 'true'),
                      this.controlText(', selected'),
                      (this.isSelected_ = !0))
                    : (this.removeClass('vjs-selected'),
                      this.el_.setAttribute('aria-checked', 'false'),
                      this.controlText(''),
                      (this.isSelected_ = !1)));
              }),
              t
            );
          })(Wr);
        Bn.registerComponent('MenuItem', Is);
        var xs = (function (e) {
          function t(t, i) {
            var n,
              s = i.track,
              o = t.textTracks();
            (i.label = s.label || s.language || 'Unknown'),
              (i.selected = 'showing' === s.mode),
              ((n = e.call(this, t, i) || this).track = s),
              (n.kinds = (i.kinds || [i.kind || n.track.kind]).filter(Boolean));
            var u,
              d = function () {
                for (
                  var e = arguments.length, t = new Array(e), i = 0;
                  i < e;
                  i++
                )
                  t[i] = arguments[i];
                n.handleTracksChange.apply(l(n), t);
              },
              c = function () {
                for (
                  var e = arguments.length, t = new Array(e), i = 0;
                  i < e;
                  i++
                )
                  t[i] = arguments[i];
                n.handleSelectedLanguageChange.apply(l(n), t);
              };
            (t.on(['loadstart', 'texttrackchange'], d),
            o.addEventListener('change', d),
            o.addEventListener('selectedlanguagechange', c),
            n.on('dispose', function () {
              t.off(['loadstart', 'texttrackchange'], d),
                o.removeEventListener('change', d),
                o.removeEventListener('selectedlanguagechange', c);
            }),
            void 0 === o.onchange) &&
              n.on(['tap', 'click'], function () {
                if ('object' != typeof r().Event)
                  try {
                    u = new (r().Event)('change');
                  } catch (e) {}
                u || (u = a().createEvent('Event')).initEvent('change', !0, !0),
                  o.dispatchEvent(u);
              });
            return n.handleTracksChange(), n;
          }
          d(t, e);
          var i = t.prototype;
          return (
            (i.handleClick = function (t) {
              var i = this.track,
                n = this.player_.textTracks();
              if ((e.prototype.handleClick.call(this, t), n))
                for (var r = 0; r < n.length; r++) {
                  var s = n[r];
                  -1 !== this.kinds.indexOf(s.kind) &&
                    (s === i
                      ? 'showing' !== s.mode && (s.mode = 'showing')
                      : 'disabled' !== s.mode && (s.mode = 'disabled'));
                }
            }),
            (i.handleTracksChange = function (e) {
              var t = 'showing' === this.track.mode;
              t !== this.isSelected_ && this.selected(t);
            }),
            (i.handleSelectedLanguageChange = function (e) {
              if ('showing' === this.track.mode) {
                var t = this.player_.cache_.selectedLanguage;
                if (
                  t &&
                  t.enabled &&
                  t.language === this.track.language &&
                  t.kind !== this.track.kind
                )
                  return;
                this.player_.cache_.selectedLanguage = {
                  enabled: !0,
                  language: this.track.language,
                  kind: this.track.kind,
                };
              }
            }),
            (i.dispose = function () {
              (this.track = null), e.prototype.dispose.call(this);
            }),
            t
          );
        })(Is);
        Bn.registerComponent('TextTrackMenuItem', xs);
        var Ls = (function (e) {
          function t(t, i) {
            return (
              (i.track = {
                player: t,
                kind: i.kind,
                kinds: i.kinds,
                default: !1,
                mode: 'disabled',
              }),
              i.kinds || (i.kinds = [i.kind]),
              i.label
                ? (i.track.label = i.label)
                : (i.track.label = i.kinds.join(' and ') + ' off'),
              (i.selectable = !0),
              (i.multiSelectable = !1),
              e.call(this, t, i) || this
            );
          }
          d(t, e);
          var i = t.prototype;
          return (
            (i.handleTracksChange = function (e) {
              for (
                var t = this.player().textTracks(), i = !0, n = 0, r = t.length;
                n < r;
                n++
              ) {
                var s = t[n];
                if (
                  this.options_.kinds.indexOf(s.kind) > -1 &&
                  'showing' === s.mode
                ) {
                  i = !1;
                  break;
                }
              }
              i !== this.isSelected_ && this.selected(i);
            }),
            (i.handleSelectedLanguageChange = function (e) {
              for (
                var t = this.player().textTracks(), i = !0, n = 0, r = t.length;
                n < r;
                n++
              ) {
                var s = t[n];
                if (
                  ['captions', 'descriptions', 'subtitles'].indexOf(s.kind) >
                    -1 &&
                  'showing' === s.mode
                ) {
                  i = !1;
                  break;
                }
              }
              i && (this.player_.cache_.selectedLanguage = { enabled: !1 });
            }),
            t
          );
        })(xs);
        Bn.registerComponent('OffTextTrackMenuItem', Ls);
        var Ds = (function (e) {
          function t(t, i) {
            return (
              void 0 === i && (i = {}),
              (i.tracks = t.textTracks()),
              e.call(this, t, i) || this
            );
          }
          return (
            d(t, e),
            (t.prototype.createItems = function (e, t) {
              var i;
              void 0 === e && (e = []),
                void 0 === t && (t = xs),
                this.label_ && (i = this.label_ + ' off'),
                e.push(
                  new Ls(this.player_, {
                    kinds: this.kinds_,
                    kind: this.kind_,
                    label: i,
                  }),
                ),
                (this.hideThreshold_ += 1);
              var n = this.player_.textTracks();
              Array.isArray(this.kinds_) || (this.kinds_ = [this.kind_]);
              for (var r = 0; r < n.length; r++) {
                var s = n[r];
                if (this.kinds_.indexOf(s.kind) > -1) {
                  var a = new t(this.player_, {
                    track: s,
                    kinds: this.kinds_,
                    kind: this.kind_,
                    selectable: !0,
                    multiSelectable: !1,
                  });
                  a.addClass('vjs-' + s.kind + '-menu-item'), e.push(a);
                }
              }
              return e;
            }),
            t
          );
        })(js);
        Bn.registerComponent('TextTrackButton', Ds);
        var Rs = (function (e) {
          function t(t, i) {
            var n,
              r = i.track,
              s = i.cue,
              a = t.currentTime();
            return (
              (i.selectable = !0),
              (i.multiSelectable = !1),
              (i.label = s.text),
              (i.selected = s.startTime <= a && a < s.endTime),
              ((n = e.call(this, t, i) || this).track = r),
              (n.cue = s),
              r.addEventListener('cuechange', gn(l(n), n.update)),
              n
            );
          }
          d(t, e);
          var i = t.prototype;
          return (
            (i.handleClick = function (t) {
              e.prototype.handleClick.call(this),
                this.player_.currentTime(this.cue.startTime),
                this.update(this.cue.startTime);
            }),
            (i.update = function (e) {
              var t = this.cue,
                i = this.player_.currentTime();
              this.selected(t.startTime <= i && i < t.endTime);
            }),
            t
          );
        })(Is);
        Bn.registerComponent('ChaptersTrackMenuItem', Rs);
        var Os = (function (e) {
          function t(t, i, n) {
            return e.call(this, t, i, n) || this;
          }
          d(t, e);
          var i = t.prototype;
          return (
            (i.buildCSSClass = function () {
              return (
                'vjs-chapters-button ' + e.prototype.buildCSSClass.call(this)
              );
            }),
            (i.buildWrapperCSSClass = function () {
              return (
                'vjs-chapters-button ' +
                e.prototype.buildWrapperCSSClass.call(this)
              );
            }),
            (i.update = function (t) {
              (this.track_ &&
                (!t || ('addtrack' !== t.type && 'removetrack' !== t.type))) ||
                this.setTrack(this.findChaptersTrack()),
                e.prototype.update.call(this);
            }),
            (i.setTrack = function (e) {
              if (this.track_ !== e) {
                if (
                  (this.updateHandler_ ||
                    (this.updateHandler_ = this.update.bind(this)),
                  this.track_)
                ) {
                  var t = this.player_
                    .remoteTextTrackEls()
                    .getTrackElementByTrack_(this.track_);
                  t && t.removeEventListener('load', this.updateHandler_),
                    (this.track_ = null);
                }
                if (((this.track_ = e), this.track_)) {
                  this.track_.mode = 'hidden';
                  var i = this.player_
                    .remoteTextTrackEls()
                    .getTrackElementByTrack_(this.track_);
                  i && i.addEventListener('load', this.updateHandler_);
                }
              }
            }),
            (i.findChaptersTrack = function () {
              for (
                var e = this.player_.textTracks() || [], t = e.length - 1;
                t >= 0;
                t--
              ) {
                var i = e[t];
                if (i.kind === this.kind_) return i;
              }
            }),
            (i.getMenuCaption = function () {
              return this.track_ && this.track_.label
                ? this.track_.label
                : this.localize(Ln(this.kind_));
            }),
            (i.createMenu = function () {
              return (
                (this.options_.title = this.getMenuCaption()),
                e.prototype.createMenu.call(this)
              );
            }),
            (i.createItems = function () {
              var e = [];
              if (!this.track_) return e;
              var t = this.track_.cues;
              if (!t) return e;
              for (var i = 0, n = t.length; i < n; i++) {
                var r = t[i],
                  s = new Rs(this.player_, { track: this.track_, cue: r });
                e.push(s);
              }
              return e;
            }),
            t
          );
        })(Ds);
        (Os.prototype.kind_ = 'chapters'),
          (Os.prototype.controlText_ = 'Chapters'),
          Bn.registerComponent('ChaptersButton', Os);
        var Ms = (function (e) {
          function t(t, i, n) {
            var r;
            r = e.call(this, t, i, n) || this;
            var s = t.textTracks(),
              a = gn(l(r), r.handleTracksChange);
            return (
              s.addEventListener('change', a),
              r.on('dispose', function () {
                s.removeEventListener('change', a);
              }),
              r
            );
          }
          d(t, e);
          var i = t.prototype;
          return (
            (i.handleTracksChange = function (e) {
              for (
                var t = this.player().textTracks(), i = !1, n = 0, r = t.length;
                n < r;
                n++
              ) {
                var s = t[n];
                if (s.kind !== this.kind_ && 'showing' === s.mode) {
                  i = !0;
                  break;
                }
              }
              i ? this.disable() : this.enable();
            }),
            (i.buildCSSClass = function () {
              return (
                'vjs-descriptions-button ' +
                e.prototype.buildCSSClass.call(this)
              );
            }),
            (i.buildWrapperCSSClass = function () {
              return (
                'vjs-descriptions-button ' +
                e.prototype.buildWrapperCSSClass.call(this)
              );
            }),
            t
          );
        })(Ds);
        (Ms.prototype.kind_ = 'descriptions'),
          (Ms.prototype.controlText_ = 'Descriptions'),
          Bn.registerComponent('DescriptionsButton', Ms);
        var Ns = (function (e) {
          function t(t, i, n) {
            return e.call(this, t, i, n) || this;
          }
          d(t, e);
          var i = t.prototype;
          return (
            (i.buildCSSClass = function () {
              return (
                'vjs-subtitles-button ' + e.prototype.buildCSSClass.call(this)
              );
            }),
            (i.buildWrapperCSSClass = function () {
              return (
                'vjs-subtitles-button ' +
                e.prototype.buildWrapperCSSClass.call(this)
              );
            }),
            t
          );
        })(Ds);
        (Ns.prototype.kind_ = 'subtitles'),
          (Ns.prototype.controlText_ = 'Subtitles'),
          Bn.registerComponent('SubtitlesButton', Ns);
        var Bs = (function (e) {
          function t(t, i) {
            var n;
            return (
              (i.track = {
                player: t,
                kind: i.kind,
                label: i.kind + ' settings',
                selectable: !1,
                default: !1,
                mode: 'disabled',
              }),
              (i.selectable = !1),
              (i.name = 'CaptionSettingsMenuItem'),
              (n = e.call(this, t, i) || this).addClass(
                'vjs-texttrack-settings',
              ),
              n.controlText(', opens ' + i.kind + ' settings dialog'),
              n
            );
          }
          return (
            d(t, e),
            (t.prototype.handleClick = function (e) {
              this.player().getChild('textTrackSettings').open();
            }),
            t
          );
        })(xs);
        Bn.registerComponent('CaptionSettingsMenuItem', Bs);
        var Us = (function (e) {
          function t(t, i, n) {
            return e.call(this, t, i, n) || this;
          }
          d(t, e);
          var i = t.prototype;
          return (
            (i.buildCSSClass = function () {
              return (
                'vjs-captions-button ' + e.prototype.buildCSSClass.call(this)
              );
            }),
            (i.buildWrapperCSSClass = function () {
              return (
                'vjs-captions-button ' +
                e.prototype.buildWrapperCSSClass.call(this)
              );
            }),
            (i.createItems = function () {
              var t = [];
              return (
                (this.player().tech_ &&
                  this.player().tech_.featuresNativeTextTracks) ||
                  !this.player().getChild('textTrackSettings') ||
                  (t.push(new Bs(this.player_, { kind: this.kind_ })),
                  (this.hideThreshold_ += 1)),
                e.prototype.createItems.call(this, t)
              );
            }),
            t
          );
        })(Ds);
        (Us.prototype.kind_ = 'captions'),
          (Us.prototype.controlText_ = 'Captions'),
          Bn.registerComponent('CaptionsButton', Us);
        var Fs = (function (e) {
          function t() {
            return e.apply(this, arguments) || this;
          }
          return (
            d(t, e),
            (t.prototype.createEl = function (t, i, n) {
              var r =
                '<span class="vjs-menu-item-text">' +
                this.localize(this.options_.label);
              return (
                'captions' === this.options_.track.kind &&
                  (r +=
                    '\n        <span aria-hidden="true" class="vjs-icon-placeholder"></span>\n        <span class="vjs-control-text"> ' +
                    this.localize('Captions') +
                    '</span>\n      '),
                (r += '</span>'),
                e.prototype.createEl.call(this, t, Wt({ innerHTML: r }, i), n)
              );
            }),
            t
          );
        })(xs);
        Bn.registerComponent('SubsCapsMenuItem', Fs);
        var Ws = (function (e) {
          function t(t, i) {
            var n;
            return (
              void 0 === i && (i = {}),
              ((n = e.call(this, t, i) || this).label_ = 'subtitles'),
              ['en', 'en-us', 'en-ca', 'fr-ca'].indexOf(n.player_.language_) >
                -1 && (n.label_ = 'captions'),
              n.menuButton_.controlText(Ln(n.label_)),
              n
            );
          }
          d(t, e);
          var i = t.prototype;
          return (
            (i.buildCSSClass = function () {
              return (
                'vjs-subs-caps-button ' + e.prototype.buildCSSClass.call(this)
              );
            }),
            (i.buildWrapperCSSClass = function () {
              return (
                'vjs-subs-caps-button ' +
                e.prototype.buildWrapperCSSClass.call(this)
              );
            }),
            (i.createItems = function () {
              var t = [];
              return (
                (this.player().tech_ &&
                  this.player().tech_.featuresNativeTextTracks) ||
                  !this.player().getChild('textTrackSettings') ||
                  (t.push(new Bs(this.player_, { kind: this.label_ })),
                  (this.hideThreshold_ += 1)),
                (t = e.prototype.createItems.call(this, t, Fs))
              );
            }),
            t
          );
        })(Ds);
        (Ws.prototype.kinds_ = ['captions', 'subtitles']),
          (Ws.prototype.controlText_ = 'Subtitles'),
          Bn.registerComponent('SubsCapsButton', Ws);
        var Vs = (function (e) {
          function t(t, i) {
            var n,
              r = i.track,
              s = t.audioTracks();
            (i.label = r.label || r.language || 'Unknown'),
              (i.selected = r.enabled),
              ((n = e.call(this, t, i) || this).track = r),
              n.addClass('vjs-' + r.kind + '-menu-item');
            var a = function () {
              for (
                var e = arguments.length, t = new Array(e), i = 0;
                i < e;
                i++
              )
                t[i] = arguments[i];
              n.handleTracksChange.apply(l(n), t);
            };
            return (
              s.addEventListener('change', a),
              n.on('dispose', function () {
                s.removeEventListener('change', a);
              }),
              n
            );
          }
          d(t, e);
          var i = t.prototype;
          return (
            (i.createEl = function (t, i, n) {
              var r =
                '<span class="vjs-menu-item-text">' +
                this.localize(this.options_.label);
              return (
                'main-desc' === this.options_.track.kind &&
                  (r +=
                    '\n        <span aria-hidden="true" class="vjs-icon-placeholder"></span>\n        <span class="vjs-control-text"> ' +
                    this.localize('Descriptions') +
                    '</span>\n      '),
                (r += '</span>'),
                e.prototype.createEl.call(this, t, Wt({ innerHTML: r }, i), n)
              );
            }),
            (i.handleClick = function (t) {
              e.prototype.handleClick.call(this, t), (this.track.enabled = !0);
            }),
            (i.handleTracksChange = function (e) {
              this.selected(this.track.enabled);
            }),
            t
          );
        })(Is);
        Bn.registerComponent('AudioTrackMenuItem', Vs);
        var Hs = (function (e) {
          function t(t, i) {
            return (
              void 0 === i && (i = {}),
              (i.tracks = t.audioTracks()),
              e.call(this, t, i) || this
            );
          }
          d(t, e);
          var i = t.prototype;
          return (
            (i.buildCSSClass = function () {
              return 'vjs-audio-button ' + e.prototype.buildCSSClass.call(this);
            }),
            (i.buildWrapperCSSClass = function () {
              return (
                'vjs-audio-button ' +
                e.prototype.buildWrapperCSSClass.call(this)
              );
            }),
            (i.createItems = function (e) {
              void 0 === e && (e = []), (this.hideThreshold_ = 1);
              for (
                var t = this.player_.audioTracks(), i = 0;
                i < t.length;
                i++
              ) {
                var n = t[i];
                e.push(
                  new Vs(this.player_, {
                    track: n,
                    selectable: !0,
                    multiSelectable: !1,
                  }),
                );
              }
              return e;
            }),
            t
          );
        })(js);
        (Hs.prototype.controlText_ = 'Audio Track'),
          Bn.registerComponent('AudioTrackButton', Hs);
        var qs = (function (e) {
          function t(t, i) {
            var n,
              r = i.rate,
              s = parseFloat(r, 10);
            return (
              (i.label = r),
              (i.selected = 1 === s),
              (i.selectable = !0),
              (i.multiSelectable = !1),
              ((n = e.call(this, t, i) || this).label = r),
              (n.rate = s),
              n.on(t, 'ratechange', function (e) {
                return n.update(e);
              }),
              n
            );
          }
          d(t, e);
          var i = t.prototype;
          return (
            (i.handleClick = function (t) {
              e.prototype.handleClick.call(this),
                this.player().playbackRate(this.rate);
            }),
            (i.update = function (e) {
              this.selected(this.player().playbackRate() === this.rate);
            }),
            t
          );
        })(Is);
        (qs.prototype.contentElType = 'button'),
          Bn.registerComponent('PlaybackRateMenuItem', qs);
        var zs = (function (e) {
          function t(t, i) {
            var n;
            return (
              (n = e.call(this, t, i) || this).updateVisibility(),
              n.updateLabel(),
              n.on(t, 'loadstart', function (e) {
                return n.updateVisibility(e);
              }),
              n.on(t, 'ratechange', function (e) {
                return n.updateLabel(e);
              }),
              n
            );
          }
          d(t, e);
          var i = t.prototype;
          return (
            (i.createEl = function () {
              var t = e.prototype.createEl.call(this);
              return (
                (this.labelEl_ = Ai('div', {
                  className: 'vjs-playback-rate-value',
                  innerHTML: '1x',
                })),
                t.appendChild(this.labelEl_),
                t
              );
            }),
            (i.dispose = function () {
              (this.labelEl_ = null), e.prototype.dispose.call(this);
            }),
            (i.buildCSSClass = function () {
              return (
                'vjs-playback-rate ' + e.prototype.buildCSSClass.call(this)
              );
            }),
            (i.buildWrapperCSSClass = function () {
              return (
                'vjs-playback-rate ' +
                e.prototype.buildWrapperCSSClass.call(this)
              );
            }),
            (i.createMenu = function () {
              var e = new Cs(this.player()),
                t = this.playbackRates();
              if (t)
                for (var i = t.length - 1; i >= 0; i--)
                  e.addChild(new qs(this.player(), { rate: t[i] + 'x' }));
              return e;
            }),
            (i.updateARIAAttributes = function () {
              this.el().setAttribute(
                'aria-valuenow',
                this.player().playbackRate(),
              );
            }),
            (i.handleClick = function (e) {
              for (
                var t = this.player().playbackRate(),
                  i = this.playbackRates(),
                  n = i[0],
                  r = 0;
                r < i.length;
                r++
              )
                if (i[r] > t) {
                  n = i[r];
                  break;
                }
              this.player().playbackRate(n);
            }),
            (i.playbackRates = function () {
              return (
                this.options_.playbackRates ||
                (this.options_.playerOptions &&
                  this.options_.playerOptions.playbackRates)
              );
            }),
            (i.playbackRateSupported = function () {
              return (
                this.player().tech_ &&
                this.player().tech_.featuresPlaybackRate &&
                this.playbackRates() &&
                this.playbackRates().length > 0
              );
            }),
            (i.updateVisibility = function (e) {
              this.playbackRateSupported()
                ? this.removeClass('vjs-hidden')
                : this.addClass('vjs-hidden');
            }),
            (i.updateLabel = function (e) {
              this.playbackRateSupported() &&
                (this.labelEl_.innerHTML = this.player().playbackRate() + 'x');
            }),
            t
          );
        })(Es);
        (zs.prototype.controlText_ = 'Playback Rate'),
          Bn.registerComponent('PlaybackRateMenuButton', zs);
        var Ks = (function (e) {
          function t() {
            return e.apply(this, arguments) || this;
          }
          d(t, e);
          var i = t.prototype;
          return (
            (i.buildCSSClass = function () {
              return 'vjs-spacer ' + e.prototype.buildCSSClass.call(this);
            }),
            (i.createEl = function () {
              return e.prototype.createEl.call(this, 'div', {
                className: this.buildCSSClass(),
              });
            }),
            t
          );
        })(Bn);
        Bn.registerComponent('Spacer', Ks);
        var Xs = (function (e) {
          function t() {
            return e.apply(this, arguments) || this;
          }
          d(t, e);
          var i = t.prototype;
          return (
            (i.buildCSSClass = function () {
              return (
                'vjs-custom-control-spacer ' +
                e.prototype.buildCSSClass.call(this)
              );
            }),
            (i.createEl = function () {
              var t = e.prototype.createEl.call(this, {
                className: this.buildCSSClass(),
              });
              return (t.innerHTML = ' '), t;
            }),
            t
          );
        })(Ks);
        Bn.registerComponent('CustomControlSpacer', Xs);
        var Qs = (function (e) {
          function t() {
            return e.apply(this, arguments) || this;
          }
          return (
            d(t, e),
            (t.prototype.createEl = function () {
              return e.prototype.createEl.call(this, 'div', {
                className: 'vjs-control-bar',
                dir: 'ltr',
              });
            }),
            t
          );
        })(Bn);
        (Qs.prototype.options_ = {
          children: [
            'playToggle',
            'volumePanel',
            'currentTimeDisplay',
            'timeDivider',
            'durationDisplay',
            'progressControl',
            'liveDisplay',
            'seekToLive',
            'remainingTimeDisplay',
            'customControlSpacer',
            'playbackRateMenuButton',
            'chaptersButton',
            'descriptionsButton',
            'subsCapsButton',
            'audioTrackButton',
            'fullscreenToggle',
          ],
        }),
          'exitPictureInPicture' in a() &&
            Qs.prototype.options_.children.splice(
              Qs.prototype.options_.children.length - 1,
              0,
              'pictureInPictureToggle',
            ),
          Bn.registerComponent('ControlBar', Qs);
        var Gs = (function (e) {
          function t(t, i) {
            var n;
            return (
              (n = e.call(this, t, i) || this).on(t, 'error', function (e) {
                return n.open(e);
              }),
              n
            );
          }
          d(t, e);
          var i = t.prototype;
          return (
            (i.buildCSSClass = function () {
              return (
                'vjs-error-display ' + e.prototype.buildCSSClass.call(this)
              );
            }),
            (i.content = function () {
              var e = this.player().error();
              return e ? this.localize(e.message) : '';
            }),
            t
          );
        })(Yn);
        (Gs.prototype.options_ = o({}, Yn.prototype.options_, {
          pauseOnOpen: !1,
          fillAlways: !0,
          temporary: !1,
          uncloseable: !0,
        })),
          Bn.registerComponent('ErrorDisplay', Gs);
        var Ys = 'vjs-text-track-settings',
          Js = ['#000', 'Black'],
          Zs = ['#00F', 'Blue'],
          $s = ['#0FF', 'Cyan'],
          ea = ['#0F0', 'Green'],
          ta = ['#F0F', 'Magenta'],
          ia = ['#F00', 'Red'],
          na = ['#FFF', 'White'],
          ra = ['#FF0', 'Yellow'],
          sa = ['1', 'Opaque'],
          aa = ['0.5', 'Semi-Transparent'],
          oa = ['0', 'Transparent'],
          la = {
            backgroundColor: {
              selector: '.vjs-bg-color > select',
              id: 'captions-background-color-%s',
              label: 'Color',
              options: [Js, na, ia, ea, Zs, ra, ta, $s],
            },
            backgroundOpacity: {
              selector: '.vjs-bg-opacity > select',
              id: 'captions-background-opacity-%s',
              label: 'Transparency',
              options: [sa, aa, oa],
            },
            color: {
              selector: '.vjs-fg-color > select',
              id: 'captions-foreground-color-%s',
              label: 'Color',
              options: [na, Js, ia, ea, Zs, ra, ta, $s],
            },
            edgeStyle: {
              selector: '.vjs-edge-style > select',
              id: '%s',
              label: 'Text Edge Style',
              options: [
                ['none', 'None'],
                ['raised', 'Raised'],
                ['depressed', 'Depressed'],
                ['uniform', 'Uniform'],
                ['dropshadow', 'Dropshadow'],
              ],
            },
            fontFamily: {
              selector: '.vjs-font-family > select',
              id: 'captions-font-family-%s',
              label: 'Font Family',
              options: [
                ['proportionalSansSerif', 'Proportional Sans-Serif'],
                ['monospaceSansSerif', 'Monospace Sans-Serif'],
                ['proportionalSerif', 'Proportional Serif'],
                ['monospaceSerif', 'Monospace Serif'],
                ['casual', 'Casual'],
                ['script', 'Script'],
                ['small-caps', 'Small Caps'],
              ],
            },
            fontPercent: {
              selector: '.vjs-font-percent > select',
              id: 'captions-font-size-%s',
              label: 'Font Size',
              options: [
                ['0.50', '50%'],
                ['0.75', '75%'],
                ['1.00', '100%'],
                ['1.25', '125%'],
                ['1.50', '150%'],
                ['1.75', '175%'],
                ['2.00', '200%'],
                ['3.00', '300%'],
                ['4.00', '400%'],
              ],
              default: 2,
              parser: function (e) {
                return '1.00' === e ? null : Number(e);
              },
            },
            textOpacity: {
              selector: '.vjs-text-opacity > select',
              id: 'captions-foreground-opacity-%s',
              label: 'Transparency',
              options: [sa, aa],
            },
            windowColor: {
              selector: '.vjs-window-color > select',
              id: 'captions-window-color-%s',
              label: 'Color',
            },
            windowOpacity: {
              selector: '.vjs-window-opacity > select',
              id: 'captions-window-opacity-%s',
              label: 'Transparency',
              options: [oa, aa, sa],
            },
          };
        function ua(e, t) {
          if ((t && (e = t(e)), e && 'none' !== e)) return e;
        }
        la.windowColor.options = la.backgroundColor.options;
        var da = (function (e) {
          function t(t, i) {
            var n;
            return (
              (i.temporary = !1),
              ((n = e.call(this, t, i) || this).updateDisplay =
                n.updateDisplay.bind(l(n))),
              n.fill(),
              (n.hasBeenOpened_ = n.hasBeenFilled_ = !0),
              (n.endDialog = Ai('p', {
                className: 'vjs-control-text',
                textContent: n.localize('End of dialog window.'),
              })),
              n.el().appendChild(n.endDialog),
              n.setDefaults(),
              void 0 === i.persistTextTrackSettings &&
                (n.options_.persistTextTrackSettings =
                  n.options_.playerOptions.persistTextTrackSettings),
              n.on(n.$('.vjs-done-button'), 'click', function () {
                n.saveSettings(), n.close();
              }),
              n.on(n.$('.vjs-default-button'), 'click', function () {
                n.setDefaults(), n.updateDisplay();
              }),
              Ft(la, function (e) {
                n.on(n.$(e.selector), 'change', n.updateDisplay);
              }),
              n.options_.persistTextTrackSettings && n.restoreSettings(),
              n
            );
          }
          d(t, e);
          var i = t.prototype;
          return (
            (i.dispose = function () {
              (this.endDialog = null), e.prototype.dispose.call(this);
            }),
            (i.createElSelect_ = function (e, t, i) {
              var n = this;
              void 0 === t && (t = ''), void 0 === i && (i = 'label');
              var r = la[e],
                s = r.id.replace('%s', this.id_),
                a = [t, s].join(' ').trim();
              return [
                '<' +
                  i +
                  ' id="' +
                  s +
                  '" class="' +
                  ('label' === i ? 'vjs-label' : '') +
                  '">',
                this.localize(r.label),
                '</' + i + '>',
                '<select aria-labelledby="' + a + '">',
              ]
                .concat(
                  r.options.map(function (e) {
                    var t = s + '-' + e[1].replace(/\W+/g, '');
                    return [
                      '<option id="' + t + '" value="' + e[0] + '" ',
                      'aria-labelledby="' + a + ' ' + t + '">',
                      n.localize(e[1]),
                      '</option>',
                    ].join('');
                  }),
                )
                .concat('</select>')
                .join('');
            }),
            (i.createElFgColor_ = function () {
              var e = 'captions-text-legend-' + this.id_;
              return [
                '<fieldset class="vjs-fg-color vjs-track-setting">',
                '<legend id="' + e + '">',
                this.localize('Text'),
                '</legend>',
                this.createElSelect_('color', e),
                '<span class="vjs-text-opacity vjs-opacity">',
                this.createElSelect_('textOpacity', e),
                '</span>',
                '</fieldset>',
              ].join('');
            }),
            (i.createElBgColor_ = function () {
              var e = 'captions-background-' + this.id_;
              return [
                '<fieldset class="vjs-bg-color vjs-track-setting">',
                '<legend id="' + e + '">',
                this.localize('Background'),
                '</legend>',
                this.createElSelect_('backgroundColor', e),
                '<span class="vjs-bg-opacity vjs-opacity">',
                this.createElSelect_('backgroundOpacity', e),
                '</span>',
                '</fieldset>',
              ].join('');
            }),
            (i.createElWinColor_ = function () {
              var e = 'captions-window-' + this.id_;
              return [
                '<fieldset class="vjs-window-color vjs-track-setting">',
                '<legend id="' + e + '">',
                this.localize('Window'),
                '</legend>',
                this.createElSelect_('windowColor', e),
                '<span class="vjs-window-opacity vjs-opacity">',
                this.createElSelect_('windowOpacity', e),
                '</span>',
                '</fieldset>',
              ].join('');
            }),
            (i.createElColors_ = function () {
              return Ai('div', {
                className: 'vjs-track-settings-colors',
                innerHTML: [
                  this.createElFgColor_(),
                  this.createElBgColor_(),
                  this.createElWinColor_(),
                ].join(''),
              });
            }),
            (i.createElFont_ = function () {
              return Ai('div', {
                className: 'vjs-track-settings-font',
                innerHTML: [
                  '<fieldset class="vjs-font-percent vjs-track-setting">',
                  this.createElSelect_('fontPercent', '', 'legend'),
                  '</fieldset>',
                  '<fieldset class="vjs-edge-style vjs-track-setting">',
                  this.createElSelect_('edgeStyle', '', 'legend'),
                  '</fieldset>',
                  '<fieldset class="vjs-font-family vjs-track-setting">',
                  this.createElSelect_('fontFamily', '', 'legend'),
                  '</fieldset>',
                ].join(''),
              });
            }),
            (i.createElControls_ = function () {
              var e = this.localize(
                'restore all settings to the default values',
              );
              return Ai('div', {
                className: 'vjs-track-settings-controls',
                innerHTML: [
                  '<button type="button" class="vjs-default-button" title="' +
                    e +
                    '">',
                  this.localize('Reset'),
                  '<span class="vjs-control-text"> ' + e + '</span>',
                  '</button>',
                  '<button type="button" class="vjs-done-button">' +
                    this.localize('Done') +
                    '</button>',
                ].join(''),
              });
            }),
            (i.content = function () {
              return [
                this.createElColors_(),
                this.createElFont_(),
                this.createElControls_(),
              ];
            }),
            (i.label = function () {
              return this.localize('Caption Settings Dialog');
            }),
            (i.description = function () {
              return this.localize(
                'Beginning of dialog window. Escape will cancel and close the window.',
              );
            }),
            (i.buildCSSClass = function () {
              return (
                e.prototype.buildCSSClass.call(this) +
                ' vjs-text-track-settings'
              );
            }),
            (i.getValues = function () {
              var e,
                t,
                i,
                n = this;
              return (
                (t = function (e, t, i) {
                  var r,
                    s,
                    a =
                      ((r = n.$(t.selector)),
                      (s = t.parser),
                      ua(r.options[r.options.selectedIndex].value, s));
                  return void 0 !== a && (e[i] = a), e;
                }),
                void 0 === (i = {}) && (i = 0),
                Ut((e = la)).reduce(function (i, n) {
                  return t(i, e[n], n);
                }, i)
              );
            }),
            (i.setValues = function (e) {
              var t = this;
              Ft(la, function (i, n) {
                !(function (e, t, i) {
                  if (t)
                    for (var n = 0; n < e.options.length; n++)
                      if (ua(e.options[n].value, i) === t) {
                        e.selectedIndex = n;
                        break;
                      }
                })(t.$(i.selector), e[n], i.parser);
              });
            }),
            (i.setDefaults = function () {
              var e = this;
              Ft(la, function (t) {
                var i = t.hasOwnProperty('default') ? t.default : 0;
                e.$(t.selector).selectedIndex = i;
              });
            }),
            (i.restoreSettings = function () {
              var e;
              try {
                e = JSON.parse(r().localStorage.getItem(Ys));
              } catch (e) {
                Mt.warn(e);
              }
              e && this.setValues(e);
            }),
            (i.saveSettings = function () {
              if (this.options_.persistTextTrackSettings) {
                var e = this.getValues();
                try {
                  Object.keys(e).length
                    ? r().localStorage.setItem(Ys, JSON.stringify(e))
                    : r().localStorage.removeItem(Ys);
                } catch (e) {
                  Mt.warn(e);
                }
              }
            }),
            (i.updateDisplay = function () {
              var e = this.player_.getChild('textTrackDisplay');
              e && e.updateDisplay();
            }),
            (i.conditionalBlur_ = function () {
              this.previouslyActiveEl_ = null;
              var e = this.player_.controlBar,
                t = e && e.subsCapsButton,
                i = e && e.captionsButton;
              t ? t.focus() : i && i.focus();
            }),
            t
          );
        })(Yn);
        Bn.registerComponent('TextTrackSettings', da);
        var ca = (function (e) {
          function t(t, i) {
            var n,
              s = i.ResizeObserver || r().ResizeObserver;
            null === i.ResizeObserver && (s = !1);
            var a = Dn({ createEl: !s, reportTouchActivity: !1 }, i);
            return (
              ((n = e.call(this, t, a) || this).ResizeObserver =
                i.ResizeObserver || r().ResizeObserver),
              (n.loadListener_ = null),
              (n.resizeObserver_ = null),
              (n.debouncedHandler_ = (function (e, t, i, n) {
                var s;
                void 0 === n && (n = r());
                var a = function () {
                  var r = this,
                    a = arguments,
                    o = function () {
                      (s = null), (o = null), i || e.apply(r, a);
                    };
                  !s && i && e.apply(r, a),
                    n.clearTimeout(s),
                    (s = n.setTimeout(o, t));
                };
                return (
                  (a.cancel = function () {
                    n.clearTimeout(s), (s = null);
                  }),
                  a
                );
              })(
                function () {
                  n.resizeHandler();
                },
                100,
                !1,
                l(n),
              )),
              s
                ? ((n.resizeObserver_ = new n.ResizeObserver(
                    n.debouncedHandler_,
                  )),
                  n.resizeObserver_.observe(t.el()))
                : ((n.loadListener_ = function () {
                    if (n.el_ && n.el_.contentWindow) {
                      var e = n.debouncedHandler_,
                        t = (n.unloadListener_ = function () {
                          un(this, 'resize', e),
                            un(this, 'unload', t),
                            (t = null);
                        });
                      ln(n.el_.contentWindow, 'unload', t),
                        ln(n.el_.contentWindow, 'resize', e);
                    }
                  }),
                  n.one('load', n.loadListener_)),
              n
            );
          }
          d(t, e);
          var i = t.prototype;
          return (
            (i.createEl = function () {
              return e.prototype.createEl.call(
                this,
                'iframe',
                { className: 'vjs-resize-manager', tabIndex: -1 },
                { 'aria-hidden': 'true' },
              );
            }),
            (i.resizeHandler = function () {
              this.player_ &&
                this.player_.trigger &&
                this.player_.trigger('playerresize');
            }),
            (i.dispose = function () {
              this.debouncedHandler_ && this.debouncedHandler_.cancel(),
                this.resizeObserver_ &&
                  (this.player_.el() &&
                    this.resizeObserver_.unobserve(this.player_.el()),
                  this.resizeObserver_.disconnect()),
                this.loadListener_ && this.off('load', this.loadListener_),
                this.el_ &&
                  this.el_.contentWindow &&
                  this.unloadListener_ &&
                  this.unloadListener_.call(this.el_.contentWindow),
                (this.ResizeObserver = null),
                (this.resizeObserver = null),
                (this.debouncedHandler_ = null),
                (this.loadListener_ = null),
                e.prototype.dispose.call(this);
            }),
            t
          );
        })(Bn);
        Bn.registerComponent('ResizeManager', ca);
        var ha = { trackingThreshold: 30, liveTolerance: 15 },
          pa = (function (e) {
            function t(t, i) {
              var n,
                r = Dn(ha, i, { createEl: !1 });
              return (
                ((n = e.call(this, t, r) || this).handleVisibilityChange_ =
                  function (e) {
                    return n.handleVisibilityChange(e);
                  }),
                (n.trackLiveHandler_ = function () {
                  return n.trackLive_();
                }),
                (n.handlePlay_ = function (e) {
                  return n.handlePlay(e);
                }),
                (n.handleFirstTimeupdate_ = function (e) {
                  return n.handleFirstTimeupdate(e);
                }),
                (n.handleSeeked_ = function (e) {
                  return n.handleSeeked(e);
                }),
                (n.seekToLiveEdge_ = function (e) {
                  return n.seekToLiveEdge(e);
                }),
                n.reset_(),
                n.on(n.player_, 'durationchange', function (e) {
                  return n.handleDurationchange(e);
                }),
                n.one(n.player_, 'canplay', function () {
                  return n.toggleTracking();
                }),
                ri &&
                  'hidden' in a() &&
                  'visibilityState' in a() &&
                  n.on(a(), 'visibilitychange', n.handleVisibilityChange_),
                n
              );
            }
            d(t, e);
            var i = t.prototype;
            return (
              (i.handleVisibilityChange = function () {
                this.player_.duration() === 1 / 0 &&
                  (a().hidden ? this.stopTracking() : this.startTracking());
              }),
              (i.trackLive_ = function () {
                var e = this.player_.seekable();
                if (e && e.length) {
                  var t = Number(r().performance.now().toFixed(4)),
                    i = -1 === this.lastTime_ ? 0 : (t - this.lastTime_) / 1e3;
                  (this.lastTime_ = t),
                    (this.pastSeekEnd_ = this.pastSeekEnd() + i);
                  var n = this.liveCurrentTime(),
                    s = this.player_.currentTime(),
                    a =
                      this.player_.paused() ||
                      this.seekedBehindLive_ ||
                      Math.abs(n - s) > this.options_.liveTolerance;
                  (this.timeupdateSeen_ && n !== 1 / 0) || (a = !1),
                    a !== this.behindLiveEdge_ &&
                      ((this.behindLiveEdge_ = a),
                      this.trigger('liveedgechange'));
                }
              }),
              (i.handleDurationchange = function () {
                this.toggleTracking();
              }),
              (i.toggleTracking = function () {
                this.player_.duration() === 1 / 0 &&
                this.liveWindow() >= this.options_.trackingThreshold
                  ? (this.player_.options_.liveui &&
                      this.player_.addClass('vjs-liveui'),
                    this.startTracking())
                  : (this.player_.removeClass('vjs-liveui'),
                    this.stopTracking());
              }),
              (i.startTracking = function () {
                this.isTracking() ||
                  (this.timeupdateSeen_ ||
                    (this.timeupdateSeen_ = this.player_.hasStarted()),
                  (this.trackingInterval_ = this.setInterval(
                    this.trackLiveHandler_,
                    mn,
                  )),
                  this.trackLive_(),
                  this.on(
                    this.player_,
                    ['play', 'pause'],
                    this.trackLiveHandler_,
                  ),
                  this.timeupdateSeen_
                    ? this.on(this.player_, 'seeked', this.handleSeeked_)
                    : (this.one(this.player_, 'play', this.handlePlay_),
                      this.one(
                        this.player_,
                        'timeupdate',
                        this.handleFirstTimeupdate_,
                      )));
              }),
              (i.handleFirstTimeupdate = function () {
                (this.timeupdateSeen_ = !0),
                  this.on(this.player_, 'seeked', this.handleSeeked_);
              }),
              (i.handleSeeked = function () {
                var e = Math.abs(
                  this.liveCurrentTime() - this.player_.currentTime(),
                );
                (this.seekedBehindLive_ = !this.skipNextSeeked_ && e > 2),
                  (this.skipNextSeeked_ = !1),
                  this.trackLive_();
              }),
              (i.handlePlay = function () {
                this.one(this.player_, 'timeupdate', this.seekToLiveEdge_);
              }),
              (i.reset_ = function () {
                (this.lastTime_ = -1),
                  (this.pastSeekEnd_ = 0),
                  (this.lastSeekEnd_ = -1),
                  (this.behindLiveEdge_ = !0),
                  (this.timeupdateSeen_ = !1),
                  (this.seekedBehindLive_ = !1),
                  (this.skipNextSeeked_ = !1),
                  this.clearInterval(this.trackingInterval_),
                  (this.trackingInterval_ = null),
                  this.off(
                    this.player_,
                    ['play', 'pause'],
                    this.trackLiveHandler_,
                  ),
                  this.off(this.player_, 'seeked', this.handleSeeked_),
                  this.off(this.player_, 'play', this.handlePlay_),
                  this.off(
                    this.player_,
                    'timeupdate',
                    this.handleFirstTimeupdate_,
                  ),
                  this.off(this.player_, 'timeupdate', this.seekToLiveEdge_);
              }),
              (i.stopTracking = function () {
                this.isTracking() &&
                  (this.reset_(), this.trigger('liveedgechange'));
              }),
              (i.seekableEnd = function () {
                for (
                  var e = this.player_.seekable(), t = [], i = e ? e.length : 0;
                  i--;

                )
                  t.push(e.end(i));
                return t.length ? t.sort()[t.length - 1] : 1 / 0;
              }),
              (i.seekableStart = function () {
                for (
                  var e = this.player_.seekable(), t = [], i = e ? e.length : 0;
                  i--;

                )
                  t.push(e.start(i));
                return t.length ? t.sort()[0] : 0;
              }),
              (i.liveWindow = function () {
                var e = this.liveCurrentTime();
                return e === 1 / 0 ? 0 : e - this.seekableStart();
              }),
              (i.isLive = function () {
                return this.isTracking();
              }),
              (i.atLiveEdge = function () {
                return !this.behindLiveEdge();
              }),
              (i.liveCurrentTime = function () {
                return this.pastSeekEnd() + this.seekableEnd();
              }),
              (i.pastSeekEnd = function () {
                var e = this.seekableEnd();
                return (
                  -1 !== this.lastSeekEnd_ &&
                    e !== this.lastSeekEnd_ &&
                    (this.pastSeekEnd_ = 0),
                  (this.lastSeekEnd_ = e),
                  this.pastSeekEnd_
                );
              }),
              (i.behindLiveEdge = function () {
                return this.behindLiveEdge_;
              }),
              (i.isTracking = function () {
                return 'number' == typeof this.trackingInterval_;
              }),
              (i.seekToLiveEdge = function () {
                (this.seekedBehindLive_ = !1),
                  this.atLiveEdge() ||
                    ((this.skipNextSeeked_ = !0),
                    this.player_.currentTime(this.liveCurrentTime()));
              }),
              (i.dispose = function () {
                this.off(a(), 'visibilitychange', this.handleVisibilityChange_),
                  this.stopTracking(),
                  e.prototype.dispose.call(this);
              }),
              t
            );
          })(Bn);
        Bn.registerComponent('LiveTracker', pa);
        var fa,
          ma = function (e) {
            var t = e.el();
            if (t.hasAttribute('src')) return e.triggerSourceset(t.src), !0;
            var i = e.$$('source'),
              n = [],
              r = '';
            if (!i.length) return !1;
            for (var s = 0; s < i.length; s++) {
              var a = i[s].src;
              a && -1 === n.indexOf(a) && n.push(a);
            }
            return (
              !!n.length &&
              (1 === n.length && (r = n[0]), e.triggerSourceset(r), !0)
            );
          },
          ga = Object.defineProperty({}, 'innerHTML', {
            get: function () {
              return this.cloneNode(!0).innerHTML;
            },
            set: function (e) {
              var t = a().createElement(this.nodeName.toLowerCase());
              t.innerHTML = e;
              for (var i = a().createDocumentFragment(); t.childNodes.length; )
                i.appendChild(t.childNodes[0]);
              return (
                (this.innerText = ''),
                r().Element.prototype.appendChild.call(this, i),
                this.innerHTML
              );
            },
          }),
          va = function (e, t) {
            for (
              var i = {}, n = 0;
              n < e.length &&
              !(
                (i = Object.getOwnPropertyDescriptor(e[n], t)) &&
                i.set &&
                i.get
              );
              n++
            );
            return (i.enumerable = !0), (i.configurable = !0), i;
          },
          ya = function (e) {
            var t = e.el();
            if (!t.resetSourceWatch_) {
              var i = {},
                n = (function (e) {
                  return va(
                    [
                      e.el(),
                      r().HTMLMediaElement.prototype,
                      r().Element.prototype,
                      ga,
                    ],
                    'innerHTML',
                  );
                })(e),
                s = function (i) {
                  return function () {
                    for (
                      var n = arguments.length, r = new Array(n), s = 0;
                      s < n;
                      s++
                    )
                      r[s] = arguments[s];
                    var a = i.apply(t, r);
                    return ma(e), a;
                  };
                };
              ['append', 'appendChild', 'insertAdjacentHTML'].forEach(
                function (e) {
                  t[e] && ((i[e] = t[e]), (t[e] = s(i[e])));
                },
              ),
                Object.defineProperty(t, 'innerHTML', Dn(n, { set: s(n.set) })),
                (t.resetSourceWatch_ = function () {
                  (t.resetSourceWatch_ = null),
                    Object.keys(i).forEach(function (e) {
                      t[e] = i[e];
                    }),
                    Object.defineProperty(t, 'innerHTML', n);
                }),
                e.one('sourceset', t.resetSourceWatch_);
            }
          },
          Aa = Object.defineProperty({}, 'src', {
            get: function () {
              return this.hasAttribute('src')
                ? hr(r().Element.prototype.getAttribute.call(this, 'src'))
                : '';
            },
            set: function (e) {
              return r().Element.prototype.setAttribute.call(this, 'src', e), e;
            },
          }),
          ba = function (e) {
            if (e.featuresSourceset) {
              var t = e.el();
              if (!t.resetSourceset_) {
                var i = (function (e) {
                    return va(
                      [e.el(), r().HTMLMediaElement.prototype, Aa],
                      'src',
                    );
                  })(e),
                  n = t.setAttribute,
                  s = t.load;
                Object.defineProperty(
                  t,
                  'src',
                  Dn(i, {
                    set: function (n) {
                      var r = i.set.call(t, n);
                      return e.triggerSourceset(t.src), r;
                    },
                  }),
                ),
                  (t.setAttribute = function (i, r) {
                    var s = n.call(t, i, r);
                    return /src/i.test(i) && e.triggerSourceset(t.src), s;
                  }),
                  (t.load = function () {
                    var i = s.call(t);
                    return ma(e) || (e.triggerSourceset(''), ya(e)), i;
                  }),
                  t.currentSrc
                    ? e.triggerSourceset(t.currentSrc)
                    : ma(e) || ya(e),
                  (t.resetSourceset_ = function () {
                    (t.resetSourceset_ = null),
                      (t.load = s),
                      (t.setAttribute = n),
                      Object.defineProperty(t, 'src', i),
                      t.resetSourceWatch_ && t.resetSourceWatch_();
                  });
              }
            }
          },
          Ta = function (e, t, i, n) {
            void 0 === n && (n = !0);
            var r = function (i) {
                return Object.defineProperty(e, t, {
                  value: i,
                  enumerable: !0,
                  writable: !0,
                });
              },
              s = {
                configurable: !0,
                enumerable: !0,
                get: function () {
                  var e = i();
                  return r(e), e;
                },
              };
            return n && (s.set = r), Object.defineProperty(e, t, s);
          },
          Sa = (function (e) {
            function t(t, i) {
              var n;
              n = e.call(this, t, i) || this;
              var r = t.source,
                s = !1;
              if (
                (r &&
                (n.el_.currentSrc !== r.src ||
                  (t.tag && 3 === t.tag.initNetworkState_))
                  ? n.setSource(r)
                  : n.handleLateInit_(n.el_),
                t.enableSourceset && n.setupSourcesetHandling_(),
                (n.isScrubbing_ = !1),
                n.el_.hasChildNodes())
              ) {
                for (var a = n.el_.childNodes, o = a.length, l = []; o--; ) {
                  var u = a[o];
                  'track' === u.nodeName.toLowerCase() &&
                    (n.featuresNativeTextTracks
                      ? (n.remoteTextTrackEls().addTrackElement_(u),
                        n.remoteTextTracks().addTrack(u.track),
                        n.textTracks().addTrack(u.track),
                        s ||
                          n.el_.hasAttribute('crossorigin') ||
                          !fr(u.src) ||
                          (s = !0))
                      : l.push(u));
                }
                for (var d = 0; d < l.length; d++) n.el_.removeChild(l[d]);
              }
              return (
                n.proxyNativeTracks_(),
                n.featuresNativeTextTracks &&
                  s &&
                  Mt.warn(
                    "Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\nThis may prevent text tracks from loading.",
                  ),
                n.restoreMetadataTracksInIOSNativePlayer_(),
                (oi || ui || $t) &&
                  !0 === t.nativeControlsForTouch &&
                  n.setControls(!0),
                n.proxyWebkitFullscreen_(),
                n.triggerReady(),
                n
              );
            }
            d(t, e);
            var i = t.prototype;
            return (
              (i.dispose = function () {
                this.el_ &&
                  this.el_.resetSourceset_ &&
                  this.el_.resetSourceset_(),
                  t.disposeMediaElement(this.el_),
                  (this.options_ = null),
                  e.prototype.dispose.call(this);
              }),
              (i.setupSourcesetHandling_ = function () {
                ba(this);
              }),
              (i.restoreMetadataTracksInIOSNativePlayer_ = function () {
                var e,
                  t = this.textTracks(),
                  i = function () {
                    e = [];
                    for (var i = 0; i < t.length; i++) {
                      var n = t[i];
                      'metadata' === n.kind &&
                        e.push({ track: n, storedMode: n.mode });
                    }
                  };
                i(),
                  t.addEventListener('change', i),
                  this.on('dispose', function () {
                    return t.removeEventListener('change', i);
                  });
                var n = function i() {
                  for (var n = 0; n < e.length; n++) {
                    var r = e[n];
                    'disabled' === r.track.mode &&
                      r.track.mode !== r.storedMode &&
                      (r.track.mode = r.storedMode);
                  }
                  t.removeEventListener('change', i);
                };
                this.on('webkitbeginfullscreen', function () {
                  t.removeEventListener('change', i),
                    t.removeEventListener('change', n),
                    t.addEventListener('change', n);
                }),
                  this.on('webkitendfullscreen', function () {
                    t.removeEventListener('change', i),
                      t.addEventListener('change', i),
                      t.removeEventListener('change', n);
                  });
              }),
              (i.overrideNative_ = function (e, t) {
                var i = this;
                if (t === this['featuresNative' + e + 'Tracks']) {
                  var n = e.toLowerCase();
                  this[n + 'TracksListeners_'] &&
                    Object.keys(this[n + 'TracksListeners_']).forEach(
                      function (e) {
                        i.el()[n + 'Tracks'].removeEventListener(
                          e,
                          i[n + 'TracksListeners_'][e],
                        );
                      },
                    ),
                    (this['featuresNative' + e + 'Tracks'] = !t),
                    (this[n + 'TracksListeners_'] = null),
                    this.proxyNativeTracksForType_(n);
                }
              }),
              (i.overrideNativeAudioTracks = function (e) {
                this.overrideNative_('Audio', e);
              }),
              (i.overrideNativeVideoTracks = function (e) {
                this.overrideNative_('Video', e);
              }),
              (i.proxyNativeTracksForType_ = function (e) {
                var t = this,
                  i = Sr[e],
                  n = this.el()[i.getterName],
                  r = this[i.getterName]();
                if (
                  this['featuresNative' + i.capitalName + 'Tracks'] &&
                  n &&
                  n.addEventListener
                ) {
                  var s = {
                      change: function (i) {
                        var n = {
                          type: 'change',
                          target: r,
                          currentTarget: r,
                          srcElement: r,
                        };
                        r.trigger(n),
                          'text' === e &&
                            t[wr.remoteText.getterName]().trigger(n);
                      },
                      addtrack: function (e) {
                        r.addTrack(e.track);
                      },
                      removetrack: function (e) {
                        r.removeTrack(e.track);
                      },
                    },
                    a = function () {
                      for (var e = [], t = 0; t < r.length; t++) {
                        for (var i = !1, s = 0; s < n.length; s++)
                          if (n[s] === r[t]) {
                            i = !0;
                            break;
                          }
                        i || e.push(r[t]);
                      }
                      for (; e.length; ) r.removeTrack(e.shift());
                    };
                  (this[i.getterName + 'Listeners_'] = s),
                    Object.keys(s).forEach(function (e) {
                      var i = s[e];
                      n.addEventListener(e, i),
                        t.on('dispose', function (t) {
                          return n.removeEventListener(e, i);
                        });
                    }),
                    this.on('loadstart', a),
                    this.on('dispose', function (e) {
                      return t.off('loadstart', a);
                    });
                }
              }),
              (i.proxyNativeTracks_ = function () {
                var e = this;
                Sr.names.forEach(function (t) {
                  e.proxyNativeTracksForType_(t);
                });
              }),
              (i.createEl = function () {
                var e = this.options_.tag;
                if (
                  !e ||
                  (!this.options_.playerElIngest &&
                    !this.movingMediaElementInDOM)
                ) {
                  if (e) {
                    var i = e.cloneNode(!0);
                    e.parentNode && e.parentNode.insertBefore(i, e),
                      t.disposeMediaElement(e),
                      (e = i);
                  } else {
                    e = a().createElement('video');
                    var n = Dn({}, this.options_.tag && Ei(this.options_.tag));
                    (oi && !0 === this.options_.nativeControlsForTouch) ||
                      delete n.controls,
                      Ci(
                        e,
                        Wt(n, { id: this.options_.techId, class: 'vjs-tech' }),
                      );
                  }
                  e.playerId = this.options_.playerId;
                }
                void 0 !== this.options_.preload &&
                  Pi(e, 'preload', this.options_.preload),
                  void 0 !== this.options_.disablePictureInPicture &&
                    (e.disablePictureInPicture =
                      this.options_.disablePictureInPicture);
                for (
                  var r = ['loop', 'muted', 'playsinline', 'autoplay'], s = 0;
                  s < r.length;
                  s++
                ) {
                  var o = r[s],
                    l = this.options_[o];
                  void 0 !== l && (l ? Pi(e, o, o) : Ii(e, o), (e[o] = l));
                }
                return e;
              }),
              (i.handleLateInit_ = function (e) {
                if (0 !== e.networkState && 3 !== e.networkState) {
                  if (0 === e.readyState) {
                    var t = !1,
                      i = function () {
                        t = !0;
                      };
                    this.on('loadstart', i);
                    var n = function () {
                      t || this.trigger('loadstart');
                    };
                    return (
                      this.on('loadedmetadata', n),
                      void this.ready(function () {
                        this.off('loadstart', i),
                          this.off('loadedmetadata', n),
                          t || this.trigger('loadstart');
                      })
                    );
                  }
                  var r = ['loadstart'];
                  r.push('loadedmetadata'),
                    e.readyState >= 2 && r.push('loadeddata'),
                    e.readyState >= 3 && r.push('canplay'),
                    e.readyState >= 4 && r.push('canplaythrough'),
                    this.ready(function () {
                      r.forEach(function (e) {
                        this.trigger(e);
                      }, this);
                    });
                }
              }),
              (i.setScrubbing = function (e) {
                this.isScrubbing_ = e;
              }),
              (i.scrubbing = function () {
                return this.isScrubbing_;
              }),
              (i.setCurrentTime = function (e) {
                try {
                  this.isScrubbing_ && this.el_.fastSeek && ci
                    ? this.el_.fastSeek(e)
                    : (this.el_.currentTime = e);
                } catch (e) {
                  Mt(e, 'Video is not ready. (Video.js)');
                }
              }),
              (i.duration = function () {
                var e = this;
                if (
                  this.el_.duration === 1 / 0 &&
                  Jt &&
                  ii &&
                  0 === this.el_.currentTime
                ) {
                  return (
                    this.on('timeupdate', function t() {
                      e.el_.currentTime > 0 &&
                        (e.el_.duration === 1 / 0 &&
                          e.trigger('durationchange'),
                        e.off('timeupdate', t));
                    }),
                    NaN
                  );
                }
                return this.el_.duration || NaN;
              }),
              (i.width = function () {
                return this.el_.offsetWidth;
              }),
              (i.height = function () {
                return this.el_.offsetHeight;
              }),
              (i.proxyWebkitFullscreen_ = function () {
                var e = this;
                if ('webkitDisplayingFullscreen' in this.el_) {
                  var t = function () {
                      this.trigger('fullscreenchange', { isFullscreen: !1 });
                    },
                    i = function () {
                      'webkitPresentationMode' in this.el_ &&
                        'picture-in-picture' !==
                          this.el_.webkitPresentationMode &&
                        (this.one('webkitendfullscreen', t),
                        this.trigger('fullscreenchange', {
                          isFullscreen: !0,
                          nativeIOSFullscreen: !0,
                        }));
                    };
                  this.on('webkitbeginfullscreen', i),
                    this.on('dispose', function () {
                      e.off('webkitbeginfullscreen', i),
                        e.off('webkitendfullscreen', t);
                    });
                }
              }),
              (i.supportsFullScreen = function () {
                if ('function' == typeof this.el_.webkitEnterFullScreen) {
                  var e = (r().navigator && r().navigator.userAgent) || '';
                  if (/Android/.test(e) || !/Chrome|Mac OS X 10.5/.test(e))
                    return !0;
                }
                return !1;
              }),
              (i.enterFullScreen = function () {
                var e = this.el_;
                if (e.paused && e.networkState <= e.HAVE_METADATA)
                  Kn(this.el_.play()),
                    this.setTimeout(function () {
                      e.pause();
                      try {
                        e.webkitEnterFullScreen();
                      } catch (e) {
                        this.trigger('fullscreenerror', e);
                      }
                    }, 0);
                else
                  try {
                    e.webkitEnterFullScreen();
                  } catch (e) {
                    this.trigger('fullscreenerror', e);
                  }
              }),
              (i.exitFullScreen = function () {
                this.el_.webkitDisplayingFullscreen
                  ? this.el_.webkitExitFullScreen()
                  : this.trigger(
                      'fullscreenerror',
                      new Error('The video is not fullscreen'),
                    );
              }),
              (i.requestPictureInPicture = function () {
                return this.el_.requestPictureInPicture();
              }),
              (i.src = function (e) {
                if (void 0 === e) return this.el_.src;
                this.setSrc(e);
              }),
              (i.reset = function () {
                t.resetMediaElement(this.el_);
              }),
              (i.currentSrc = function () {
                return this.currentSource_
                  ? this.currentSource_.src
                  : this.el_.currentSrc;
              }),
              (i.setControls = function (e) {
                this.el_.controls = !!e;
              }),
              (i.addTextTrack = function (t, i, n) {
                return this.featuresNativeTextTracks
                  ? this.el_.addTextTrack(t, i, n)
                  : e.prototype.addTextTrack.call(this, t, i, n);
              }),
              (i.createRemoteTextTrack = function (t) {
                if (!this.featuresNativeTextTracks)
                  return e.prototype.createRemoteTextTrack.call(this, t);
                var i = a().createElement('track');
                return (
                  t.kind && (i.kind = t.kind),
                  t.label && (i.label = t.label),
                  (t.language || t.srclang) &&
                    (i.srclang = t.language || t.srclang),
                  t.default && (i.default = t.default),
                  t.id && (i.id = t.id),
                  t.src && (i.src = t.src),
                  i
                );
              }),
              (i.addRemoteTextTrack = function (t, i) {
                var n = e.prototype.addRemoteTextTrack.call(this, t, i);
                return (
                  this.featuresNativeTextTracks && this.el().appendChild(n), n
                );
              }),
              (i.removeRemoteTextTrack = function (t) {
                if (
                  (e.prototype.removeRemoteTextTrack.call(this, t),
                  this.featuresNativeTextTracks)
                )
                  for (var i = this.$$('track'), n = i.length; n--; )
                    (t !== i[n] && t !== i[n].track) ||
                      this.el().removeChild(i[n]);
              }),
              (i.getVideoPlaybackQuality = function () {
                if ('function' == typeof this.el().getVideoPlaybackQuality)
                  return this.el().getVideoPlaybackQuality();
                var e = {};
                return (
                  void 0 !== this.el().webkitDroppedFrameCount &&
                    void 0 !== this.el().webkitDecodedFrameCount &&
                    ((e.droppedVideoFrames = this.el().webkitDroppedFrameCount),
                    (e.totalVideoFrames = this.el().webkitDecodedFrameCount)),
                  r().performance && 'function' == typeof r().performance.now
                    ? (e.creationTime = r().performance.now())
                    : r().performance &&
                      r().performance.timing &&
                      'number' ==
                        typeof r().performance.timing.navigationStart &&
                      (e.creationTime =
                        r().Date.now() -
                        r().performance.timing.navigationStart),
                  e
                );
              }),
              t
            );
          })(_r);
        Ta(Sa, 'TEST_VID', function () {
          if (mi()) {
            var e = a().createElement('video'),
              t = a().createElement('track');
            return (
              (t.kind = 'captions'),
              (t.srclang = 'en'),
              (t.label = 'English'),
              e.appendChild(t),
              e
            );
          }
        }),
          (Sa.isSupported = function () {
            try {
              Sa.TEST_VID.volume = 0.5;
            } catch (e) {
              return !1;
            }
            return !(!Sa.TEST_VID || !Sa.TEST_VID.canPlayType);
          }),
          (Sa.canPlayType = function (e) {
            return Sa.TEST_VID.canPlayType(e);
          }),
          (Sa.canPlaySource = function (e, t) {
            return Sa.canPlayType(e.type);
          }),
          (Sa.canControlVolume = function () {
            try {
              var e = Sa.TEST_VID.volume;
              return (
                (Sa.TEST_VID.volume = e / 2 + 0.1), e !== Sa.TEST_VID.volume
              );
            } catch (e) {
              return !1;
            }
          }),
          (Sa.canMuteVolume = function () {
            try {
              var e = Sa.TEST_VID.muted;
              return (
                (Sa.TEST_VID.muted = !e),
                Sa.TEST_VID.muted
                  ? Pi(Sa.TEST_VID, 'muted', 'muted')
                  : Ii(Sa.TEST_VID, 'muted'),
                e !== Sa.TEST_VID.muted
              );
            } catch (e) {
              return !1;
            }
          }),
          (Sa.canControlPlaybackRate = function () {
            if (Jt && ii && ni < 58) return !1;
            try {
              var e = Sa.TEST_VID.playbackRate;
              return (
                (Sa.TEST_VID.playbackRate = e / 2 + 0.1),
                e !== Sa.TEST_VID.playbackRate
              );
            } catch (e) {
              return !1;
            }
          }),
          (Sa.canOverrideAttributes = function () {
            try {
              var e = function () {};
              Object.defineProperty(a().createElement('video'), 'src', {
                get: e,
                set: e,
              }),
                Object.defineProperty(a().createElement('audio'), 'src', {
                  get: e,
                  set: e,
                }),
                Object.defineProperty(a().createElement('video'), 'innerHTML', {
                  get: e,
                  set: e,
                }),
                Object.defineProperty(a().createElement('audio'), 'innerHTML', {
                  get: e,
                  set: e,
                });
            } catch (e) {
              return !1;
            }
            return !0;
          }),
          (Sa.supportsNativeTextTracks = function () {
            return ci || (di && ii);
          }),
          (Sa.supportsNativeVideoTracks = function () {
            return !(!Sa.TEST_VID || !Sa.TEST_VID.videoTracks);
          }),
          (Sa.supportsNativeAudioTracks = function () {
            return !(!Sa.TEST_VID || !Sa.TEST_VID.audioTracks);
          }),
          (Sa.Events = [
            'loadstart',
            'suspend',
            'abort',
            'error',
            'emptied',
            'stalled',
            'loadedmetadata',
            'loadeddata',
            'canplay',
            'canplaythrough',
            'playing',
            'waiting',
            'seeking',
            'seeked',
            'ended',
            'durationchange',
            'timeupdate',
            'progress',
            'play',
            'pause',
            'ratechange',
            'resize',
            'volumechange',
          ]),
          [
            ['featuresVolumeControl', 'canControlVolume'],
            ['featuresMuteControl', 'canMuteVolume'],
            ['featuresPlaybackRate', 'canControlPlaybackRate'],
            ['featuresSourceset', 'canOverrideAttributes'],
            ['featuresNativeTextTracks', 'supportsNativeTextTracks'],
            ['featuresNativeVideoTracks', 'supportsNativeVideoTracks'],
            ['featuresNativeAudioTracks', 'supportsNativeAudioTracks'],
          ].forEach(function (e) {
            var t = e[0],
              i = e[1];
            Ta(
              Sa.prototype,
              t,
              function () {
                return Sa[i]();
              },
              !0,
            );
          }),
          (Sa.prototype.movingMediaElementInDOM = !di),
          (Sa.prototype.featuresFullscreenResize = !0),
          (Sa.prototype.featuresProgressEvents = !0),
          (Sa.prototype.featuresTimeupdateEvents = !0),
          (Sa.patchCanPlayType = function () {
            Zt >= 4 &&
              !ei &&
              !ii &&
              ((fa =
                Sa.TEST_VID && Sa.TEST_VID.constructor.prototype.canPlayType),
              (Sa.TEST_VID.constructor.prototype.canPlayType = function (e) {
                return e && /^application\/(?:x-|vnd\.apple\.)mpegurl/i.test(e)
                  ? 'maybe'
                  : fa.call(this, e);
              }));
          }),
          (Sa.unpatchCanPlayType = function () {
            var e = Sa.TEST_VID.constructor.prototype.canPlayType;
            return (
              fa && (Sa.TEST_VID.constructor.prototype.canPlayType = fa), e
            );
          }),
          Sa.patchCanPlayType(),
          (Sa.disposeMediaElement = function (e) {
            if (e) {
              for (
                e.parentNode && e.parentNode.removeChild(e);
                e.hasChildNodes();

              )
                e.removeChild(e.firstChild);
              e.removeAttribute('src'),
                'function' == typeof e.load &&
                  (function () {
                    try {
                      e.load();
                    } catch (e) {}
                  })();
            }
          }),
          (Sa.resetMediaElement = function (e) {
            if (e) {
              for (var t = e.querySelectorAll('source'), i = t.length; i--; )
                e.removeChild(t[i]);
              e.removeAttribute('src'),
                'function' == typeof e.load &&
                  (function () {
                    try {
                      e.load();
                    } catch (e) {}
                  })();
            }
          }),
          [
            'muted',
            'defaultMuted',
            'autoplay',
            'controls',
            'loop',
            'playsinline',
          ].forEach(function (e) {
            Sa.prototype[e] = function () {
              return this.el_[e] || this.el_.hasAttribute(e);
            };
          }),
          ['muted', 'defaultMuted', 'autoplay', 'loop', 'playsinline'].forEach(
            function (e) {
              Sa.prototype['set' + Ln(e)] = function (t) {
                (this.el_[e] = t),
                  t ? this.el_.setAttribute(e, e) : this.el_.removeAttribute(e);
              };
            },
          ),
          [
            'paused',
            'currentTime',
            'buffered',
            'volume',
            'poster',
            'preload',
            'error',
            'seeking',
            'seekable',
            'ended',
            'playbackRate',
            'defaultPlaybackRate',
            'disablePictureInPicture',
            'played',
            'networkState',
            'readyState',
            'videoWidth',
            'videoHeight',
            'crossOrigin',
          ].forEach(function (e) {
            Sa.prototype[e] = function () {
              return this.el_[e];
            };
          }),
          [
            'volume',
            'src',
            'poster',
            'preload',
            'playbackRate',
            'defaultPlaybackRate',
            'disablePictureInPicture',
            'crossOrigin',
          ].forEach(function (e) {
            Sa.prototype['set' + Ln(e)] = function (t) {
              this.el_[e] = t;
            };
          }),
          ['pause', 'load', 'play'].forEach(function (e) {
            Sa.prototype[e] = function () {
              return this.el_[e]();
            };
          }),
          _r.withSourceHandlers(Sa),
          (Sa.nativeSourceHandler = {}),
          (Sa.nativeSourceHandler.canPlayType = function (e) {
            try {
              return Sa.TEST_VID.canPlayType(e);
            } catch (e) {
              return '';
            }
          }),
          (Sa.nativeSourceHandler.canHandleSource = function (e, t) {
            if (e.type) return Sa.nativeSourceHandler.canPlayType(e.type);
            if (e.src) {
              var i = pr(e.src);
              return Sa.nativeSourceHandler.canPlayType('video/' + i);
            }
            return '';
          }),
          (Sa.nativeSourceHandler.handleSource = function (e, t, i) {
            t.setSrc(e.src);
          }),
          (Sa.nativeSourceHandler.dispose = function () {}),
          Sa.registerSourceHandler(Sa.nativeSourceHandler),
          _r.registerTech('Html5', Sa);
        var wa = [
            'progress',
            'abort',
            'suspend',
            'emptied',
            'stalled',
            'loadedmetadata',
            'loadeddata',
            'timeupdate',
            'resize',
            'volumechange',
            'texttrackchange',
          ],
          ka = {
            canplay: 'CanPlay',
            canplaythrough: 'CanPlayThrough',
            playing: 'Playing',
            seeked: 'Seeked',
          },
          _a = ['tiny', 'xsmall', 'small', 'medium', 'large', 'xlarge', 'huge'],
          Ca = {};
        _a.forEach(function (e) {
          var t = 'x' === e.charAt(0) ? 'x-' + e.substring(1) : e;
          Ca[e] = 'vjs-layout-' + t;
        });
        var Ea = {
            tiny: 210,
            xsmall: 320,
            small: 425,
            medium: 768,
            large: 1440,
            xlarge: 2560,
            huge: 1 / 0,
          },
          ja = (function (e) {
            function t(i, n, r) {
              var s;
              if (
                ((i.id = i.id || n.id || 'vjs_video_' + en()),
                ((n = Wt(t.getTagSettings(i), n)).initChildren = !1),
                (n.createEl = !1),
                (n.evented = !1),
                (n.reportTouchActivity = !1),
                !n.language)
              )
                if ('function' == typeof i.closest) {
                  var o = i.closest('[lang]');
                  o && o.getAttribute && (n.language = o.getAttribute('lang'));
                } else
                  for (var u = i; u && 1 === u.nodeType; ) {
                    if (Ei(u).hasOwnProperty('lang')) {
                      n.language = u.getAttribute('lang');
                      break;
                    }
                    u = u.parentNode;
                  }
              if (
                (((s =
                  e.call(this, null, n, r) ||
                  this).boundDocumentFullscreenChange_ = function (e) {
                  return s.documentFullscreenChange_(e);
                }),
                (s.boundFullWindowOnEscKey_ = function (e) {
                  return s.fullWindowOnEscKey(e);
                }),
                (s.boundUpdateStyleEl_ = function (e) {
                  return s.updateStyleEl_(e);
                }),
                (s.boundApplyInitTime_ = function (e) {
                  return s.applyInitTime_(e);
                }),
                (s.boundUpdateCurrentBreakpoint_ = function (e) {
                  return s.updateCurrentBreakpoint_(e);
                }),
                (s.boundHandleTechClick_ = function (e) {
                  return s.handleTechClick_(e);
                }),
                (s.boundHandleTechDoubleClick_ = function (e) {
                  return s.handleTechDoubleClick_(e);
                }),
                (s.boundHandleTechTouchStart_ = function (e) {
                  return s.handleTechTouchStart_(e);
                }),
                (s.boundHandleTechTouchMove_ = function (e) {
                  return s.handleTechTouchMove_(e);
                }),
                (s.boundHandleTechTouchEnd_ = function (e) {
                  return s.handleTechTouchEnd_(e);
                }),
                (s.boundHandleTechTap_ = function (e) {
                  return s.handleTechTap_(e);
                }),
                (s.isFullscreen_ = !1),
                (s.log = Nt(s.id_)),
                (s.fsApi_ = It),
                (s.isPosterFromTech_ = !1),
                (s.queuedCallbacks_ = []),
                (s.isReady_ = !1),
                (s.hasStarted_ = !1),
                (s.userActive_ = !1),
                (s.debugEnabled_ = !1),
                !s.options_ ||
                  !s.options_.techOrder ||
                  !s.options_.techOrder.length)
              )
                throw new Error(
                  'No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?',
                );
              if (
                ((s.tag = i),
                (s.tagAttributes = i && Ei(i)),
                s.language(s.options_.language),
                n.languages)
              ) {
                var d = {};
                Object.getOwnPropertyNames(n.languages).forEach(function (e) {
                  d[e.toLowerCase()] = n.languages[e];
                }),
                  (s.languages_ = d);
              } else s.languages_ = t.prototype.options_.languages;
              s.resetCache_(),
                (s.poster_ = n.poster || ''),
                (s.controls_ = !!n.controls),
                (i.controls = !1),
                i.removeAttribute('controls'),
                (s.changingSrc_ = !1),
                (s.playCallbacks_ = []),
                (s.playTerminatedQueue_ = []),
                i.hasAttribute('autoplay')
                  ? s.autoplay(!0)
                  : s.autoplay(s.options_.autoplay),
                n.plugins &&
                  Object.keys(n.plugins).forEach(function (e) {
                    if ('function' != typeof s[e])
                      throw new Error('plugin "' + e + '" does not exist');
                  }),
                (s.scrubbing_ = !1),
                (s.el_ = s.createEl()),
                jn(l(s), { eventBusKey: 'el_' }),
                s.fsApi_.requestFullscreen &&
                  (ln(
                    a(),
                    s.fsApi_.fullscreenchange,
                    s.boundDocumentFullscreenChange_,
                  ),
                  s.on(
                    s.fsApi_.fullscreenchange,
                    s.boundDocumentFullscreenChange_,
                  )),
                s.fluid_ &&
                  s.on(['playerreset', 'resize'], s.boundUpdateStyleEl_);
              var c = Dn(s.options_);
              n.plugins &&
                Object.keys(n.plugins).forEach(function (e) {
                  s[e](n.plugins[e]);
                }),
                n.debug && s.debug(!0),
                (s.options_.playerOptions = c),
                (s.middleware_ = []),
                s.initChildren(),
                s.isAudio('audio' === i.nodeName.toLowerCase()),
                s.controls()
                  ? s.addClass('vjs-controls-enabled')
                  : s.addClass('vjs-controls-disabled'),
                s.el_.setAttribute('role', 'region'),
                s.isAudio()
                  ? s.el_.setAttribute('aria-label', s.localize('Audio Player'))
                  : s.el_.setAttribute(
                      'aria-label',
                      s.localize('Video Player'),
                    ),
                s.isAudio() && s.addClass('vjs-audio'),
                s.flexNotSupported_() && s.addClass('vjs-no-flex'),
                oi && s.addClass('vjs-touch-enabled'),
                di || s.addClass('vjs-workinghover'),
                (t.players[s.id_] = l(s));
              var h = Pt.split('.')[0];
              return (
                s.addClass('vjs-v' + h),
                s.userActive(!0),
                s.reportUserActivity(),
                s.one('play', function (e) {
                  return s.listenForUserActivity_(e);
                }),
                s.on('stageclick', function (e) {
                  return s.handleStageClick_(e);
                }),
                s.on('keydown', function (e) {
                  return s.handleKeyDown(e);
                }),
                s.on('languagechange', function (e) {
                  return s.handleLanguagechange(e);
                }),
                s.breakpoints(s.options_.breakpoints),
                s.responsive(s.options_.responsive),
                s
              );
            }
            d(t, e);
            var i = t.prototype;
            return (
              (i.dispose = function () {
                var i = this;
                this.trigger('dispose'),
                  this.off('dispose'),
                  un(
                    a(),
                    this.fsApi_.fullscreenchange,
                    this.boundDocumentFullscreenChange_,
                  ),
                  un(a(), 'keydown', this.boundFullWindowOnEscKey_),
                  this.styleEl_ &&
                    this.styleEl_.parentNode &&
                    (this.styleEl_.parentNode.removeChild(this.styleEl_),
                    (this.styleEl_ = null)),
                  (t.players[this.id_] = null),
                  this.tag && this.tag.player && (this.tag.player = null),
                  this.el_ && this.el_.player && (this.el_.player = null),
                  this.tech_ &&
                    (this.tech_.dispose(),
                    (this.isPosterFromTech_ = !1),
                    (this.poster_ = '')),
                  this.playerElIngest_ && (this.playerElIngest_ = null),
                  this.tag && (this.tag = null),
                  (Er[this.id()] = null),
                  kr.names.forEach(function (e) {
                    var t = kr[e],
                      n = i[t.getterName]();
                    n && n.off && n.off();
                  }),
                  e.prototype.dispose.call(this);
              }),
              (i.createEl = function () {
                var t,
                  i = this.tag,
                  n = (this.playerElIngest_ =
                    i.parentNode &&
                    i.parentNode.hasAttribute &&
                    i.parentNode.hasAttribute('data-vjs-player')),
                  s = 'video-js' === this.tag.tagName.toLowerCase();
                n
                  ? (t = this.el_ = i.parentNode)
                  : s ||
                    (t = this.el_ = e.prototype.createEl.call(this, 'div'));
                var o = Ei(i);
                if (s) {
                  for (
                    t = this.el_ = i, i = this.tag = a().createElement('video');
                    t.children.length;

                  )
                    i.appendChild(t.firstChild);
                  Si(t, 'video-js') || wi(t, 'video-js'),
                    t.appendChild(i),
                    (n = this.playerElIngest_ = t),
                    Object.keys(t).forEach(function (e) {
                      try {
                        i[e] = t[e];
                      } catch (e) {}
                    });
                }
                if (
                  (i.setAttribute('tabindex', '-1'),
                  (o.tabindex = '-1'),
                  (ri || (ii && ai)) &&
                    (i.setAttribute('role', 'application'),
                    (o.role = 'application')),
                  i.removeAttribute('width'),
                  i.removeAttribute('height'),
                  'width' in o && delete o.width,
                  'height' in o && delete o.height,
                  Object.getOwnPropertyNames(o).forEach(function (e) {
                    (s && 'class' === e) || t.setAttribute(e, o[e]),
                      s && i.setAttribute(e, o[e]);
                  }),
                  (i.playerId = i.id),
                  (i.id += '_html5_api'),
                  (i.className = 'vjs-tech'),
                  (i.player = t.player = this),
                  this.addClass('vjs-paused'),
                  !0 !== r().VIDEOJS_NO_DYNAMIC_STYLE)
                ) {
                  this.styleEl_ = Ji('vjs-styles-dimensions');
                  var l = Hi('.vjs-styles-defaults'),
                    u = Hi('head');
                  u.insertBefore(
                    this.styleEl_,
                    l ? l.nextSibling : u.firstChild,
                  );
                }
                (this.fill_ = !1),
                  (this.fluid_ = !1),
                  this.width(this.options_.width),
                  this.height(this.options_.height),
                  this.fill(this.options_.fill),
                  this.fluid(this.options_.fluid),
                  this.aspectRatio(this.options_.aspectRatio),
                  this.crossOrigin(
                    this.options_.crossOrigin || this.options_.crossorigin,
                  );
                for (
                  var d = i.getElementsByTagName('a'), c = 0;
                  c < d.length;
                  c++
                ) {
                  var h = d.item(c);
                  wi(h, 'vjs-hidden'), h.setAttribute('hidden', 'hidden');
                }
                return (
                  (i.initNetworkState_ = i.networkState),
                  i.parentNode && !n && i.parentNode.insertBefore(t, i),
                  Ti(i, t),
                  this.children_.unshift(i),
                  this.el_.setAttribute('lang', this.language_),
                  (this.el_ = t),
                  t
                );
              }),
              (i.crossOrigin = function (e) {
                if (!e) return this.techGet_('crossOrigin');
                'anonymous' === e || 'use-credentials' === e
                  ? this.techCall_('setCrossOrigin', e)
                  : Mt.warn(
                      'crossOrigin must be "anonymous" or "use-credentials", given "' +
                        e +
                        '"',
                    );
              }),
              (i.width = function (e) {
                return this.dimension('width', e);
              }),
              (i.height = function (e) {
                return this.dimension('height', e);
              }),
              (i.dimension = function (e, t) {
                var i = e + '_';
                if (void 0 === t) return this[i] || 0;
                if ('' === t || 'auto' === t)
                  return (this[i] = void 0), void this.updateStyleEl_();
                var n = parseFloat(t);
                isNaN(n)
                  ? Mt.error('Improper value "' + t + '" supplied for for ' + e)
                  : ((this[i] = n), this.updateStyleEl_());
              }),
              (i.fluid = function (e) {
                var t,
                  i,
                  n = this;
                if (void 0 === e) return !!this.fluid_;
                (this.fluid_ = !!e),
                  bn(this) &&
                    this.off(
                      ['playerreset', 'resize'],
                      this.boundUpdateStyleEl_,
                    ),
                  e
                    ? (this.addClass('vjs-fluid'),
                      this.fill(!1),
                      (i = function () {
                        n.on(['playerreset', 'resize'], n.boundUpdateStyleEl_);
                      }),
                      bn((t = this))
                        ? i()
                        : (t.eventedCallbacks || (t.eventedCallbacks = []),
                          t.eventedCallbacks.push(i)))
                    : this.removeClass('vjs-fluid'),
                  this.updateStyleEl_();
              }),
              (i.fill = function (e) {
                if (void 0 === e) return !!this.fill_;
                (this.fill_ = !!e),
                  e
                    ? (this.addClass('vjs-fill'), this.fluid(!1))
                    : this.removeClass('vjs-fill');
              }),
              (i.aspectRatio = function (e) {
                if (void 0 === e) return this.aspectRatio_;
                if (!/^\d+\:\d+$/.test(e))
                  throw new Error(
                    'Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.',
                  );
                (this.aspectRatio_ = e), this.fluid(!0), this.updateStyleEl_();
              }),
              (i.updateStyleEl_ = function () {
                if (!0 !== r().VIDEOJS_NO_DYNAMIC_STYLE) {
                  var e,
                    t,
                    i,
                    n = (
                      void 0 !== this.aspectRatio_ &&
                      'auto' !== this.aspectRatio_
                        ? this.aspectRatio_
                        : this.videoWidth() > 0
                          ? this.videoWidth() + ':' + this.videoHeight()
                          : '16:9'
                    ).split(':'),
                    s = n[1] / n[0];
                  (e =
                    void 0 !== this.width_
                      ? this.width_
                      : void 0 !== this.height_
                        ? this.height_ / s
                        : this.videoWidth() || 300),
                    (t = void 0 !== this.height_ ? this.height_ : e * s),
                    (i = /^[^a-zA-Z]/.test(this.id())
                      ? 'dimensions-' + this.id()
                      : this.id() + '-dimensions'),
                    this.addClass(i),
                    Zi(
                      this.styleEl_,
                      '\n      .' +
                        i +
                        ' {\n        width: ' +
                        e +
                        'px;\n        height: ' +
                        t +
                        'px;\n      }\n\n      .' +
                        i +
                        '.vjs-fluid {\n        padding-top: ' +
                        100 * s +
                        '%;\n      }\n    ',
                    );
                } else {
                  var a =
                      'number' == typeof this.width_
                        ? this.width_
                        : this.options_.width,
                    o =
                      'number' == typeof this.height_
                        ? this.height_
                        : this.options_.height,
                    l = this.tech_ && this.tech_.el();
                  l && (a >= 0 && (l.width = a), o >= 0 && (l.height = o));
                }
              }),
              (i.loadTech_ = function (e, t) {
                var i = this;
                this.tech_ && this.unloadTech_();
                var n = Ln(e),
                  r = e.charAt(0).toLowerCase() + e.slice(1);
                'Html5' !== n &&
                  this.tag &&
                  (_r.getTech('Html5').disposeMediaElement(this.tag),
                  (this.tag.player = null),
                  (this.tag = null)),
                  (this.techName_ = n),
                  (this.isReady_ = !1);
                var s = {
                  source: t,
                  autoplay:
                    'string' != typeof this.autoplay() && this.autoplay(),
                  nativeControlsForTouch: this.options_.nativeControlsForTouch,
                  playerId: this.id(),
                  techId: this.id() + '_' + r + '_api',
                  playsinline: this.options_.playsinline,
                  preload: this.options_.preload,
                  loop: this.options_.loop,
                  disablePictureInPicture:
                    this.options_.disablePictureInPicture,
                  muted: this.options_.muted,
                  poster: this.poster(),
                  language: this.language(),
                  playerElIngest: this.playerElIngest_ || !1,
                  'vtt.js': this.options_['vtt.js'],
                  canOverridePoster: !!this.options_.techCanOverridePoster,
                  enableSourceset: this.options_.enableSourceset,
                  Promise: this.options_.Promise,
                };
                kr.names.forEach(function (e) {
                  var t = kr[e];
                  s[t.getterName] = i[t.privateName];
                }),
                  Wt(s, this.options_[n]),
                  Wt(s, this.options_[r]),
                  Wt(s, this.options_[e.toLowerCase()]),
                  this.tag && (s.tag = this.tag),
                  t &&
                    t.src === this.cache_.src &&
                    this.cache_.currentTime > 0 &&
                    (s.startTime = this.cache_.currentTime);
                var a = _r.getTech(e);
                if (!a)
                  throw new Error(
                    "No Tech named '" +
                      n +
                      "' exists! '" +
                      n +
                      "' should be registered using videojs.registerTech()'",
                  );
                (this.tech_ = new a(s)),
                  this.tech_.ready(gn(this, this.handleTechReady_), !0),
                  Gn(this.textTracksJson_ || [], this.tech_),
                  wa.forEach(function (e) {
                    i.on(i.tech_, e, function (t) {
                      return i['handleTech' + Ln(e) + '_'](t);
                    });
                  }),
                  Object.keys(ka).forEach(function (e) {
                    i.on(i.tech_, e, function (t) {
                      0 === i.tech_.playbackRate() && i.tech_.seeking()
                        ? i.queuedCallbacks_.push({
                            callback: i['handleTech' + ka[e] + '_'].bind(i),
                            event: t,
                          })
                        : i['handleTech' + ka[e] + '_'](t);
                    });
                  }),
                  this.on(this.tech_, 'loadstart', function (e) {
                    return i.handleTechLoadStart_(e);
                  }),
                  this.on(this.tech_, 'sourceset', function (e) {
                    return i.handleTechSourceset_(e);
                  }),
                  this.on(this.tech_, 'waiting', function (e) {
                    return i.handleTechWaiting_(e);
                  }),
                  this.on(this.tech_, 'ended', function (e) {
                    return i.handleTechEnded_(e);
                  }),
                  this.on(this.tech_, 'seeking', function (e) {
                    return i.handleTechSeeking_(e);
                  }),
                  this.on(this.tech_, 'play', function (e) {
                    return i.handleTechPlay_(e);
                  }),
                  this.on(this.tech_, 'firstplay', function (e) {
                    return i.handleTechFirstPlay_(e);
                  }),
                  this.on(this.tech_, 'pause', function (e) {
                    return i.handleTechPause_(e);
                  }),
                  this.on(this.tech_, 'durationchange', function (e) {
                    return i.handleTechDurationChange_(e);
                  }),
                  this.on(this.tech_, 'fullscreenchange', function (e) {
                    return i.handleTechFullscreenChange_(e);
                  }),
                  this.on(this.tech_, 'fullscreenerror', function (e) {
                    return i.handleTechFullscreenError_(e);
                  }),
                  this.on(this.tech_, 'enterpictureinpicture', function (e) {
                    return i.handleTechEnterPictureInPicture_(e);
                  }),
                  this.on(this.tech_, 'leavepictureinpicture', function (e) {
                    return i.handleTechLeavePictureInPicture_(e);
                  }),
                  this.on(this.tech_, 'error', function (e) {
                    return i.handleTechError_(e);
                  }),
                  this.on(this.tech_, 'posterchange', function (e) {
                    return i.handleTechPosterChange_(e);
                  }),
                  this.on(this.tech_, 'textdata', function (e) {
                    return i.handleTechTextData_(e);
                  }),
                  this.on(this.tech_, 'ratechange', function (e) {
                    return i.handleTechRateChange_(e);
                  }),
                  this.on(
                    this.tech_,
                    'loadedmetadata',
                    this.boundUpdateStyleEl_,
                  ),
                  this.usingNativeControls(this.techGet_('controls')),
                  this.controls() &&
                    !this.usingNativeControls() &&
                    this.addTechControlsListeners_(),
                  this.tech_.el().parentNode === this.el() ||
                    ('Html5' === n && this.tag) ||
                    Ti(this.tech_.el(), this.el()),
                  this.tag && ((this.tag.player = null), (this.tag = null));
              }),
              (i.unloadTech_ = function () {
                var e = this;
                kr.names.forEach(function (t) {
                  var i = kr[t];
                  e[i.privateName] = e[i.getterName]();
                }),
                  (this.textTracksJson_ = Qn(this.tech_)),
                  (this.isReady_ = !1),
                  this.tech_.dispose(),
                  (this.tech_ = !1),
                  this.isPosterFromTech_ &&
                    ((this.poster_ = ''), this.trigger('posterchange')),
                  (this.isPosterFromTech_ = !1);
              }),
              (i.tech = function (e) {
                return (
                  void 0 === e &&
                    Mt.warn(
                      "Using the tech directly can be dangerous. I hope you know what you're doing.\nSee https://github.com/videojs/video.js/issues/2617 for more info.\n",
                    ),
                  this.tech_
                );
              }),
              (i.addTechControlsListeners_ = function () {
                this.removeTechControlsListeners_(),
                  this.on(this.tech_, 'mouseup', this.boundHandleTechClick_),
                  this.on(
                    this.tech_,
                    'dblclick',
                    this.boundHandleTechDoubleClick_,
                  ),
                  this.on(
                    this.tech_,
                    'touchstart',
                    this.boundHandleTechTouchStart_,
                  ),
                  this.on(
                    this.tech_,
                    'touchmove',
                    this.boundHandleTechTouchMove_,
                  ),
                  this.on(
                    this.tech_,
                    'touchend',
                    this.boundHandleTechTouchEnd_,
                  ),
                  this.on(this.tech_, 'tap', this.boundHandleTechTap_);
              }),
              (i.removeTechControlsListeners_ = function () {
                this.off(this.tech_, 'tap', this.boundHandleTechTap_),
                  this.off(
                    this.tech_,
                    'touchstart',
                    this.boundHandleTechTouchStart_,
                  ),
                  this.off(
                    this.tech_,
                    'touchmove',
                    this.boundHandleTechTouchMove_,
                  ),
                  this.off(
                    this.tech_,
                    'touchend',
                    this.boundHandleTechTouchEnd_,
                  ),
                  this.off(this.tech_, 'mouseup', this.boundHandleTechClick_),
                  this.off(
                    this.tech_,
                    'dblclick',
                    this.boundHandleTechDoubleClick_,
                  );
              }),
              (i.handleTechReady_ = function () {
                this.triggerReady(),
                  this.cache_.volume &&
                    this.techCall_('setVolume', this.cache_.volume),
                  this.handleTechPosterChange_(),
                  this.handleTechDurationChange_();
              }),
              (i.handleTechLoadStart_ = function () {
                this.removeClass('vjs-ended'),
                  this.removeClass('vjs-seeking'),
                  this.error(null),
                  this.handleTechDurationChange_(),
                  this.paused()
                    ? (this.hasStarted(!1), this.trigger('loadstart'))
                    : (this.trigger('loadstart'), this.trigger('firstplay')),
                  this.manualAutoplay_(this.autoplay());
              }),
              (i.manualAutoplay_ = function (e) {
                var t = this;
                if (this.tech_ && 'string' == typeof e) {
                  var i,
                    n = function () {
                      var e = t.muted();
                      t.muted(!0);
                      var i = function () {
                        t.muted(e);
                      };
                      t.playTerminatedQueue_.push(i);
                      var n = t.play();
                      if (zn(n)) return n.catch(i);
                    };
                  if (
                    ('any' === e && !0 !== this.muted()
                      ? zn((i = this.play())) && (i = i.catch(n))
                      : (i =
                          'muted' === e && !0 !== this.muted()
                            ? n()
                            : this.play()),
                    zn(i))
                  )
                    return i
                      .then(function () {
                        t.trigger({ type: 'autoplay-success', autoplay: e });
                      })
                      .catch(function (i) {
                        t.trigger({ type: 'autoplay-failure', autoplay: e });
                      });
                }
              }),
              (i.updateSourceCaches_ = function (e) {
                void 0 === e && (e = '');
                var t = e,
                  i = '';
                'string' != typeof t && ((t = e.src), (i = e.type)),
                  (this.cache_.source = this.cache_.source || {}),
                  (this.cache_.sources = this.cache_.sources || []),
                  t &&
                    !i &&
                    (i = (function (e, t) {
                      if (!t) return '';
                      if (e.cache_.source.src === t && e.cache_.source.type)
                        return e.cache_.source.type;
                      var i = e.cache_.sources.filter(function (e) {
                        return e.src === t;
                      });
                      if (i.length) return i[0].type;
                      for (var n = e.$$('source'), r = 0; r < n.length; r++) {
                        var s = n[r];
                        if (s.type && s.src && s.src === t) return s.type;
                      }
                      return Nr(t);
                    })(this, t)),
                  (this.cache_.source = Dn({}, e, { src: t, type: i }));
                for (
                  var n = this.cache_.sources.filter(function (e) {
                      return e.src && e.src === t;
                    }),
                    r = [],
                    s = this.$$('source'),
                    a = [],
                    o = 0;
                  o < s.length;
                  o++
                ) {
                  var l = Ei(s[o]);
                  r.push(l), l.src && l.src === t && a.push(l.src);
                }
                a.length && !n.length
                  ? (this.cache_.sources = r)
                  : n.length || (this.cache_.sources = [this.cache_.source]),
                  (this.cache_.src = t);
              }),
              (i.handleTechSourceset_ = function (e) {
                var t = this;
                if (!this.changingSrc_) {
                  var i = function (e) {
                      return t.updateSourceCaches_(e);
                    },
                    n = this.currentSource().src,
                    r = e.src;
                  n &&
                    !/^blob:/.test(n) &&
                    /^blob:/.test(r) &&
                    (!this.lastSource_ ||
                      (this.lastSource_.tech !== r &&
                        this.lastSource_.player !== n)) &&
                    (i = function () {}),
                    i(r),
                    e.src ||
                      this.tech_.any(['sourceset', 'loadstart'], function (e) {
                        if ('sourceset' !== e.type) {
                          var i = t.techGet('currentSrc');
                          (t.lastSource_.tech = i), t.updateSourceCaches_(i);
                        }
                      });
                }
                (this.lastSource_ = {
                  player: this.currentSource().src,
                  tech: e.src,
                }),
                  this.trigger({ src: e.src, type: 'sourceset' });
              }),
              (i.hasStarted = function (e) {
                if (void 0 === e) return this.hasStarted_;
                e !== this.hasStarted_ &&
                  ((this.hasStarted_ = e),
                  this.hasStarted_
                    ? (this.addClass('vjs-has-started'),
                      this.trigger('firstplay'))
                    : this.removeClass('vjs-has-started'));
              }),
              (i.handleTechPlay_ = function () {
                this.removeClass('vjs-ended'),
                  this.removeClass('vjs-paused'),
                  this.addClass('vjs-playing'),
                  this.hasStarted(!0),
                  this.trigger('play');
              }),
              (i.handleTechRateChange_ = function () {
                this.tech_.playbackRate() > 0 &&
                  0 === this.cache_.lastPlaybackRate &&
                  (this.queuedCallbacks_.forEach(function (e) {
                    return e.callback(e.event);
                  }),
                  (this.queuedCallbacks_ = [])),
                  (this.cache_.lastPlaybackRate = this.tech_.playbackRate()),
                  this.trigger('ratechange');
              }),
              (i.handleTechWaiting_ = function () {
                var e = this;
                this.addClass('vjs-waiting'), this.trigger('waiting');
                var t = this.currentTime();
                this.on('timeupdate', function i() {
                  t !== e.currentTime() &&
                    (e.removeClass('vjs-waiting'), e.off('timeupdate', i));
                });
              }),
              (i.handleTechCanPlay_ = function () {
                this.removeClass('vjs-waiting'), this.trigger('canplay');
              }),
              (i.handleTechCanPlayThrough_ = function () {
                this.removeClass('vjs-waiting'), this.trigger('canplaythrough');
              }),
              (i.handleTechPlaying_ = function () {
                this.removeClass('vjs-waiting'), this.trigger('playing');
              }),
              (i.handleTechSeeking_ = function () {
                this.addClass('vjs-seeking'), this.trigger('seeking');
              }),
              (i.handleTechSeeked_ = function () {
                this.removeClass('vjs-seeking'),
                  this.removeClass('vjs-ended'),
                  this.trigger('seeked');
              }),
              (i.handleTechFirstPlay_ = function () {
                this.options_.starttime &&
                  (Mt.warn(
                    'Passing the `starttime` option to the player will be deprecated in 6.0',
                  ),
                  this.currentTime(this.options_.starttime)),
                  this.addClass('vjs-has-started'),
                  this.trigger('firstplay');
              }),
              (i.handleTechPause_ = function () {
                this.removeClass('vjs-playing'),
                  this.addClass('vjs-paused'),
                  this.trigger('pause');
              }),
              (i.handleTechEnded_ = function () {
                this.addClass('vjs-ended'),
                  this.options_.loop
                    ? (this.currentTime(0), this.play())
                    : this.paused() || this.pause(),
                  this.trigger('ended');
              }),
              (i.handleTechDurationChange_ = function () {
                this.duration(this.techGet_('duration'));
              }),
              (i.handleTechClick_ = function (e) {
                Wi(e) &&
                  this.controls_ &&
                  (this.paused() ? Kn(this.play()) : this.pause());
              }),
              (i.handleTechDoubleClick_ = function (e) {
                this.controls_ &&
                  (Array.prototype.some.call(
                    this.$$('.vjs-control-bar, .vjs-modal-dialog'),
                    function (t) {
                      return t.contains(e.target);
                    },
                  ) ||
                    (void 0 !== this.options_ &&
                      void 0 !== this.options_.userActions &&
                      void 0 !== this.options_.userActions.doubleClick &&
                      !1 === this.options_.userActions.doubleClick) ||
                    (void 0 !== this.options_ &&
                    void 0 !== this.options_.userActions &&
                    'function' == typeof this.options_.userActions.doubleClick
                      ? this.options_.userActions.doubleClick.call(this, e)
                      : this.isFullscreen()
                        ? this.exitFullscreen()
                        : this.requestFullscreen()));
              }),
              (i.handleTechTap_ = function () {
                this.userActive(!this.userActive());
              }),
              (i.handleTechTouchStart_ = function () {
                this.userWasActive = this.userActive();
              }),
              (i.handleTechTouchMove_ = function () {
                this.userWasActive && this.reportUserActivity();
              }),
              (i.handleTechTouchEnd_ = function (e) {
                e.cancelable && e.preventDefault();
              }),
              (i.handleStageClick_ = function () {
                this.reportUserActivity();
              }),
              (i.toggleFullscreenClass_ = function () {
                this.isFullscreen()
                  ? this.addClass('vjs-fullscreen')
                  : this.removeClass('vjs-fullscreen');
              }),
              (i.documentFullscreenChange_ = function (e) {
                var t = e.target.player;
                if (!t || t === this) {
                  var i = this.el(),
                    n = a()[this.fsApi_.fullscreenElement] === i;
                  !n && i.matches
                    ? (n = i.matches(':' + this.fsApi_.fullscreen))
                    : !n &&
                      i.msMatchesSelector &&
                      (n = i.msMatchesSelector(':' + this.fsApi_.fullscreen)),
                    this.isFullscreen(n);
                }
              }),
              (i.handleTechFullscreenChange_ = function (e, t) {
                t &&
                  (t.nativeIOSFullscreen &&
                    this.toggleClass('vjs-ios-native-fs'),
                  this.isFullscreen(t.isFullscreen));
              }),
              (i.handleTechFullscreenError_ = function (e, t) {
                this.trigger('fullscreenerror', t);
              }),
              (i.togglePictureInPictureClass_ = function () {
                this.isInPictureInPicture()
                  ? this.addClass('vjs-picture-in-picture')
                  : this.removeClass('vjs-picture-in-picture');
              }),
              (i.handleTechEnterPictureInPicture_ = function (e) {
                this.isInPictureInPicture(!0);
              }),
              (i.handleTechLeavePictureInPicture_ = function (e) {
                this.isInPictureInPicture(!1);
              }),
              (i.handleTechError_ = function () {
                var e = this.tech_.error();
                this.error(e);
              }),
              (i.handleTechTextData_ = function () {
                var e = null;
                arguments.length > 1 && (e = arguments[1]),
                  this.trigger('textdata', e);
              }),
              (i.getCache = function () {
                return this.cache_;
              }),
              (i.resetCache_ = function () {
                this.cache_ = {
                  currentTime: 0,
                  initTime: 0,
                  inactivityTimeout: this.options_.inactivityTimeout,
                  duration: NaN,
                  lastVolume: 1,
                  lastPlaybackRate: this.defaultPlaybackRate(),
                  media: null,
                  src: '',
                  source: {},
                  sources: [],
                  volume: 1,
                };
              }),
              (i.techCall_ = function (e, t) {
                this.ready(function () {
                  if (e in Lr)
                    return (function (e, t, i, n) {
                      return t[i](e.reduce(Rr(i), n));
                    })(this.middleware_, this.tech_, e, t);
                  if (e in Dr) return Ir(this.middleware_, this.tech_, e, t);
                  try {
                    this.tech_ && this.tech_[e](t);
                  } catch (e) {
                    throw (Mt(e), e);
                  }
                }, !0);
              }),
              (i.techGet_ = function (e) {
                if (this.tech_ && this.tech_.isReady_) {
                  if (e in xr)
                    return (function (e, t, i) {
                      return e.reduceRight(Rr(i), t[i]());
                    })(this.middleware_, this.tech_, e);
                  if (e in Dr) return Ir(this.middleware_, this.tech_, e);
                  try {
                    return this.tech_[e]();
                  } catch (t) {
                    if (void 0 === this.tech_[e])
                      throw (
                        (Mt(
                          'Video.js: ' +
                            e +
                            ' method not defined for ' +
                            this.techName_ +
                            ' playback technology.',
                          t,
                        ),
                        t)
                      );
                    if ('TypeError' === t.name)
                      throw (
                        (Mt(
                          'Video.js: ' +
                            e +
                            ' unavailable on ' +
                            this.techName_ +
                            ' playback technology element.',
                          t,
                        ),
                        (this.tech_.isReady_ = !1),
                        t)
                      );
                    throw (Mt(t), t);
                  }
                }
              }),
              (i.play = function () {
                var e = this,
                  t = this.options_.Promise || r().Promise;
                return t
                  ? new t(function (t) {
                      e.play_(t);
                    })
                  : this.play_();
              }),
              (i.play_ = function (e) {
                var t = this;
                void 0 === e && (e = Kn), this.playCallbacks_.push(e);
                var i = Boolean(
                  !this.changingSrc_ && (this.src() || this.currentSrc()),
                );
                if (
                  (this.waitToPlay_ &&
                    (this.off(['ready', 'loadstart'], this.waitToPlay_),
                    (this.waitToPlay_ = null)),
                  !this.isReady_ || !i)
                )
                  return (
                    (this.waitToPlay_ = function (e) {
                      t.play_();
                    }),
                    this.one(['ready', 'loadstart'], this.waitToPlay_),
                    void (i || (!ci && !di) || this.load())
                  );
                var n = this.techGet_('play');
                null === n
                  ? this.runPlayTerminatedQueue_()
                  : this.runPlayCallbacks_(n);
              }),
              (i.runPlayTerminatedQueue_ = function () {
                var e = this.playTerminatedQueue_.slice(0);
                (this.playTerminatedQueue_ = []),
                  e.forEach(function (e) {
                    e();
                  });
              }),
              (i.runPlayCallbacks_ = function (e) {
                var t = this.playCallbacks_.slice(0);
                (this.playCallbacks_ = []),
                  (this.playTerminatedQueue_ = []),
                  t.forEach(function (t) {
                    t(e);
                  });
              }),
              (i.pause = function () {
                this.techCall_('pause');
              }),
              (i.paused = function () {
                return !1 !== this.techGet_('paused');
              }),
              (i.played = function () {
                return this.techGet_('played') || Wn(0, 0);
              }),
              (i.scrubbing = function (e) {
                if (void 0 === e) return this.scrubbing_;
                (this.scrubbing_ = !!e),
                  this.techCall_('setScrubbing', this.scrubbing_),
                  e
                    ? this.addClass('vjs-scrubbing')
                    : this.removeClass('vjs-scrubbing');
              }),
              (i.currentTime = function (e) {
                return void 0 !== e
                  ? (e < 0 && (e = 0),
                    this.isReady_ &&
                    !this.changingSrc_ &&
                    this.tech_ &&
                    this.tech_.isReady_
                      ? (this.techCall_('setCurrentTime', e),
                        void (this.cache_.initTime = 0))
                      : ((this.cache_.initTime = e),
                        this.off('canplay', this.boundApplyInitTime_),
                        void this.one('canplay', this.boundApplyInitTime_)))
                  : ((this.cache_.currentTime =
                      this.techGet_('currentTime') || 0),
                    this.cache_.currentTime);
              }),
              (i.applyInitTime_ = function () {
                this.currentTime(this.cache_.initTime);
              }),
              (i.duration = function (e) {
                if (void 0 === e)
                  return void 0 !== this.cache_.duration
                    ? this.cache_.duration
                    : NaN;
                (e = parseFloat(e)) < 0 && (e = 1 / 0),
                  e !== this.cache_.duration &&
                    ((this.cache_.duration = e),
                    e === 1 / 0
                      ? this.addClass('vjs-live')
                      : this.removeClass('vjs-live'),
                    isNaN(e) || this.trigger('durationchange'));
              }),
              (i.remainingTime = function () {
                return this.duration() - this.currentTime();
              }),
              (i.remainingTimeDisplay = function () {
                return (
                  Math.floor(this.duration()) - Math.floor(this.currentTime())
                );
              }),
              (i.buffered = function () {
                var e = this.techGet_('buffered');
                return (e && e.length) || (e = Wn(0, 0)), e;
              }),
              (i.bufferedPercent = function () {
                return Vn(this.buffered(), this.duration());
              }),
              (i.bufferedEnd = function () {
                var e = this.buffered(),
                  t = this.duration(),
                  i = e.end(e.length - 1);
                return i > t && (i = t), i;
              }),
              (i.volume = function (e) {
                var t;
                return void 0 !== e
                  ? ((t = Math.max(0, Math.min(1, parseFloat(e)))),
                    (this.cache_.volume = t),
                    this.techCall_('setVolume', t),
                    void (t > 0 && this.lastVolume_(t)))
                  : ((t = parseFloat(this.techGet_('volume'))),
                    isNaN(t) ? 1 : t);
              }),
              (i.muted = function (e) {
                if (void 0 === e) return this.techGet_('muted') || !1;
                this.techCall_('setMuted', e);
              }),
              (i.defaultMuted = function (e) {
                return void 0 !== e
                  ? this.techCall_('setDefaultMuted', e)
                  : this.techGet_('defaultMuted') || !1;
              }),
              (i.lastVolume_ = function (e) {
                if (void 0 === e || 0 === e) return this.cache_.lastVolume;
                this.cache_.lastVolume = e;
              }),
              (i.supportsFullScreen = function () {
                return this.techGet_('supportsFullScreen') || !1;
              }),
              (i.isFullscreen = function (e) {
                if (void 0 !== e) {
                  var t = this.isFullscreen_;
                  return (
                    (this.isFullscreen_ = Boolean(e)),
                    this.isFullscreen_ !== t &&
                      this.fsApi_.prefixed &&
                      this.trigger('fullscreenchange'),
                    void this.toggleFullscreenClass_()
                  );
                }
                return this.isFullscreen_;
              }),
              (i.requestFullscreen = function (e) {
                var t = this.options_.Promise || r().Promise;
                if (t) {
                  var i = this;
                  return new t(function (t, n) {
                    function r() {
                      i.off('fullscreenerror', a), i.off('fullscreenchange', s);
                    }
                    function s() {
                      r(), t();
                    }
                    function a(e, t) {
                      r(), n(t);
                    }
                    i.one('fullscreenchange', s), i.one('fullscreenerror', a);
                    var o = i.requestFullscreenHelper_(e);
                    if (o) return o.then(r, r), o;
                  });
                }
                return this.requestFullscreenHelper_();
              }),
              (i.requestFullscreenHelper_ = function (e) {
                var t,
                  i = this;
                if (
                  (this.fsApi_.prefixed ||
                    ((t =
                      (this.options_.fullscreen &&
                        this.options_.fullscreen.options) ||
                      {}),
                    void 0 !== e && (t = e)),
                  this.fsApi_.requestFullscreen)
                ) {
                  var n = this.el_[this.fsApi_.requestFullscreen](t);
                  return (
                    n &&
                      n.then(
                        function () {
                          return i.isFullscreen(!0);
                        },
                        function () {
                          return i.isFullscreen(!1);
                        },
                      ),
                    n
                  );
                }
                this.tech_.supportsFullScreen()
                  ? this.techCall_('enterFullScreen')
                  : this.enterFullWindow();
              }),
              (i.exitFullscreen = function () {
                var e = this.options_.Promise || r().Promise;
                if (e) {
                  var t = this;
                  return new e(function (e, i) {
                    function n() {
                      t.off('fullscreenerror', s), t.off('fullscreenchange', r);
                    }
                    function r() {
                      n(), e();
                    }
                    function s(e, t) {
                      n(), i(t);
                    }
                    t.one('fullscreenchange', r), t.one('fullscreenerror', s);
                    var a = t.exitFullscreenHelper_();
                    if (a) return a.then(n, n), a;
                  });
                }
                return this.exitFullscreenHelper_();
              }),
              (i.exitFullscreenHelper_ = function () {
                var e = this;
                if (this.fsApi_.requestFullscreen) {
                  var t = a()[this.fsApi_.exitFullscreen]();
                  return (
                    t &&
                      t.then(function () {
                        return e.isFullscreen(!1);
                      }),
                    t
                  );
                }
                this.tech_.supportsFullScreen()
                  ? this.techCall_('exitFullScreen')
                  : this.exitFullWindow();
              }),
              (i.enterFullWindow = function () {
                this.isFullscreen(!0),
                  (this.isFullWindow = !0),
                  (this.docOrigOverflow = a().documentElement.style.overflow),
                  ln(a(), 'keydown', this.boundFullWindowOnEscKey_),
                  (a().documentElement.style.overflow = 'hidden'),
                  wi(a().body, 'vjs-full-window'),
                  this.trigger('enterFullWindow');
              }),
              (i.fullWindowOnEscKey = function (e) {
                f().isEventKey(e, 'Esc') &&
                  (!0 === this.isFullscreen()
                    ? this.exitFullscreen()
                    : this.exitFullWindow());
              }),
              (i.exitFullWindow = function () {
                this.isFullscreen(!1),
                  (this.isFullWindow = !1),
                  un(a(), 'keydown', this.boundFullWindowOnEscKey_),
                  (a().documentElement.style.overflow = this.docOrigOverflow),
                  ki(a().body, 'vjs-full-window'),
                  this.trigger('exitFullWindow');
              }),
              (i.disablePictureInPicture = function (e) {
                if (void 0 === e)
                  return this.techGet_('disablePictureInPicture');
                this.techCall_('setDisablePictureInPicture', e),
                  (this.options_.disablePictureInPicture = e),
                  this.trigger('disablepictureinpicturechanged');
              }),
              (i.isInPictureInPicture = function (e) {
                return void 0 !== e
                  ? ((this.isInPictureInPicture_ = !!e),
                    void this.togglePictureInPictureClass_())
                  : !!this.isInPictureInPicture_;
              }),
              (i.requestPictureInPicture = function () {
                if (
                  'pictureInPictureEnabled' in a() &&
                  !1 === this.disablePictureInPicture()
                )
                  return this.techGet_('requestPictureInPicture');
              }),
              (i.exitPictureInPicture = function () {
                if ('pictureInPictureEnabled' in a())
                  return a().exitPictureInPicture();
              }),
              (i.handleKeyDown = function (e) {
                var t = this.options_.userActions;
                if (t && t.hotkeys) {
                  (function (e) {
                    var t = e.tagName.toLowerCase();
                    if (e.isContentEditable) return !0;
                    if ('input' === t)
                      return (
                        -1 ===
                        [
                          'button',
                          'checkbox',
                          'hidden',
                          'radio',
                          'reset',
                          'submit',
                        ].indexOf(e.type)
                      );
                    return -1 !== ['textarea'].indexOf(t);
                  })(this.el_.ownerDocument.activeElement) ||
                    ('function' == typeof t.hotkeys
                      ? t.hotkeys.call(this, e)
                      : this.handleHotkeys(e));
                }
              }),
              (i.handleHotkeys = function (e) {
                var t = this.options_.userActions
                    ? this.options_.userActions.hotkeys
                    : {},
                  i = t.fullscreenKey,
                  n =
                    void 0 === i
                      ? function (e) {
                          return f().isEventKey(e, 'f');
                        }
                      : i,
                  r = t.muteKey,
                  s =
                    void 0 === r
                      ? function (e) {
                          return f().isEventKey(e, 'm');
                        }
                      : r,
                  o = t.playPauseKey,
                  l =
                    void 0 === o
                      ? function (e) {
                          return (
                            f().isEventKey(e, 'k') || f().isEventKey(e, 'Space')
                          );
                        }
                      : o;
                if (n.call(this, e)) {
                  e.preventDefault(), e.stopPropagation();
                  var u = Bn.getComponent('FullscreenToggle');
                  !1 !== a()[this.fsApi_.fullscreenEnabled] &&
                    u.prototype.handleClick.call(this, e);
                } else if (s.call(this, e)) {
                  e.preventDefault(),
                    e.stopPropagation(),
                    Bn.getComponent('MuteToggle').prototype.handleClick.call(
                      this,
                      e,
                    );
                } else if (l.call(this, e)) {
                  e.preventDefault(),
                    e.stopPropagation(),
                    Bn.getComponent('PlayToggle').prototype.handleClick.call(
                      this,
                      e,
                    );
                }
              }),
              (i.canPlayType = function (e) {
                for (
                  var t, i = 0, n = this.options_.techOrder;
                  i < n.length;
                  i++
                ) {
                  var r = n[i],
                    s = _r.getTech(r);
                  if ((s || (s = Bn.getComponent(r)), s)) {
                    if (s.isSupported() && (t = s.canPlayType(e))) return t;
                  } else
                    Mt.error(
                      'The "' +
                        r +
                        '" tech is undefined. Skipped browser support check for that tech.',
                    );
                }
                return '';
              }),
              (i.selectSource = function (e) {
                var t,
                  i,
                  n = this,
                  r = this.options_.techOrder
                    .map(function (e) {
                      return [e, _r.getTech(e)];
                    })
                    .filter(function (e) {
                      var t = e[0],
                        i = e[1];
                      return i
                        ? i.isSupported()
                        : (Mt.error(
                            'The "' +
                              t +
                              '" tech is undefined. Skipped browser support check for that tech.',
                          ),
                          !1);
                    }),
                  s = function (e, t, i) {
                    var n;
                    return (
                      e.some(function (e) {
                        return t.some(function (t) {
                          if ((n = i(e, t))) return !0;
                        });
                      }),
                      n
                    );
                  },
                  a = function (e, t) {
                    var i = e[0];
                    if (e[1].canPlaySource(t, n.options_[i.toLowerCase()]))
                      return { source: t, tech: i };
                  };
                return (
                  (t = this.options_.sourceOrder
                    ? s(
                        e,
                        r,
                        ((i = a),
                        function (e, t) {
                          return i(t, e);
                        }),
                      )
                    : s(r, e, a)),
                  t || !1
                );
              }),
              (i.handleSrc_ = function (e, t) {
                var i = this;
                if (void 0 === e) return this.cache_.src || '';
                this.resetRetryOnError_ && this.resetRetryOnError_();
                var n = Br(e);
                if (n.length) {
                  if (
                    ((this.changingSrc_ = !0),
                    t || (this.cache_.sources = n),
                    this.updateSourceCaches_(n[0]),
                    Pr(this, n[0], function (e, r) {
                      var s, a;
                      if (
                        ((i.middleware_ = r),
                        t || (i.cache_.sources = n),
                        i.updateSourceCaches_(e),
                        i.src_(e))
                      )
                        return n.length > 1
                          ? i.handleSrc_(n.slice(1))
                          : ((i.changingSrc_ = !1),
                            i.setTimeout(function () {
                              this.error({
                                code: 4,
                                message: this.localize(
                                  this.options_.notSupportedMessage,
                                ),
                              });
                            }, 0),
                            void i.triggerReady());
                      (s = r),
                        (a = i.tech_),
                        s.forEach(function (e) {
                          return e.setTech && e.setTech(a);
                        });
                    }),
                    this.options_.retryOnError && n.length > 1)
                  ) {
                    var r = function () {
                        i.error(null), i.handleSrc_(n.slice(1), !0);
                      },
                      s = function () {
                        i.off('error', r);
                      };
                    this.one('error', r),
                      this.one('playing', s),
                      (this.resetRetryOnError_ = function () {
                        i.off('error', r), i.off('playing', s);
                      });
                  }
                } else
                  this.setTimeout(function () {
                    this.error({
                      code: 4,
                      message: this.localize(this.options_.notSupportedMessage),
                    });
                  }, 0);
              }),
              (i.src = function (e) {
                return this.handleSrc_(e, !1);
              }),
              (i.src_ = function (e) {
                var t,
                  i,
                  n = this,
                  r = this.selectSource([e]);
                return (
                  !r ||
                  ((t = r.tech),
                  (i = this.techName_),
                  Ln(t) !== Ln(i)
                    ? ((this.changingSrc_ = !0),
                      this.loadTech_(r.tech, r.source),
                      this.tech_.ready(function () {
                        n.changingSrc_ = !1;
                      }),
                      !1)
                    : (this.ready(function () {
                        this.tech_.constructor.prototype.hasOwnProperty(
                          'setSource',
                        )
                          ? this.techCall_('setSource', e)
                          : this.techCall_('src', e.src),
                          (this.changingSrc_ = !1);
                      }, !0),
                      !1))
                );
              }),
              (i.load = function () {
                this.techCall_('load');
              }),
              (i.reset = function () {
                var e = this,
                  t = this.options_.Promise || r().Promise;
                this.paused() || !t
                  ? this.doReset_()
                  : Kn(
                      this.play().then(function () {
                        return e.doReset_();
                      }),
                    );
              }),
              (i.doReset_ = function () {
                this.tech_ && this.tech_.clearTracks('text'),
                  this.resetCache_(),
                  this.poster(''),
                  this.loadTech_(this.options_.techOrder[0], null),
                  this.techCall_('reset'),
                  this.resetControlBarUI_(),
                  bn(this) && this.trigger('playerreset');
              }),
              (i.resetControlBarUI_ = function () {
                this.resetProgressBar_(),
                  this.resetPlaybackRate_(),
                  this.resetVolumeBar_();
              }),
              (i.resetProgressBar_ = function () {
                this.currentTime(0);
                var e = this.controlBar,
                  t = e.durationDisplay,
                  i = e.remainingTimeDisplay;
                t && t.updateContent(), i && i.updateContent();
              }),
              (i.resetPlaybackRate_ = function () {
                this.playbackRate(this.defaultPlaybackRate()),
                  this.handleTechRateChange_();
              }),
              (i.resetVolumeBar_ = function () {
                this.volume(1), this.trigger('volumechange');
              }),
              (i.currentSources = function () {
                var e = this.currentSource(),
                  t = [];
                return (
                  0 !== Object.keys(e).length && t.push(e),
                  this.cache_.sources || t
                );
              }),
              (i.currentSource = function () {
                return this.cache_.source || {};
              }),
              (i.currentSrc = function () {
                return (this.currentSource() && this.currentSource().src) || '';
              }),
              (i.currentType = function () {
                return (
                  (this.currentSource() && this.currentSource().type) || ''
                );
              }),
              (i.preload = function (e) {
                return void 0 !== e
                  ? (this.techCall_('setPreload', e),
                    void (this.options_.preload = e))
                  : this.techGet_('preload');
              }),
              (i.autoplay = function (e) {
                if (void 0 === e) return this.options_.autoplay || !1;
                var t;
                'string' == typeof e && /(any|play|muted)/.test(e)
                  ? ((this.options_.autoplay = e),
                    this.manualAutoplay_(e),
                    (t = !1))
                  : (this.options_.autoplay = !!e),
                  (t = void 0 === t ? this.options_.autoplay : t),
                  this.tech_ && this.techCall_('setAutoplay', t);
              }),
              (i.playsinline = function (e) {
                return void 0 !== e
                  ? (this.techCall_('setPlaysinline', e),
                    (this.options_.playsinline = e),
                    this)
                  : this.techGet_('playsinline');
              }),
              (i.loop = function (e) {
                return void 0 !== e
                  ? (this.techCall_('setLoop', e),
                    void (this.options_.loop = e))
                  : this.techGet_('loop');
              }),
              (i.poster = function (e) {
                if (void 0 === e) return this.poster_;
                e || (e = ''),
                  e !== this.poster_ &&
                    ((this.poster_ = e),
                    this.techCall_('setPoster', e),
                    (this.isPosterFromTech_ = !1),
                    this.trigger('posterchange'));
              }),
              (i.handleTechPosterChange_ = function () {
                if (
                  (!this.poster_ || this.options_.techCanOverridePoster) &&
                  this.tech_ &&
                  this.tech_.poster
                ) {
                  var e = this.tech_.poster() || '';
                  e !== this.poster_ &&
                    ((this.poster_ = e),
                    (this.isPosterFromTech_ = !0),
                    this.trigger('posterchange'));
                }
              }),
              (i.controls = function (e) {
                if (void 0 === e) return !!this.controls_;
                (e = !!e),
                  this.controls_ !== e &&
                    ((this.controls_ = e),
                    this.usingNativeControls() &&
                      this.techCall_('setControls', e),
                    this.controls_
                      ? (this.removeClass('vjs-controls-disabled'),
                        this.addClass('vjs-controls-enabled'),
                        this.trigger('controlsenabled'),
                        this.usingNativeControls() ||
                          this.addTechControlsListeners_())
                      : (this.removeClass('vjs-controls-enabled'),
                        this.addClass('vjs-controls-disabled'),
                        this.trigger('controlsdisabled'),
                        this.usingNativeControls() ||
                          this.removeTechControlsListeners_()));
              }),
              (i.usingNativeControls = function (e) {
                if (void 0 === e) return !!this.usingNativeControls_;
                (e = !!e),
                  this.usingNativeControls_ !== e &&
                    ((this.usingNativeControls_ = e),
                    this.usingNativeControls_
                      ? (this.addClass('vjs-using-native-controls'),
                        this.trigger('usingnativecontrols'))
                      : (this.removeClass('vjs-using-native-controls'),
                        this.trigger('usingcustomcontrols')));
              }),
              (i.error = function (e) {
                if (void 0 === e) return this.error_ || null;
                if (
                  this.options_.suppressNotSupportedError &&
                  e &&
                  4 === e.code
                ) {
                  var t = function () {
                    this.error(e);
                  };
                  return (
                    (this.options_.suppressNotSupportedError = !1),
                    this.any(['click', 'touchstart'], t),
                    void this.one('loadstart', function () {
                      this.off(['click', 'touchstart'], t);
                    })
                  );
                }
                if (null === e)
                  return (
                    (this.error_ = e),
                    this.removeClass('vjs-error'),
                    void (this.errorDisplay && this.errorDisplay.close())
                  );
                (this.error_ = new Hn(e)),
                  this.addClass('vjs-error'),
                  Mt.error(
                    '(CODE:' +
                      this.error_.code +
                      ' ' +
                      Hn.errorTypes[this.error_.code] +
                      ')',
                    this.error_.message,
                    this.error_,
                  ),
                  this.trigger('error');
              }),
              (i.reportUserActivity = function (e) {
                this.userActivity_ = !0;
              }),
              (i.userActive = function (e) {
                if (void 0 === e) return this.userActive_;
                if ((e = !!e) !== this.userActive_) {
                  if (((this.userActive_ = e), this.userActive_))
                    return (
                      (this.userActivity_ = !0),
                      this.removeClass('vjs-user-inactive'),
                      this.addClass('vjs-user-active'),
                      void this.trigger('useractive')
                    );
                  this.tech_ &&
                    this.tech_.one('mousemove', function (e) {
                      e.stopPropagation(), e.preventDefault();
                    }),
                    (this.userActivity_ = !1),
                    this.removeClass('vjs-user-active'),
                    this.addClass('vjs-user-inactive'),
                    this.trigger('userinactive');
                }
              }),
              (i.listenForUserActivity_ = function () {
                var e,
                  t,
                  i,
                  n = gn(this, this.reportUserActivity),
                  r = function (t) {
                    n(), this.clearInterval(e);
                  };
                this.on('mousedown', function () {
                  n(), this.clearInterval(e), (e = this.setInterval(n, 250));
                }),
                  this.on('mousemove', function (e) {
                    (e.screenX === t && e.screenY === i) ||
                      ((t = e.screenX), (i = e.screenY), n());
                  }),
                  this.on('mouseup', r),
                  this.on('mouseleave', r);
                var s,
                  a = this.getChild('controlBar');
                !a ||
                  di ||
                  Jt ||
                  (a.on('mouseenter', function (e) {
                    (this.player().cache_.inactivityTimeout =
                      this.player().options_.inactivityTimeout),
                      (this.player().options_.inactivityTimeout = 0);
                  }),
                  a.on('mouseleave', function (e) {
                    this.player().options_.inactivityTimeout =
                      this.player().cache_.inactivityTimeout;
                  })),
                  this.on('keydown', n),
                  this.on('keyup', n),
                  this.setInterval(function () {
                    if (this.userActivity_) {
                      (this.userActivity_ = !1),
                        this.userActive(!0),
                        this.clearTimeout(s);
                      var e = this.options_.inactivityTimeout;
                      e <= 0 ||
                        (s = this.setTimeout(function () {
                          this.userActivity_ || this.userActive(!1);
                        }, e));
                    }
                  }, 250);
              }),
              (i.playbackRate = function (e) {
                if (void 0 === e)
                  return this.tech_ && this.tech_.featuresPlaybackRate
                    ? this.cache_.lastPlaybackRate ||
                        this.techGet_('playbackRate')
                    : 1;
                this.techCall_('setPlaybackRate', e);
              }),
              (i.defaultPlaybackRate = function (e) {
                return void 0 !== e
                  ? this.techCall_('setDefaultPlaybackRate', e)
                  : this.tech_ && this.tech_.featuresPlaybackRate
                    ? this.techGet_('defaultPlaybackRate')
                    : 1;
              }),
              (i.isAudio = function (e) {
                if (void 0 === e) return !!this.isAudio_;
                this.isAudio_ = !!e;
              }),
              (i.addTextTrack = function (e, t, i) {
                if (this.tech_) return this.tech_.addTextTrack(e, t, i);
              }),
              (i.addRemoteTextTrack = function (e, t) {
                if (this.tech_) return this.tech_.addRemoteTextTrack(e, t);
              }),
              (i.removeRemoteTextTrack = function (e) {
                void 0 === e && (e = {});
                var t = e.track;
                if ((t || (t = e), this.tech_))
                  return this.tech_.removeRemoteTextTrack(t);
              }),
              (i.getVideoPlaybackQuality = function () {
                return this.techGet_('getVideoPlaybackQuality');
              }),
              (i.videoWidth = function () {
                return (
                  (this.tech_ &&
                    this.tech_.videoWidth &&
                    this.tech_.videoWidth()) ||
                  0
                );
              }),
              (i.videoHeight = function () {
                return (
                  (this.tech_ &&
                    this.tech_.videoHeight &&
                    this.tech_.videoHeight()) ||
                  0
                );
              }),
              (i.language = function (e) {
                if (void 0 === e) return this.language_;
                this.language_ !== String(e).toLowerCase() &&
                  ((this.language_ = String(e).toLowerCase()),
                  bn(this) && this.trigger('languagechange'));
              }),
              (i.languages = function () {
                return Dn(t.prototype.options_.languages, this.languages_);
              }),
              (i.toJSON = function () {
                var e = Dn(this.options_),
                  t = e.tracks;
                e.tracks = [];
                for (var i = 0; i < t.length; i++) {
                  var n = t[i];
                  ((n = Dn(n)).player = void 0), (e.tracks[i] = n);
                }
                return e;
              }),
              (i.createModal = function (e, t) {
                var i = this;
                (t = t || {}).content = e || '';
                var n = new Yn(this, t);
                return (
                  this.addChild(n),
                  n.on('dispose', function () {
                    i.removeChild(n);
                  }),
                  n.open(),
                  n
                );
              }),
              (i.updateCurrentBreakpoint_ = function () {
                if (this.responsive())
                  for (
                    var e = this.currentBreakpoint(),
                      t = this.currentWidth(),
                      i = 0;
                    i < _a.length;
                    i++
                  ) {
                    var n = _a[i];
                    if (t <= this.breakpoints_[n]) {
                      if (e === n) return;
                      e && this.removeClass(Ca[e]),
                        this.addClass(Ca[n]),
                        (this.breakpoint_ = n);
                      break;
                    }
                  }
              }),
              (i.removeCurrentBreakpoint_ = function () {
                var e = this.currentBreakpointClass();
                (this.breakpoint_ = ''), e && this.removeClass(e);
              }),
              (i.breakpoints = function (e) {
                return (
                  void 0 === e ||
                    ((this.breakpoint_ = ''),
                    (this.breakpoints_ = Wt({}, Ea, e)),
                    this.updateCurrentBreakpoint_()),
                  Wt(this.breakpoints_)
                );
              }),
              (i.responsive = function (e) {
                return void 0 === e
                  ? this.responsive_
                  : (e = Boolean(e)) !== this.responsive_
                    ? ((this.responsive_ = e),
                      e
                        ? (this.on(
                            'playerresize',
                            this.boundUpdateCurrentBreakpoint_,
                          ),
                          this.updateCurrentBreakpoint_())
                        : (this.off(
                            'playerresize',
                            this.boundUpdateCurrentBreakpoint_,
                          ),
                          this.removeCurrentBreakpoint_()),
                      e)
                    : void 0;
              }),
              (i.currentBreakpoint = function () {
                return this.breakpoint_;
              }),
              (i.currentBreakpointClass = function () {
                return Ca[this.breakpoint_] || '';
              }),
              (i.loadMedia = function (e, t) {
                var i = this;
                if (e && 'object' == typeof e) {
                  this.reset(), (this.cache_.media = Dn(e));
                  var n = this.cache_.media,
                    r = n.artwork,
                    s = n.poster,
                    a = n.src,
                    o = n.textTracks;
                  !r &&
                    s &&
                    (this.cache_.media.artwork = [{ src: s, type: Nr(s) }]),
                    a && this.src(a),
                    s && this.poster(s),
                    Array.isArray(o) &&
                      o.forEach(function (e) {
                        return i.addRemoteTextTrack(e, !1);
                      }),
                    this.ready(t);
                }
              }),
              (i.getMedia = function () {
                if (!this.cache_.media) {
                  var e = this.poster(),
                    t = {
                      src: this.currentSources(),
                      textTracks: Array.prototype.map.call(
                        this.remoteTextTracks(),
                        function (e) {
                          return {
                            kind: e.kind,
                            label: e.label,
                            language: e.language,
                            src: e.src,
                          };
                        },
                      ),
                    };
                  return (
                    e &&
                      ((t.poster = e),
                      (t.artwork = [{ src: t.poster, type: Nr(t.poster) }])),
                    t
                  );
                }
                return Dn(this.cache_.media);
              }),
              (t.getTagSettings = function (e) {
                var t = { sources: [], tracks: [] },
                  i = Ei(e),
                  n = i['data-setup'];
                if (
                  (Si(e, 'vjs-fill') && (i.fill = !0),
                  Si(e, 'vjs-fluid') && (i.fluid = !0),
                  null !== n)
                ) {
                  var r = h()(n || '{}'),
                    s = r[0],
                    a = r[1];
                  s && Mt.error(s), Wt(i, a);
                }
                if ((Wt(t, i), e.hasChildNodes()))
                  for (var o = e.childNodes, l = 0, u = o.length; l < u; l++) {
                    var d = o[l],
                      c = d.nodeName.toLowerCase();
                    'source' === c
                      ? t.sources.push(Ei(d))
                      : 'track' === c && t.tracks.push(Ei(d));
                  }
                return t;
              }),
              (i.flexNotSupported_ = function () {
                var e = a().createElement('i');
                return !(
                  'flexBasis' in e.style ||
                  'webkitFlexBasis' in e.style ||
                  'mozFlexBasis' in e.style ||
                  'msFlexBasis' in e.style ||
                  'msFlexOrder' in e.style
                );
              }),
              (i.debug = function (e) {
                if (void 0 === e) return this.debugEnabled_;
                e
                  ? (this.trigger('debugon'),
                    (this.previousLogLevel_ = this.log.level),
                    this.log.level('debug'),
                    (this.debugEnabled_ = !0))
                  : (this.trigger('debugoff'),
                    this.log.level(this.previousLogLevel_),
                    (this.previousLogLevel_ = void 0),
                    (this.debugEnabled_ = !1));
              }),
              t
            );
          })(Bn);
        kr.names.forEach(function (e) {
          var t = kr[e];
          ja.prototype[t.getterName] = function () {
            return this.tech_
              ? this.tech_[t.getterName]()
              : ((this[t.privateName] =
                  this[t.privateName] || new t.ListClass()),
                this[t.privateName]);
          };
        }),
          (ja.prototype.crossorigin = ja.prototype.crossOrigin),
          (ja.players = {});
        var Pa = r().navigator;
        (ja.prototype.options_ = {
          techOrder: _r.defaultTechOrder_,
          html5: {},
          inactivityTimeout: 2e3,
          playbackRates: [],
          liveui: !1,
          children: [
            'mediaLoader',
            'posterImage',
            'textTrackDisplay',
            'loadingSpinner',
            'bigPlayButton',
            'liveTracker',
            'controlBar',
            'errorDisplay',
            'textTrackSettings',
            'resizeManager',
          ],
          language:
            (Pa &&
              ((Pa.languages && Pa.languages[0]) ||
                Pa.userLanguage ||
                Pa.language)) ||
            'en',
          languages: {},
          notSupportedMessage: 'No compatible source was found for this media.',
          fullscreen: { options: { navigationUI: 'hide' } },
          breakpoints: {},
          responsive: !1,
        }),
          [
            'ended',
            'seeking',
            'seekable',
            'networkState',
            'readyState',
          ].forEach(function (e) {
            ja.prototype[e] = function () {
              return this.techGet_(e);
            };
          }),
          wa.forEach(function (e) {
            ja.prototype['handleTech' + Ln(e) + '_'] = function () {
              return this.trigger(e);
            };
          }),
          Bn.registerComponent('Player', ja);
        var Ia = 'plugin',
          xa = {},
          La = function (e) {
            return xa.hasOwnProperty(e);
          },
          Da = function (e) {
            return La(e) ? xa[e] : void 0;
          },
          Ra = function (e, t) {
            (e.activePlugins_ = e.activePlugins_ || {}),
              (e.activePlugins_[t] = !0);
          },
          Oa = function (e, t, i) {
            var n = (i ? 'before' : '') + 'pluginsetup';
            e.trigger(n, t), e.trigger(n + ':' + t.name, t);
          },
          Ma = function (e, t) {
            return (
              (t.prototype.name = e),
              function () {
                Oa(this, { name: e, plugin: t, instance: null }, !0);
                for (
                  var i = arguments.length, n = new Array(i), r = 0;
                  r < i;
                  r++
                )
                  n[r] = arguments[r];
                var s = b(t, [this].concat(n));
                return (
                  (this[e] = function () {
                    return s;
                  }),
                  Oa(this, s.getEventHash()),
                  s
                );
              }
            );
          },
          Na = (function () {
            function e(t) {
              if (this.constructor === e)
                throw new Error(
                  'Plugin must be sub-classed; not directly instantiated.',
                );
              (this.player = t),
                this.log ||
                  (this.log = this.player.log.createLogger(this.name)),
                jn(this),
                delete this.trigger,
                In(this, this.constructor.defaultState),
                Ra(t, this.name),
                (this.dispose = this.dispose.bind(this)),
                t.on('dispose', this.dispose);
            }
            var t = e.prototype;
            return (
              (t.version = function () {
                return this.constructor.VERSION;
              }),
              (t.getEventHash = function (e) {
                return (
                  void 0 === e && (e = {}),
                  (e.name = this.name),
                  (e.plugin = this.constructor),
                  (e.instance = this),
                  e
                );
              }),
              (t.trigger = function (e, t) {
                return (
                  void 0 === t && (t = {}),
                  dn(this.eventBusEl_, e, this.getEventHash(t))
                );
              }),
              (t.handleStateChanged = function (e) {}),
              (t.dispose = function () {
                var e = this.name,
                  t = this.player;
                this.trigger('dispose'),
                  this.off(),
                  t.off('dispose', this.dispose),
                  (t.activePlugins_[e] = !1),
                  (this.player = this.state = null),
                  (t[e] = Ma(e, xa[e]));
              }),
              (e.isBasic = function (t) {
                var i = 'string' == typeof t ? Da(t) : t;
                return (
                  'function' == typeof i &&
                  !e.prototype.isPrototypeOf(i.prototype)
                );
              }),
              (e.registerPlugin = function (t, i) {
                if ('string' != typeof t)
                  throw new Error(
                    'Illegal plugin name, "' +
                      t +
                      '", must be a string, was ' +
                      typeof t +
                      '.',
                  );
                if (La(t))
                  Mt.warn(
                    'A plugin named "' +
                      t +
                      '" already exists. You may want to avoid re-registering plugins!',
                  );
                else if (ja.prototype.hasOwnProperty(t))
                  throw new Error(
                    'Illegal plugin name, "' +
                      t +
                      '", cannot share a name with an existing player method!',
                  );
                if ('function' != typeof i)
                  throw new Error(
                    'Illegal plugin for "' +
                      t +
                      '", must be a function, was ' +
                      typeof i +
                      '.',
                  );
                return (
                  (xa[t] = i),
                  t !== Ia &&
                    (e.isBasic(i)
                      ? (ja.prototype[t] = (function (e, t) {
                          var i = function () {
                            Oa(
                              this,
                              { name: e, plugin: t, instance: null },
                              !0,
                            );
                            var i = t.apply(this, arguments);
                            return (
                              Ra(this, e),
                              Oa(this, { name: e, plugin: t, instance: i }),
                              i
                            );
                          };
                          return (
                            Object.keys(t).forEach(function (e) {
                              i[e] = t[e];
                            }),
                            i
                          );
                        })(t, i))
                      : (ja.prototype[t] = Ma(t, i))),
                  i
                );
              }),
              (e.deregisterPlugin = function (e) {
                if (e === Ia)
                  throw new Error('Cannot de-register base plugin.');
                La(e) && (delete xa[e], delete ja.prototype[e]);
              }),
              (e.getPlugins = function (e) {
                var t;
                return (
                  void 0 === e && (e = Object.keys(xa)),
                  e.forEach(function (e) {
                    var i = Da(e);
                    i && ((t = t || {})[e] = i);
                  }),
                  t
                );
              }),
              (e.getPluginVersion = function (e) {
                var t = Da(e);
                return (t && t.VERSION) || '';
              }),
              e
            );
          })();
        (Na.getPlugin = Da),
          (Na.BASE_PLUGIN_NAME = Ia),
          Na.registerPlugin(Ia, Na),
          (ja.prototype.usingPlugin = function (e) {
            return !!this.activePlugins_ && !0 === this.activePlugins_[e];
          }),
          (ja.prototype.hasPlugin = function (e) {
            return !!La(e);
          });
        var Ba = function (e) {
          return 0 === e.indexOf('#') ? e.slice(1) : e;
        };
        function Ua(e, t, i) {
          var n = Ua.getPlayer(e);
          if (n)
            return (
              t &&
                Mt.warn(
                  'Player "' +
                    e +
                    '" is already initialised. Options will not be applied.',
                ),
              i && n.ready(i),
              n
            );
          var r = 'string' == typeof e ? Hi('#' + Ba(e)) : e;
          if (!gi(r))
            throw new TypeError(
              'The element or ID supplied is not valid. (videojs)',
            );
          (r.ownerDocument.defaultView && r.ownerDocument.body.contains(r)) ||
            Mt.warn('The element supplied is not included in the DOM'),
            (t = t || {}),
            Ua.hooks('beforesetup').forEach(function (e) {
              var i = e(r, Dn(t));
              Vt(i) && !Array.isArray(i)
                ? (t = Dn(t, i))
                : Mt.error('please return an object in beforesetup hooks');
            });
          var s = Bn.getComponent('Player');
          return (
            (n = new s(r, t, i)),
            Ua.hooks('setup').forEach(function (e) {
              return e(n);
            }),
            n
          );
        }
        if (
          ((Ua.hooks_ = {}),
          (Ua.hooks = function (e, t) {
            return (
              (Ua.hooks_[e] = Ua.hooks_[e] || []),
              t && (Ua.hooks_[e] = Ua.hooks_[e].concat(t)),
              Ua.hooks_[e]
            );
          }),
          (Ua.hook = function (e, t) {
            Ua.hooks(e, t);
          }),
          (Ua.hookOnce = function (e, t) {
            Ua.hooks(
              e,
              [].concat(t).map(function (t) {
                return function i() {
                  return Ua.removeHook(e, i), t.apply(void 0, arguments);
                };
              }),
            );
          }),
          (Ua.removeHook = function (e, t) {
            var i = Ua.hooks(e).indexOf(t);
            return (
              !(i <= -1) &&
              ((Ua.hooks_[e] = Ua.hooks_[e].slice()),
              Ua.hooks_[e].splice(i, 1),
              !0)
            );
          }),
          !0 !== r().VIDEOJS_NO_DYNAMIC_STYLE && mi())
        ) {
          var Fa = Hi('.vjs-styles-defaults');
          if (!Fa) {
            Fa = Ji('vjs-styles-defaults');
            var Wa = Hi('head');
            Wa && Wa.insertBefore(Fa, Wa.firstChild),
              Zi(
                Fa,
                '\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid {\n        padding-top: 56.25%\n      }\n    ',
              );
          }
        }
        Qi(1, Ua),
          (Ua.VERSION = Pt),
          (Ua.options = ja.prototype.options_),
          (Ua.getPlayers = function () {
            return ja.players;
          }),
          (Ua.getPlayer = function (e) {
            var t,
              i = ja.players;
            if ('string' == typeof e) {
              var n = Ba(e),
                r = i[n];
              if (r) return r;
              t = Hi('#' + n);
            } else t = e;
            if (gi(t)) {
              var s = t,
                a = s.player,
                o = s.playerId;
              if (a || i[o]) return a || i[o];
            }
          }),
          (Ua.getAllPlayers = function () {
            return Object.keys(ja.players)
              .map(function (e) {
                return ja.players[e];
              })
              .filter(Boolean);
          }),
          (Ua.players = ja.players),
          (Ua.getComponent = Bn.getComponent),
          (Ua.registerComponent = function (e, t) {
            _r.isTech(t) &&
              Mt.warn(
                'The ' +
                  e +
                  ' tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)',
              ),
              Bn.registerComponent.call(Bn, e, t);
          }),
          (Ua.getTech = _r.getTech),
          (Ua.registerTech = _r.registerTech),
          (Ua.use = function (e, t) {
            (Cr[e] = Cr[e] || []), Cr[e].push(t);
          }),
          Object.defineProperty(Ua, 'middleware', {
            value: {},
            writeable: !1,
            enumerable: !0,
          }),
          Object.defineProperty(Ua.middleware, 'TERMINATOR', {
            value: jr,
            writeable: !1,
            enumerable: !0,
          }),
          (Ua.browser = hi),
          (Ua.TOUCH_ENABLED = oi),
          (Ua.extend = function (e, t) {
            void 0 === t && (t = {});
            var i = function () {
                e.apply(this, arguments);
              },
              n = {};
            for (var r in ('object' == typeof t
              ? (t.constructor !== Object.prototype.constructor &&
                  (i = t.constructor),
                (n = t))
              : 'function' == typeof t && (i = t),
            (function (e, t) {
              if ('function' != typeof t && null !== t)
                throw new TypeError(
                  'Super expression must either be null or a function',
                );
              (e.prototype = Object.create(t && t.prototype, {
                constructor: { value: e, writable: !0, configurable: !0 },
              })),
                Object.defineProperty(e, 'prototype', { writable: !1 }),
                t && u(e, t);
            })(i, e),
            e && (i.super_ = e),
            n))
              n.hasOwnProperty(r) && (i.prototype[r] = n[r]);
            return i;
          }),
          (Ua.mergeOptions = Dn),
          (Ua.bind = gn),
          (Ua.registerPlugin = Na.registerPlugin),
          (Ua.deregisterPlugin = Na.deregisterPlugin),
          (Ua.plugin = function (e, t) {
            return (
              Mt.warn(
                'videojs.plugin() is deprecated; use videojs.registerPlugin() instead',
              ),
              Na.registerPlugin(e, t)
            );
          }),
          (Ua.getPlugins = Na.getPlugins),
          (Ua.getPlugin = Na.getPlugin),
          (Ua.getPluginVersion = Na.getPluginVersion),
          (Ua.addLanguage = function (e, t) {
            var i;
            return (
              (e = ('' + e).toLowerCase()),
              (Ua.options.languages = Dn(
                Ua.options.languages,
                (((i = {})[e] = t), i),
              )),
              Ua.options.languages[e]
            );
          }),
          (Ua.log = Mt),
          (Ua.createLogger = Nt),
          (Ua.createTimeRange = Ua.createTimeRanges = Wn),
          (Ua.formatTime = es),
          (Ua.setFormatTime = function (e) {
            $r = e;
          }),
          (Ua.resetFormatTime = function () {
            $r = Zr;
          }),
          (Ua.parseUrl = cr),
          (Ua.isCrossOrigin = fr),
          (Ua.EventTarget = yn),
          (Ua.on = ln),
          (Ua.one = cn),
          (Ua.off = un),
          (Ua.trigger = dn),
          (Ua.xhr = g()),
          (Ua.TextTrack = yr),
          (Ua.AudioTrack = Ar),
          (Ua.VideoTrack = br),
          [
            'isEl',
            'isTextNode',
            'createEl',
            'hasClass',
            'addClass',
            'removeClass',
            'toggleClass',
            'setAttributes',
            'getAttributes',
            'emptyEl',
            'appendContent',
            'insertContent',
          ].forEach(function (e) {
            Ua[e] = function () {
              return (
                Mt.warn(
                  'videojs.' +
                    e +
                    '() is deprecated; use videojs.dom.' +
                    e +
                    '() instead',
                ),
                zi[e].apply(null, arguments)
              );
            };
          }),
          (Ua.computedStyle = qt),
          (Ua.dom = zi),
          (Ua.url = mr),
          (Ua.defineLazyProperty = Ta);
        var Va = C,
          Ha = function (e, t, i) {
            return e && i && i.responseURL && t !== i.responseURL
              ? i.responseURL
              : t;
          },
          qa = function (e) {
            return Ua.log.debug
              ? Ua.log.debug.bind(Ua, 'VHS:', e + ' >')
              : function () {};
          },
          za = Ua.log,
          Ka = function (e, t) {
            return e + '-' + t;
          },
          Xa = function (e) {
            var t = e.onwarn,
              i = e.oninfo,
              n = e.manifestString,
              r = e.customTagParsers,
              s = void 0 === r ? [] : r,
              a = e.customTagMappers,
              o = void 0 === a ? [] : a,
              l = e.experimentalLLHLS,
              u = new U();
            t && u.on('warn', t),
              i && u.on('info', i),
              s.forEach(function (e) {
                return u.addParser(e);
              }),
              o.forEach(function (e) {
                return u.addTagMapper(e);
              }),
              u.push(n),
              u.end();
            var d = u.manifest;
            if (
              (l ||
                ([
                  'preloadSegment',
                  'skip',
                  'serverControl',
                  'renditionReports',
                  'partInf',
                  'partTargetDuration',
                ].forEach(function (e) {
                  d.hasOwnProperty(e) && delete d[e];
                }),
                d.segments &&
                  d.segments.forEach(function (e) {
                    ['parts', 'preloadHints'].forEach(function (t) {
                      e.hasOwnProperty(t) && delete e[t];
                    });
                  })),
              !d.targetDuration)
            ) {
              var c = 10;
              d.segments &&
                d.segments.length &&
                (c = d.segments.reduce(function (e, t) {
                  return Math.max(e, t.duration);
                }, 0)),
                t && t('manifest has no targetDuration defaulting to ' + c),
                (d.targetDuration = c);
            }
            return d;
          },
          Qa = function (e, t) {
            ['AUDIO', 'SUBTITLES'].forEach(function (i) {
              for (var n in e.mediaGroups[i])
                for (var r in e.mediaGroups[i][n]) {
                  var s = e.mediaGroups[i][n][r];
                  t(s, i, n, r);
                }
            });
          },
          Ga = function (e) {
            var t = e.playlist,
              i = e.uri,
              n = e.id;
            (t.id = n), i && (t.uri = i), (t.attributes = t.attributes || {});
          },
          Ya = function (e, t) {
            e.uri = t;
            for (var i = 0; i < e.playlists.length; i++)
              if (!e.playlists[i].uri) {
                var n = 'placeholder-uri-' + i;
                e.playlists[i].uri = n;
              }
            Qa(e, function (t, i, n, r) {
              if (t.playlists && t.playlists.length && !t.playlists[0].uri) {
                var s = 'placeholder-uri-' + i + '-' + n + '-' + r,
                  a = Ka(0, s);
                (t.playlists[0].uri = s),
                  (t.playlists[0].id = a),
                  (e.playlists[a] = t.playlists[0]),
                  (e.playlists[s] = t.playlists[0]);
              }
            }),
              (function (e) {
                for (var t = e.playlists.length; t--; ) {
                  var i = e.playlists[t];
                  Ga({ playlist: i, id: Ka(t, i.uri) }),
                    (i.resolvedUri = Va(e.uri, i.uri)),
                    (e.playlists[i.id] = i),
                    (e.playlists[i.uri] = i),
                    i.attributes.BANDWIDTH ||
                      za.warn(
                        'Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute.',
                      );
                }
              })(e),
              (function (e) {
                Qa(e, function (t) {
                  t.uri && (t.resolvedUri = Va(e.uri, t.uri));
                });
              })(e);
          },
          Ja = Ua.mergeOptions,
          Za = Ua.EventTarget,
          $a = function (e, t) {
            if (!e) return t;
            var i = Ja(e, t);
            if (e.parts && !t.parts) delete i.parts;
            else if (e.parts && t.parts)
              for (var n = 0; n < t.parts.length; n++)
                e.parts &&
                  e.parts[n] &&
                  (i.parts[n] = Ja(e.parts[n], t.parts[n]));
            return i;
          },
          eo = function (e, t) {
            !e.resolvedUri && e.uri && (e.resolvedUri = Va(t, e.uri)),
              e.key &&
                !e.key.resolvedUri &&
                (e.key.resolvedUri = Va(t, e.key.uri)),
              e.map &&
                !e.map.resolvedUri &&
                (e.map.resolvedUri = Va(t, e.map.uri)),
              e.parts &&
                e.parts.length &&
                e.parts.forEach(function (e) {
                  e.resolvedUri || (e.resolvedUri = Va(t, e.uri));
                }),
              e.preloadHints &&
                e.preloadHints.length &&
                e.preloadHints.forEach(function (e) {
                  e.resolvedUri || (e.resolvedUri = Va(t, e.uri));
                });
          },
          to = function (e) {
            var t = e.segments || [];
            return (
              e.preloadSegment &&
                e.preloadSegment.parts &&
                t.push(e.preloadSegment),
              t
            );
          },
          io = function (e, t) {
            return (
              e === t ||
              (e.segments &&
                t.segments &&
                e.segments.length === t.segments.length &&
                e.endList === t.endList &&
                e.mediaSequence === t.mediaSequence)
            );
          },
          no = function (e, t, i) {
            void 0 === i && (i = io);
            var n = Ja(e, {}),
              r = n.playlists[t.id];
            if (!r) return null;
            if (i(r, t)) return null;
            var s = Ja(r, t);
            (t.segments = to(t)),
              r.segments &&
                (s.segments = (function (e, t, i) {
                  var n = e.slice(),
                    r = t.slice();
                  i = i || 0;
                  for (
                    var s = Math.min(e.length, t.length + i), a = i;
                    a < s;
                    a++
                  ) {
                    var o = a - i;
                    r[o] = $a(n[a], r[o]);
                  }
                  return r;
                })(r.segments, t.segments, t.mediaSequence - r.mediaSequence)),
              s.segments.forEach(function (e) {
                eo(e, s.resolvedUri);
              });
            for (var a = 0; a < n.playlists.length; a++)
              n.playlists[a].id === t.id && (n.playlists[a] = s);
            return (n.playlists[t.id] = s), (n.playlists[t.uri] = s), n;
          },
          ro = function (e, t) {
            var i = e.segments[e.segments.length - 1],
              n = i && i.parts && i.parts[i.parts.length - 1],
              r = (n && n.duration) || (i && i.duration);
            return t && r
              ? 1e3 * r
              : 500 * (e.partTargetDuration || e.targetDuration || 10);
          },
          so = (function (e) {
            function t(t, i, n) {
              var r;
              if ((void 0 === n && (n = {}), (r = e.call(this) || this), !t))
                throw new Error(
                  'A non-empty playlist URL or object is required',
                );
              r.logger_ = qa('PlaylistLoader');
              var s = n,
                a = s.withCredentials,
                o = void 0 !== a && a,
                l = s.handleManifestRedirects,
                u = void 0 !== l && l;
              (r.src = t),
                (r.vhs_ = i),
                (r.withCredentials = o),
                (r.handleManifestRedirects = u);
              var d = i.options_;
              return (
                (r.customTagParsers = (d && d.customTagParsers) || []),
                (r.customTagMappers = (d && d.customTagMappers) || []),
                (r.experimentalLLHLS = (d && d.experimentalLLHLS) || !1),
                (r.state = 'HAVE_NOTHING'),
                r.on('mediaupdatetimeout', function () {
                  'HAVE_METADATA' === r.state &&
                    ((r.state = 'HAVE_CURRENT_METADATA'),
                    (r.request = r.vhs_.xhr(
                      {
                        uri: Va(r.master.uri, r.media().uri),
                        withCredentials: r.withCredentials,
                      },
                      function (e, t) {
                        if (r.request)
                          return e
                            ? r.playlistRequestError(
                                r.request,
                                r.media(),
                                'HAVE_METADATA',
                              )
                            : void r.haveMetadata({
                                playlistString: r.request.responseText,
                                url: r.media().uri,
                                id: r.media().id,
                              });
                      },
                    )));
                }),
                r
              );
            }
            d(t, e);
            var i = t.prototype;
            return (
              (i.playlistRequestError = function (e, t, i) {
                var n = t.uri,
                  r = t.id;
                (this.request = null),
                  i && (this.state = i),
                  (this.error = {
                    playlist: this.master.playlists[r],
                    status: e.status,
                    message: 'HLS playlist request error at URL: ' + n + '.',
                    responseText: e.responseText,
                    code: e.status >= 500 ? 4 : 2,
                  }),
                  this.trigger('error');
              }),
              (i.haveMetadata = function (e) {
                var t = this,
                  i = e.playlistString,
                  n = e.playlistObject,
                  s = e.url,
                  a = e.id;
                (this.request = null), (this.state = 'HAVE_METADATA');
                var o =
                  n ||
                  Xa({
                    onwarn: function (e) {
                      var i = e.message;
                      return t.logger_('m3u8-parser warn for ' + a + ': ' + i);
                    },
                    oninfo: function (e) {
                      var i = e.message;
                      return t.logger_('m3u8-parser info for ' + a + ': ' + i);
                    },
                    manifestString: i,
                    customTagParsers: this.customTagParsers,
                    customTagMappers: this.customTagMappers,
                    experimentalLLHLS: this.experimentalLLHLS,
                  });
                (o.lastRequest = Date.now()),
                  Ga({ playlist: o, uri: s, id: a });
                var l = no(this.master, o);
                (this.targetDuration =
                  o.partTargetDuration || o.targetDuration),
                  l
                    ? ((this.master = l),
                      (this.media_ = this.master.playlists[a]))
                    : this.trigger('playlistunchanged'),
                  this.media().endList ||
                    (r().clearTimeout(this.mediaUpdateTimeout),
                    (this.mediaUpdateTimeout = r().setTimeout(
                      function () {
                        t.trigger('mediaupdatetimeout');
                      },
                      ro(this.media(), !!l),
                    ))),
                  this.trigger('loadedplaylist');
              }),
              (i.dispose = function () {
                this.trigger('dispose'),
                  this.stopRequest(),
                  r().clearTimeout(this.mediaUpdateTimeout),
                  r().clearTimeout(this.finalRenditionTimeout),
                  this.off();
              }),
              (i.stopRequest = function () {
                if (this.request) {
                  var e = this.request;
                  (this.request = null),
                    (e.onreadystatechange = null),
                    e.abort();
                }
              }),
              (i.media = function (e, t) {
                var i = this;
                if (!e) return this.media_;
                if ('HAVE_NOTHING' === this.state)
                  throw new Error(
                    'Cannot switch media playlist from ' + this.state,
                  );
                if ('string' == typeof e) {
                  if (!this.master.playlists[e])
                    throw new Error('Unknown playlist URI: ' + e);
                  e = this.master.playlists[e];
                }
                if ((r().clearTimeout(this.finalRenditionTimeout), t)) {
                  var n =
                    ((e.partTargetDuration || e.targetDuration) / 2) * 1e3 ||
                    5e3;
                  this.finalRenditionTimeout = r().setTimeout(
                    this.media.bind(this, e, !1),
                    n,
                  );
                } else {
                  var s = this.state,
                    a = !this.media_ || e.id !== this.media_.id;
                  if (
                    this.master.playlists[e.id].endList ||
                    (e.endList && e.segments.length)
                  )
                    return (
                      this.request &&
                        ((this.request.onreadystatechange = null),
                        this.request.abort(),
                        (this.request = null)),
                      (this.state = 'HAVE_METADATA'),
                      (this.media_ = e),
                      void (
                        a &&
                        (this.trigger('mediachanging'),
                        'HAVE_MASTER' === s
                          ? this.trigger('loadedmetadata')
                          : this.trigger('mediachange'))
                      )
                    );
                  if (a) {
                    if (((this.state = 'SWITCHING_MEDIA'), this.request)) {
                      if (e.resolvedUri === this.request.url) return;
                      (this.request.onreadystatechange = null),
                        this.request.abort(),
                        (this.request = null);
                    }
                    this.media_ && this.trigger('mediachanging'),
                      (this.request = this.vhs_.xhr(
                        {
                          uri: e.resolvedUri,
                          withCredentials: this.withCredentials,
                        },
                        function (t, n) {
                          if (i.request) {
                            if (
                              ((e.lastRequest = Date.now()),
                              (e.resolvedUri = Ha(
                                i.handleManifestRedirects,
                                e.resolvedUri,
                                n,
                              )),
                              t)
                            )
                              return i.playlistRequestError(i.request, e, s);
                            i.haveMetadata({
                              playlistString: n.responseText,
                              url: e.uri,
                              id: e.id,
                            }),
                              'HAVE_MASTER' === s
                                ? i.trigger('loadedmetadata')
                                : i.trigger('mediachange');
                          }
                        },
                      ));
                  }
                }
              }),
              (i.pause = function () {
                this.stopRequest(),
                  r().clearTimeout(this.mediaUpdateTimeout),
                  'HAVE_NOTHING' === this.state && (this.started = !1),
                  'SWITCHING_MEDIA' === this.state
                    ? this.media_
                      ? (this.state = 'HAVE_METADATA')
                      : (this.state = 'HAVE_MASTER')
                    : 'HAVE_CURRENT_METADATA' === this.state &&
                      (this.state = 'HAVE_METADATA');
              }),
              (i.load = function (e) {
                var t = this;
                r().clearTimeout(this.mediaUpdateTimeout);
                var i = this.media();
                if (e) {
                  var n = i
                    ? ((i.partTargetDuration || i.targetDuration) / 2) * 1e3
                    : 5e3;
                  this.mediaUpdateTimeout = r().setTimeout(function () {
                    return t.load();
                  }, n);
                } else
                  this.started
                    ? i && !i.endList
                      ? this.trigger('mediaupdatetimeout')
                      : this.trigger('loadedplaylist')
                    : this.start();
              }),
              (i.start = function () {
                var e = this;
                if (((this.started = !0), 'object' == typeof this.src))
                  return (
                    this.src.uri || (this.src.uri = r().location.href),
                    (this.src.resolvedUri = this.src.uri),
                    void setTimeout(function () {
                      e.setupInitialPlaylist(e.src);
                    }, 0)
                  );
                this.request = this.vhs_.xhr(
                  { uri: this.src, withCredentials: this.withCredentials },
                  function (t, i) {
                    if (e.request) {
                      if (((e.request = null), t))
                        return (
                          (e.error = {
                            status: i.status,
                            message:
                              'HLS playlist request error at URL: ' +
                              e.src +
                              '.',
                            responseText: i.responseText,
                            code: 2,
                          }),
                          'HAVE_NOTHING' === e.state && (e.started = !1),
                          e.trigger('error')
                        );
                      e.src = Ha(e.handleManifestRedirects, e.src, i);
                      var n = Xa({
                        manifestString: i.responseText,
                        customTagParsers: e.customTagParsers,
                        customTagMappers: e.customTagMappers,
                        experimentalLLHLS: e.experimentalLLHLS,
                      });
                      e.setupInitialPlaylist(n);
                    }
                  },
                );
              }),
              (i.srcUri = function () {
                return 'string' == typeof this.src ? this.src : this.src.uri;
              }),
              (i.setupInitialPlaylist = function (e) {
                if (((this.state = 'HAVE_MASTER'), e.playlists))
                  return (
                    (this.master = e),
                    Ya(this.master, this.srcUri()),
                    e.playlists.forEach(function (e) {
                      (e.segments = to(e)),
                        e.segments.forEach(function (t) {
                          eo(t, e.resolvedUri);
                        });
                    }),
                    this.trigger('loadedplaylist'),
                    void (this.request || this.media(this.master.playlists[0]))
                  );
                var t = this.srcUri() || r().location.href;
                (this.master = (function (e, t) {
                  var i = Ka(0, t),
                    n = {
                      mediaGroups: {
                        AUDIO: {},
                        VIDEO: {},
                        'CLOSED-CAPTIONS': {},
                        SUBTITLES: {},
                      },
                      uri: r().location.href,
                      resolvedUri: r().location.href,
                      playlists: [
                        { uri: t, id: i, resolvedUri: t, attributes: {} },
                      ],
                    };
                  return (
                    (n.playlists[i] = n.playlists[0]),
                    (n.playlists[t] = n.playlists[0]),
                    n
                  );
                })(0, t)),
                  this.haveMetadata({
                    playlistObject: e,
                    url: t,
                    id: this.master.playlists[0].id,
                  }),
                  this.trigger('loadedmetadata');
              }),
              t
            );
          })(Za),
          ao = 1 / 30,
          oo = 0.1,
          lo = function (e, t) {
            var i,
              n = [];
            if (e && e.length)
              for (i = 0; i < e.length; i++)
                t(e.start(i), e.end(i)) && n.push([e.start(i), e.end(i)]);
            return Ua.createTimeRanges(n);
          },
          uo = function (e, t) {
            return lo(e, function (e, i) {
              return e - oo <= t && i + oo >= t;
            });
          },
          co = function (e, t) {
            return lo(e, function (e) {
              return e - ao >= t;
            });
          },
          ho = function (e) {
            var t = [];
            if (!e || !e.length) return '';
            for (var i = 0; i < e.length; i++)
              t.push(e.start(i) + ' => ' + e.end(i));
            return t.join(', ');
          },
          po = function (e) {
            for (var t = [], i = 0; i < e.length; i++)
              t.push({ start: e.start(i), end: e.end(i) });
            return t;
          },
          fo = Ua.createTimeRange,
          mo = function (e, t) {
            if (t.endList) return 0;
            if (e && e.suggestedPresentationDelay)
              return e.suggestedPresentationDelay;
            var i =
                t.segments &&
                t.segments.length &&
                t.segments[t.segments.length - 1],
              n = i && i.parts && i.parts.length;
            return n && t.serverControl && t.serverControl.partHoldBack
              ? t.serverControl.partHoldBack
              : n && t.partTargetDuration
                ? 3 * t.partTargetDuration
                : t.serverControl && t.serverControl.holdBack
                  ? t.serverControl.holdBack
                  : t.targetDuration
                    ? 3 * t.targetDuration
                    : 0;
          },
          go = function (e, t, i) {
            if (
              (void 0 === t && (t = e.mediaSequence + e.segments.length),
              t < e.mediaSequence)
            )
              return 0;
            var n = (function (e, t) {
              var i = 0,
                n = t - e.mediaSequence,
                r = e.segments[n];
              if (r) {
                if (void 0 !== r.start) return { result: r.start, precise: !0 };
                if (void 0 !== r.end)
                  return { result: r.end - r.duration, precise: !0 };
              }
              for (; n--; ) {
                if (void 0 !== (r = e.segments[n]).end)
                  return { result: i + r.end, precise: !0 };
                if (((i += r.duration), void 0 !== r.start))
                  return { result: i + r.start, precise: !0 };
              }
              return { result: i, precise: !1 };
            })(e, t);
            if (n.precise) return n.result;
            var r = (function (e, t) {
              for (
                var i, n = 0, r = t - e.mediaSequence;
                r < e.segments.length;
                r++
              ) {
                if (void 0 !== (i = e.segments[r]).start)
                  return { result: i.start - n, precise: !0 };
                if (((n += i.duration), void 0 !== i.end))
                  return { result: i.end - n, precise: !0 };
              }
              return { result: -1, precise: !1 };
            })(e, t);
            return r.precise ? r.result : n.result + i;
          },
          vo = function (e, t, i) {
            if (!e) return 0;
            if (('number' != typeof i && (i = 0), void 0 === t)) {
              if (e.totalDuration) return e.totalDuration;
              if (!e.endList) return r()[1 / 0];
            }
            return go(e, t, i);
          },
          yo = function (e, t, i) {
            var n = 0;
            if (t > i) {
              var r = [i, t];
              (t = r[0]), (i = r[1]);
            }
            if (t < 0) {
              for (var s = t; s < Math.min(0, i); s++) n += e.targetDuration;
              t = 0;
            }
            for (var a = t; a < i; a++) n += e.segments[a].duration;
            return n;
          },
          Ao = function (e, t, i, n) {
            if (!e || !e.segments) return null;
            if (e.endList) return vo(e);
            if (null === t) return null;
            t = t || 0;
            var r = go(e, e.mediaSequence + e.segments.length, t);
            return (
              i && (r -= n = 'number' == typeof n ? n : mo(null, e)),
              Math.max(0, r)
            );
          },
          bo = function (e) {
            return e.excludeUntil && e.excludeUntil > Date.now();
          },
          To = function (e) {
            return e.excludeUntil && e.excludeUntil === 1 / 0;
          },
          So = function (e) {
            var t = bo(e);
            return !e.disabled && !t;
          },
          wo = function (e, t) {
            return t.attributes && t.attributes[e];
          },
          ko = function (e, t) {
            if (1 === e.playlists.length) return !0;
            var i = t.attributes.BANDWIDTH || Number.MAX_VALUE;
            return (
              0 ===
              e.playlists.filter(function (e) {
                return !!So(e) && (e.attributes.BANDWIDTH || 0) < i;
              }).length
            );
          },
          _o = function (e, t) {
            return (
              !((!e && !t) || (!e && t) || (e && !t)) &&
              (e === t ||
                !(!e.id || !t.id || e.id !== t.id) ||
                !(
                  !e.resolvedUri ||
                  !t.resolvedUri ||
                  e.resolvedUri !== t.resolvedUri
                ) ||
                !(!e.uri || !t.uri || e.uri !== t.uri))
            );
          },
          Co = function (e, t) {
            var i = (e && e.mediaGroups && e.mediaGroups.AUDIO) || {},
              n = !1;
            for (var r in i) {
              for (var s in i[r]) if ((n = t(i[r][s]))) break;
              if (n) break;
            }
            return !!n;
          },
          Eo = function (e) {
            if (!e || !e.playlists || !e.playlists.length)
              return Co(e, function (e) {
                return (e.playlists && e.playlists.length) || e.uri;
              });
            for (
              var t = function (t) {
                  var i = e.playlists[t],
                    n = i.attributes && i.attributes.CODECS;
                  return (n &&
                    n.split(',').every(function (e) {
                      return z(e);
                    })) ||
                    Co(e, function (e) {
                      return _o(i, e);
                    })
                    ? 'continue'
                    : { v: !1 };
                },
                i = 0;
              i < e.playlists.length;
              i++
            ) {
              var n = t(i);
              if ('continue' !== n && 'object' == typeof n) return n.v;
            }
            return !0;
          },
          jo = {
            liveEdgeDelay: mo,
            duration: vo,
            seekable: function (e, t, i) {
              var n = t || 0,
                r = Ao(e, t, !0, i);
              return null === r ? fo() : fo(n, r);
            },
            getMediaInfoForTime: function (e, t, i, n) {
              var r = (function (e) {
                  return (e.segments || []).reduce(function (e, t, i) {
                    return (
                      t.parts
                        ? t.parts.forEach(function (t, n) {
                            e.push({
                              duration: t.duration,
                              segmentIndex: i,
                              partIndex: n,
                            });
                          })
                        : e.push({
                            duration: t.duration,
                            segmentIndex: i,
                            partIndex: null,
                          }),
                      e
                    );
                  }, []);
                })(e),
                s = t - n;
              if (s < 0) {
                if (i > 0)
                  for (var a = i - 1; a >= 0; a--) {
                    var o = r[a];
                    if ((s += o.duration + ao) > 0)
                      return {
                        mediaIndex: o.segmentIndex,
                        startTime: n - yo(e, i, o.segmentIndex),
                        partIndex: o.partIndex,
                      };
                  }
                return {
                  mediaIndex: (r[0] && r[0].segmentIndex) || 0,
                  partIndex: (r[0] && r[0].partIndex) || null,
                  startTime: t,
                };
              }
              if (i < 0) {
                for (var l = i; l < 0; l++)
                  if ((s -= e.targetDuration) < 0)
                    return { mediaIndex: r[0].segmentIndex, startTime: t };
                i = 0;
              }
              for (var u = i; u < r.length; u++) {
                var d = r[u];
                if ((s -= d.duration + ao) < 0)
                  return {
                    mediaIndex: d.segmentIndex,
                    startTime: n + yo(e, i, d.segmentIndex),
                    partIndex: d.partIndex,
                  };
              }
              return {
                mediaIndex: r[r.length - 1].segmentIndex,
                partIndex: r[r.length - 1].partIndex,
                startTime: t,
              };
            },
            isEnabled: So,
            isDisabled: function (e) {
              return e.disabled;
            },
            isBlacklisted: bo,
            isIncompatible: To,
            playlistEnd: Ao,
            isAes: function (e) {
              for (var t = 0; t < e.segments.length; t++)
                if (e.segments[t].key) return !0;
              return !1;
            },
            hasAttribute: wo,
            estimateSegmentRequestTime: function (e, t, i, n) {
              return (
                void 0 === n && (n = 0),
                wo('BANDWIDTH', i)
                  ? (e * i.attributes.BANDWIDTH - 8 * n) / t
                  : NaN
              );
            },
            isLowestEnabledRendition: ko,
            isAudioOnly: Eo,
            playlistMatch: _o,
          },
          Po = Ua.xhr,
          Io = Ua.mergeOptions,
          xo = function (e, t, i, n) {
            var r =
              'arraybuffer' === e.responseType ? e.response : e.responseText;
            !t &&
              r &&
              ((e.responseTime = Date.now()),
              (e.roundTripTime = e.responseTime - e.requestTime),
              (e.bytesReceived = r.byteLength || r.length),
              e.bandwidth ||
                (e.bandwidth = Math.floor(
                  (e.bytesReceived / e.roundTripTime) * 8 * 1e3,
                ))),
              i.headers && (e.responseHeaders = i.headers),
              t && 'ETIMEDOUT' === t.code && (e.timedout = !0),
              t ||
                e.aborted ||
                200 === i.statusCode ||
                206 === i.statusCode ||
                0 === i.statusCode ||
                (t = new Error(
                  'XHR Failed with a response of: ' +
                    (e && (r || e.responseText)),
                )),
              n(t, e);
          },
          Lo = function () {
            var e = function e(t, i) {
              t = Io({ timeout: 45e3 }, t);
              var n = e.beforeRequest || Ua.Vhs.xhr.beforeRequest;
              if (n && 'function' == typeof n) {
                var r = n(t);
                r && (t = r);
              }
              var s = (!0 === Ua.Vhs.xhr.original ? Po : Ua.Vhs.xhr)(
                  t,
                  function (e, t) {
                    return xo(s, e, t, i);
                  },
                ),
                a = s.abort;
              return (
                (s.abort = function () {
                  return (s.aborted = !0), a.apply(s, arguments);
                }),
                (s.uri = t.uri),
                (s.requestTime = Date.now()),
                s
              );
            };
            return (e.original = !0), e;
          },
          Do = function (e) {
            var t,
              i,
              n = {};
            return (
              e.byterange &&
                (n.Range =
                  ((t = e.byterange),
                  (i = t.offset + t.length - 1),
                  'bytes=' + t.offset + '-' + i)),
              n
            );
          },
          Ro = function (e, t) {
            return e.start(t) + '-' + e.end(t);
          },
          Oo = function (e, t) {
            var i = e.toString(16);
            return '00'.substring(0, 2 - i.length) + i + (t % 2 ? ' ' : '');
          },
          Mo = function (e) {
            return e >= 32 && e < 126 ? String.fromCharCode(e) : '.';
          },
          No = function (e) {
            var t = {};
            return (
              Object.keys(e).forEach(function (i) {
                var n = e[i];
                ArrayBuffer.isView(n)
                  ? (t[i] = {
                      bytes: n.buffer,
                      byteOffset: n.byteOffset,
                      byteLength: n.byteLength,
                    })
                  : (t[i] = n);
              }),
              t
            );
          },
          Bo = function (e) {
            var t = e.byterange || { length: 1 / 0, offset: 0 };
            return [t.length, t.offset, e.resolvedUri].join(',');
          },
          Uo = function (e) {
            return e.resolvedUri;
          },
          Fo = function (e) {
            for (
              var t = Array.prototype.slice.call(e), i = 16, n = '', r = 0;
              r < t.length / i;
              r++
            )
              n +=
                t
                  .slice(r * i, r * i + i)
                  .map(Oo)
                  .join('') +
                ' ' +
                t
                  .slice(r * i, r * i + i)
                  .map(Mo)
                  .join('') +
                '\n';
            return n;
          },
          Wo = Object.freeze({
            __proto__: null,
            createTransferableMessage: No,
            initSegmentId: Bo,
            segmentKeyId: Uo,
            hexDump: Fo,
            tagDump: function (e) {
              var t = e.bytes;
              return Fo(t);
            },
            textRanges: function (e) {
              var t,
                i = '';
              for (t = 0; t < e.length; t++) i += Ro(e, t) + ' ';
              return i;
            },
          }),
          Vo = function (e) {
            var t = e.playlist,
              i = e.time,
              n = void 0 === i ? void 0 : i,
              r = e.callback;
            if (!r)
              throw new Error('getProgramTime: callback must be provided');
            if (!t || void 0 === n)
              return r({
                message: 'getProgramTime: playlist and time must be provided',
              });
            var s = (function (e, t) {
              if (!t || !t.segments || 0 === t.segments.length) return null;
              for (
                var i, n = 0, r = 0;
                r < t.segments.length &&
                !(
                  e <=
                  (n = (i = t.segments[r]).videoTimingInfo
                    ? i.videoTimingInfo.transmuxedPresentationEnd
                    : n + i.duration)
                );
                r++
              );
              var s = t.segments[t.segments.length - 1];
              if (
                s.videoTimingInfo &&
                s.videoTimingInfo.transmuxedPresentationEnd < e
              )
                return null;
              if (e > n) {
                if (e > n + 0.25 * s.duration) return null;
                i = s;
              }
              return {
                segment: i,
                estimatedStart: i.videoTimingInfo
                  ? i.videoTimingInfo.transmuxedPresentationStart
                  : n - i.duration,
                type: i.videoTimingInfo ? 'accurate' : 'estimate',
              };
            })(n, t);
            if (!s) return r({ message: 'valid programTime was not found' });
            if ('estimate' === s.type)
              return r({
                message:
                  'Accurate programTime could not be determined. Please seek to e.seekTime and try again',
                seekTime: s.estimatedStart,
              });
            var a = { mediaSeconds: n },
              o = (function (e, t) {
                if (!t.dateTimeObject) return null;
                var i = t.videoTimingInfo.transmuxerPrependedSeconds,
                  n = e - (t.videoTimingInfo.transmuxedPresentationStart + i);
                return new Date(t.dateTimeObject.getTime() + 1e3 * n);
              })(n, s.segment);
            return o && (a.programDateTime = o.toISOString()), r(null, a);
          },
          Ho = function e(t) {
            var i = t.programTime,
              n = t.playlist,
              r = t.retryCount,
              s = void 0 === r ? 2 : r,
              a = t.seekTo,
              o = t.pauseAfterSeek,
              l = void 0 === o || o,
              u = t.tech,
              d = t.callback;
            if (!d)
              throw new Error('seekToProgramTime: callback must be provided');
            if (void 0 === i || !n || !a)
              return d({
                message:
                  'seekToProgramTime: programTime, seekTo and playlist must be provided',
              });
            if (!n.endList && !u.hasStarted_)
              return d({
                message:
                  'player must be playing a live stream to start buffering',
              });
            if (
              !(function (e) {
                if (!e.segments || 0 === e.segments.length) return !1;
                for (var t = 0; t < e.segments.length; t++)
                  if (!e.segments[t].dateTimeObject) return !1;
                return !0;
              })(n)
            )
              return d({
                message:
                  'programDateTime tags must be provided in the manifest ' +
                  n.resolvedUri,
              });
            var c = (function (e, t) {
              var i;
              try {
                i = new Date(e);
              } catch (e) {
                return null;
              }
              if (!t || !t.segments || 0 === t.segments.length) return null;
              var n = t.segments[0];
              if (i < n.dateTimeObject) return null;
              for (
                var r = 0;
                r < t.segments.length - 1 &&
                ((n = t.segments[r]), !(i < t.segments[r + 1].dateTimeObject));
                r++
              );
              var s,
                a = t.segments[t.segments.length - 1],
                o = a.dateTimeObject,
                l = a.videoTimingInfo
                  ? (s = a.videoTimingInfo).transmuxedPresentationEnd -
                    s.transmuxedPresentationStart -
                    s.transmuxerPrependedSeconds
                  : a.duration + 0.25 * a.duration;
              return i > new Date(o.getTime() + 1e3 * l)
                ? null
                : (i > o && (n = a),
                  {
                    segment: n,
                    estimatedStart: n.videoTimingInfo
                      ? n.videoTimingInfo.transmuxedPresentationStart
                      : jo.duration(t, t.mediaSequence + t.segments.indexOf(n)),
                    type: n.videoTimingInfo ? 'accurate' : 'estimate',
                  });
            })(i, n);
            if (!c) return d({ message: i + ' was not found in the stream' });
            var h = c.segment,
              p = (function (e, t) {
                var i, n;
                try {
                  (i = new Date(e)), (n = new Date(t));
                } catch (e) {}
                var r = i.getTime();
                return (n.getTime() - r) / 1e3;
              })(h.dateTimeObject, i);
            if ('estimate' === c.type)
              return 0 === s
                ? d({ message: i + ' is not buffered yet. Try again' })
                : (a(c.estimatedStart + p),
                  void u.one('seeked', function () {
                    e({
                      programTime: i,
                      playlist: n,
                      retryCount: s - 1,
                      seekTo: a,
                      pauseAfterSeek: l,
                      tech: u,
                      callback: d,
                    });
                  }));
            var f = h.start + p;
            u.one('seeked', function () {
              return d(null, u.currentTime());
            }),
              l && u.pause(),
              a(f);
          },
          qo = function (e, t) {
            if (4 === e.readyState) return t();
          },
          zo = function (e, t, i) {
            var n,
              r = [],
              s = !1,
              a = function (e, t, n, r) {
                return t.abort(), (s = !0), i(e, t, n, r);
              },
              o = function (e, t) {
                if (!s) {
                  if (e) return a(e, t, '', r);
                  var i = t.responseText.substring(
                    (r && r.byteLength) || 0,
                    t.responseText.length,
                  );
                  if (
                    ((r = (function () {
                      for (
                        var e = arguments.length, t = new Array(e), i = 0;
                        i < e;
                        i++
                      )
                        t[i] = arguments[i];
                      if (
                        ((t = t.filter(function (e) {
                          return (
                            e &&
                            (e.byteLength || e.length) &&
                            'string' != typeof e
                          );
                        })),
                        t.length <= 1)
                      )
                        return Qe(t[0]);
                      var n = t.reduce(function (e, t, i) {
                          return e + (t.byteLength || t.length);
                        }, 0),
                        r = new Uint8Array(n),
                        s = 0;
                      return (
                        t.forEach(function (e) {
                          (e = Qe(e)), r.set(e, s), (s += e.byteLength);
                        }),
                        r
                      );
                    })(r, $e(i, !0))),
                    (n = n || it(r)),
                    r.length < 10 || (n && r.length < n + 2))
                  )
                    return qo(t, function () {
                      return a(e, t, '', r);
                    });
                  var o = St(r);
                  return ('ts' === o && r.length < 188) ||
                    (!o && r.length < 376)
                    ? qo(t, function () {
                        return a(e, t, '', r);
                      })
                    : a(null, t, o, r);
                }
              },
              l = {
                uri: e,
                beforeSend: function (e) {
                  e.overrideMimeType('text/plain; charset=x-user-defined'),
                    e.addEventListener('progress', function (t) {
                      return (
                        t.total,
                        t.loaded,
                        xo(e, null, { statusCode: e.status }, o)
                      );
                    });
                },
              },
              u = t(l, function (e, t) {
                return xo(u, e, t, o);
              });
            return u;
          },
          Ko = Ua.EventTarget,
          Xo = Ua.mergeOptions,
          Qo = function (e, t) {
            if (!io(e, t)) return !1;
            if (
              e.sidx &&
              t.sidx &&
              (e.sidx.offset !== t.sidx.offset ||
                e.sidx.length !== t.sidx.length)
            )
              return !1;
            if ((!e.sidx && t.sidx) || (e.sidx && !t.sidx)) return !1;
            if ((e.segments && !t.segments) || (!e.segments && t.segments))
              return !1;
            if (!e.segments && !t.segments) return !0;
            for (var i = 0; i < e.segments.length; i++) {
              var n = e.segments[i],
                r = t.segments[i];
              if (n.uri !== r.uri) return !1;
              if (n.byterange || r.byterange) {
                var s = n.byterange,
                  a = r.byterange;
                if ((s && !a) || (!s && a)) return !1;
                if (s.offset !== a.offset || s.length !== a.length) return !1;
              }
            }
            return !0;
          },
          Go = function (e, t) {
            return (
              (Boolean(!e.map && !t.map) ||
                Boolean(
                  e.map &&
                    t.map &&
                    e.map.byterange.offset === t.map.byterange.offset &&
                    e.map.byterange.length === t.map.byterange.length,
                )) &&
              e.uri === t.uri &&
              e.byterange.offset === t.byterange.offset &&
              e.byterange.length === t.byterange.length
            );
          },
          Yo = function (e, t) {
            var i = {};
            for (var n in e) {
              var r = e[n].sidx;
              if (r) {
                var s = ge(r);
                if (!t[s]) break;
                var a = t[s].sidxInfo;
                Go(a, r) && (i[s] = t[s]);
              }
            }
            return i;
          },
          Jo = (function (e) {
            function t(t, i, n, r) {
              var s;
              void 0 === n && (n = {}),
                ((s = e.call(this) || this).masterPlaylistLoader_ = r || l(s)),
                r || (s.isMaster_ = !0);
              var a = n,
                o = a.withCredentials,
                u = void 0 !== o && o,
                d = a.handleManifestRedirects,
                c = void 0 !== d && d;
              if (
                ((s.vhs_ = i),
                (s.withCredentials = u),
                (s.handleManifestRedirects = c),
                !t)
              )
                throw new Error(
                  'A non-empty playlist URL or object is required',
                );
              return (
                s.on('minimumUpdatePeriod', function () {
                  s.refreshXml_();
                }),
                s.on('mediaupdatetimeout', function () {
                  s.refreshMedia_(s.media().id);
                }),
                (s.state = 'HAVE_NOTHING'),
                (s.loadedPlaylists_ = {}),
                (s.logger_ = qa('DashPlaylistLoader')),
                s.isMaster_
                  ? ((s.masterPlaylistLoader_.srcUrl = t),
                    (s.masterPlaylistLoader_.sidxMapping_ = {}))
                  : (s.childPlaylist_ = t),
                s
              );
            }
            d(t, e);
            var i = t.prototype;
            return (
              (i.requestErrored_ = function (e, t, i) {
                return (
                  !this.request ||
                  ((this.request = null),
                  e
                    ? ((this.error =
                        'object' != typeof e || e instanceof Error
                          ? {
                              status: t.status,
                              message: 'DASH request error at URL: ' + t.uri,
                              response: t.response,
                              code: 2,
                            }
                          : e),
                      i && (this.state = i),
                      this.trigger('error'),
                      !0)
                    : void 0)
                );
              }),
              (i.addSidxSegments_ = function (e, t, i) {
                var n = this,
                  s = e.sidx && ge(e.sidx);
                if (
                  e.sidx &&
                  s &&
                  !this.masterPlaylistLoader_.sidxMapping_[s]
                ) {
                  var a = Ha(this.handleManifestRedirects, e.sidx.resolvedUri),
                    o = function (r, a) {
                      if (!n.requestErrored_(r, a, t)) {
                        var o,
                          l = n.masterPlaylistLoader_.sidxMapping_;
                        try {
                          o = Ke()(Qe(a.response).subarray(8));
                        } catch (e) {
                          return void n.requestErrored_(e, a, t);
                        }
                        return (
                          (l[s] = { sidxInfo: e.sidx, sidx: o }),
                          me(e, o, e.sidx.resolvedUri),
                          i(!0)
                        );
                      }
                    };
                  this.request = zo(a, this.vhs_.xhr, function (t, i, r, s) {
                    if (t) return o(t, i);
                    if (!r || 'mp4' !== r)
                      return o(
                        {
                          status: i.status,
                          message:
                            'Unsupported ' +
                            (r || 'unknown') +
                            ' container type for sidx segment at URL: ' +
                            a,
                          response: '',
                          playlist: e,
                          internal: !0,
                          blacklistDuration: 1 / 0,
                          code: 2,
                        },
                        i,
                      );
                    var l = e.sidx.byterange,
                      u = l.offset,
                      d = l.length;
                    if (s.length >= d + u)
                      return o(t, {
                        response: s.subarray(u, u + d),
                        status: i.status,
                        uri: i.uri,
                      });
                    n.request = n.vhs_.xhr(
                      {
                        uri: a,
                        responseType: 'arraybuffer',
                        headers: Do({ byterange: e.sidx.byterange }),
                      },
                      o,
                    );
                  });
                } else
                  this.mediaRequest_ = r().setTimeout(function () {
                    return i(!1);
                  }, 0);
              }),
              (i.dispose = function () {
                this.trigger('dispose'),
                  this.stopRequest(),
                  (this.loadedPlaylists_ = {}),
                  r().clearTimeout(this.minimumUpdatePeriodTimeout_),
                  r().clearTimeout(this.mediaRequest_),
                  r().clearTimeout(this.mediaUpdateTimeout),
                  (this.mediaUpdateTimeout = null),
                  (this.mediaRequest_ = null),
                  (this.minimumUpdatePeriodTimeout_ = null),
                  this.masterPlaylistLoader_.createMupOnMedia_ &&
                    (this.off(
                      'loadedmetadata',
                      this.masterPlaylistLoader_.createMupOnMedia_,
                    ),
                    (this.masterPlaylistLoader_.createMupOnMedia_ = null)),
                  this.off();
              }),
              (i.hasPendingRequest = function () {
                return this.request || this.mediaRequest_;
              }),
              (i.stopRequest = function () {
                if (this.request) {
                  var e = this.request;
                  (this.request = null),
                    (e.onreadystatechange = null),
                    e.abort();
                }
              }),
              (i.media = function (e) {
                var t = this;
                if (!e) return this.media_;
                if ('HAVE_NOTHING' === this.state)
                  throw new Error(
                    'Cannot switch media playlist from ' + this.state,
                  );
                var i = this.state;
                if ('string' == typeof e) {
                  if (!this.masterPlaylistLoader_.master.playlists[e])
                    throw new Error('Unknown playlist URI: ' + e);
                  e = this.masterPlaylistLoader_.master.playlists[e];
                }
                var n = !this.media_ || e.id !== this.media_.id;
                if (
                  n &&
                  this.loadedPlaylists_[e.id] &&
                  this.loadedPlaylists_[e.id].endList
                )
                  return (
                    (this.state = 'HAVE_METADATA'),
                    (this.media_ = e),
                    void (
                      n &&
                      (this.trigger('mediachanging'),
                      this.trigger('mediachange'))
                    )
                  );
                n &&
                  (this.media_ && this.trigger('mediachanging'),
                  this.addSidxSegments_(e, i, function (n) {
                    t.haveMetadata({ startingState: i, playlist: e });
                  }));
              }),
              (i.haveMetadata = function (e) {
                var t = e.startingState,
                  i = e.playlist;
                (this.state = 'HAVE_METADATA'),
                  (this.loadedPlaylists_[i.id] = i),
                  (this.mediaRequest_ = null),
                  this.refreshMedia_(i.id),
                  'HAVE_MASTER' === t
                    ? this.trigger('loadedmetadata')
                    : this.trigger('mediachange');
              }),
              (i.pause = function () {
                this.masterPlaylistLoader_.createMupOnMedia_ &&
                  (this.off(
                    'loadedmetadata',
                    this.masterPlaylistLoader_.createMupOnMedia_,
                  ),
                  (this.masterPlaylistLoader_.createMupOnMedia_ = null)),
                  this.stopRequest(),
                  r().clearTimeout(this.mediaUpdateTimeout),
                  r().clearTimeout(
                    this.masterPlaylistLoader_.minimumUpdatePeriodTimeout_,
                  ),
                  (this.masterPlaylistLoader_.minimumUpdatePeriodTimeout_ =
                    null),
                  (this.mediaUpdateTimeout = null),
                  'HAVE_NOTHING' === this.state && (this.started = !1);
              }),
              (i.load = function (e) {
                var t = this;
                r().clearTimeout(this.mediaUpdateTimeout),
                  (this.mediaUpdateTimeout = null);
                var i = this.media();
                if (e) {
                  var n = i ? (i.targetDuration / 2) * 1e3 : 5e3;
                  this.mediaUpdateTimeout = r().setTimeout(function () {
                    return t.load();
                  }, n);
                } else
                  this.started
                    ? i && !i.endList
                      ? this.trigger('mediaupdatetimeout')
                      : this.trigger('loadedplaylist')
                    : this.start();
              }),
              (i.start = function () {
                var e = this;
                (this.started = !0),
                  this.isMaster_
                    ? this.requestMaster_(function (t, i) {
                        e.haveMaster_(),
                          e.hasPendingRequest() ||
                            e.media_ ||
                            e.media(
                              e.masterPlaylistLoader_.master.playlists[0],
                            );
                      })
                    : (this.mediaRequest_ = r().setTimeout(function () {
                        return e.haveMaster_();
                      }, 0));
              }),
              (i.requestMaster_ = function (e) {
                var t = this;
                this.request = this.vhs_.xhr(
                  {
                    uri: this.masterPlaylistLoader_.srcUrl,
                    withCredentials: this.withCredentials,
                  },
                  function (i, n) {
                    if (!t.requestErrored_(i, n)) {
                      var r =
                        n.responseText !== t.masterPlaylistLoader_.masterXml_;
                      return (
                        (t.masterPlaylistLoader_.masterXml_ = n.responseText),
                        n.responseHeaders && n.responseHeaders.date
                          ? (t.masterLoaded_ = Date.parse(
                              n.responseHeaders.date,
                            ))
                          : (t.masterLoaded_ = Date.now()),
                        (t.masterPlaylistLoader_.srcUrl = Ha(
                          t.handleManifestRedirects,
                          t.masterPlaylistLoader_.srcUrl,
                          n,
                        )),
                        r
                          ? (t.handleMaster_(),
                            void t.syncClientServerClock_(function () {
                              return e(n, r);
                            }))
                          : e(n, r)
                      );
                    }
                    'HAVE_NOTHING' === t.state && (t.started = !1);
                  },
                );
              }),
              (i.syncClientServerClock_ = function (e) {
                var t = this,
                  i = qe(this.masterPlaylistLoader_.masterXml_);
                return null === i
                  ? ((this.masterPlaylistLoader_.clientOffset_ =
                      this.masterLoaded_ - Date.now()),
                    e())
                  : 'DIRECT' === i.method
                    ? ((this.masterPlaylistLoader_.clientOffset_ =
                        i.value - Date.now()),
                      e())
                    : void (this.request = this.vhs_.xhr(
                        {
                          uri: Va(this.masterPlaylistLoader_.srcUrl, i.value),
                          method: i.method,
                          withCredentials: this.withCredentials,
                        },
                        function (n, r) {
                          if (t.request) {
                            if (n)
                              return (
                                (t.masterPlaylistLoader_.clientOffset_ =
                                  t.masterLoaded_ - Date.now()),
                                e()
                              );
                            var s;
                            (s =
                              'HEAD' === i.method
                                ? r.responseHeaders && r.responseHeaders.date
                                  ? Date.parse(r.responseHeaders.date)
                                  : t.masterLoaded_
                                : Date.parse(r.responseText)),
                              (t.masterPlaylistLoader_.clientOffset_ =
                                s - Date.now()),
                              e();
                          }
                        },
                      ));
              }),
              (i.haveMaster_ = function () {
                (this.state = 'HAVE_MASTER'),
                  this.isMaster_
                    ? this.trigger('loadedplaylist')
                    : this.media_ || this.media(this.childPlaylist_);
              }),
              (i.handleMaster_ = function () {
                this.mediaRequest_ = null;
                var e,
                  t,
                  i,
                  n,
                  r,
                  s,
                  a =
                    ((e = {
                      masterXml: this.masterPlaylistLoader_.masterXml_,
                      srcUrl: this.masterPlaylistLoader_.srcUrl,
                      clientOffset: this.masterPlaylistLoader_.clientOffset_,
                      sidxMapping: this.masterPlaylistLoader_.sidxMapping_,
                    }),
                    (t = e.masterXml),
                    (i = e.srcUrl),
                    (n = e.clientOffset),
                    (r = e.sidxMapping),
                    (s = He(t, {
                      manifestUri: i,
                      clientOffset: n,
                      sidxMapping: r,
                    })),
                    Ya(s, i),
                    s),
                  o = this.masterPlaylistLoader_.master;
                o &&
                  (a = (function (e, t, i) {
                    for (
                      var n = !0,
                        r = Xo(e, {
                          duration: t.duration,
                          minimumUpdatePeriod: t.minimumUpdatePeriod,
                        }),
                        s = 0;
                      s < t.playlists.length;
                      s++
                    ) {
                      var a = t.playlists[s];
                      if (a.sidx) {
                        var o = ge(a.sidx);
                        i && i[o] && me(a, i[o].sidx, a.sidx.resolvedUri);
                      }
                      var l = no(r, a, Qo);
                      l && ((r = l), (n = !1));
                    }
                    return (
                      Qa(t, function (e, t, i, s) {
                        if (e.playlists && e.playlists.length) {
                          var a = e.playlists[0].id,
                            o = no(r, e.playlists[0], Qo);
                          o &&
                            (((r = o).mediaGroups[t][i][s].playlists[0] =
                              r.playlists[a]),
                            (n = !1));
                        }
                      }),
                      t.minimumUpdatePeriod !== e.minimumUpdatePeriod &&
                        (n = !1),
                      n ? null : r
                    );
                  })(o, a, this.masterPlaylistLoader_.sidxMapping_)),
                  (this.masterPlaylistLoader_.master = a || o);
                var l =
                  this.masterPlaylistLoader_.master.locations &&
                  this.masterPlaylistLoader_.master.locations[0];
                return (
                  l &&
                    l !== this.masterPlaylistLoader_.srcUrl &&
                    (this.masterPlaylistLoader_.srcUrl = l),
                  (!o ||
                    (a && a.minimumUpdatePeriod !== o.minimumUpdatePeriod)) &&
                    this.updateMinimumUpdatePeriodTimeout_(),
                  Boolean(a)
                );
              }),
              (i.updateMinimumUpdatePeriodTimeout_ = function () {
                var e = this.masterPlaylistLoader_;
                e.createMupOnMedia_ &&
                  (e.off('loadedmetadata', e.createMupOnMedia_),
                  (e.createMupOnMedia_ = null)),
                  e.minimumUpdatePeriodTimeout_ &&
                    (r().clearTimeout(e.minimumUpdatePeriodTimeout_),
                    (e.minimumUpdatePeriodTimeout_ = null));
                var t = e.master && e.master.minimumUpdatePeriod;
                0 === t &&
                  (e.media()
                    ? (t = 1e3 * e.media().targetDuration)
                    : ((e.createMupOnMedia_ =
                        e.updateMinimumUpdatePeriodTimeout_),
                      e.one('loadedmetadata', e.createMupOnMedia_))),
                  'number' != typeof t || t <= 0
                    ? t < 0 &&
                      this.logger_(
                        'found invalid minimumUpdatePeriod of ' +
                          t +
                          ', not setting a timeout',
                      )
                    : this.createMUPTimeout_(t);
              }),
              (i.createMUPTimeout_ = function (e) {
                var t = this.masterPlaylistLoader_;
                t.minimumUpdatePeriodTimeout_ = r().setTimeout(function () {
                  (t.minimumUpdatePeriodTimeout_ = null),
                    t.trigger('minimumUpdatePeriod'),
                    t.createMUPTimeout_(e);
                }, e);
              }),
              (i.refreshXml_ = function () {
                var e = this;
                this.requestMaster_(function (t, i) {
                  var n, r, s;
                  i &&
                    (e.media_ &&
                      (e.media_ =
                        e.masterPlaylistLoader_.master.playlists[e.media_.id]),
                    (e.masterPlaylistLoader_.sidxMapping_ =
                      ((n = e.masterPlaylistLoader_.master),
                      (r = e.masterPlaylistLoader_.sidxMapping_),
                      (s = Yo(n.playlists, r)),
                      Qa(n, function (e, t, i, n) {
                        if (e.playlists && e.playlists.length) {
                          var a = e.playlists;
                          s = Xo(s, Yo(a, r));
                        }
                      }),
                      s)),
                    e.addSidxSegments_(e.media(), e.state, function (t) {
                      e.refreshMedia_(e.media().id);
                    }));
                });
              }),
              (i.refreshMedia_ = function (e) {
                var t = this;
                if (!e) throw new Error('refreshMedia_ must take a media id');
                this.media_ && this.isMaster_ && this.handleMaster_();
                var i = this.masterPlaylistLoader_.master.playlists,
                  n = !this.media_ || this.media_ !== i[e];
                if (
                  (n ? (this.media_ = i[e]) : this.trigger('playlistunchanged'),
                  !this.mediaUpdateTimeout)
                ) {
                  !(function e() {
                    t.media().endList ||
                      (t.mediaUpdateTimeout = r().setTimeout(
                        function () {
                          t.trigger('mediaupdatetimeout'), e();
                        },
                        ro(t.media(), Boolean(n)),
                      ));
                  })();
                }
                this.trigger('loadedplaylist');
              }),
              t
            );
          })(Ko),
          Zo = {
            GOAL_BUFFER_LENGTH: 30,
            MAX_GOAL_BUFFER_LENGTH: 60,
            BACK_BUFFER_LENGTH: 30,
            GOAL_BUFFER_LENGTH_RATE: 1,
            INITIAL_BANDWIDTH: 4194304,
            BANDWIDTH_VARIANCE: 1.2,
            BUFFER_LOW_WATER_LINE: 0,
            MAX_BUFFER_LOW_WATER_LINE: 30,
            EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE: 16,
            BUFFER_LOW_WATER_LINE_RATE: 1,
            BUFFER_HIGH_WATER_LINE: 30,
          },
          $o = function (e) {
            for (
              var t = new Uint8Array(new ArrayBuffer(e.length)), i = 0;
              i < e.length;
              i++
            )
              t[i] = e.charCodeAt(i);
            return t.buffer;
          },
          el = function (e) {
            return (
              (e.on = e.addEventListener), (e.off = e.removeEventListener), e
            );
          },
          tl = function (e) {
            return function () {
              var t = (function (e) {
                  try {
                    // console.log(
                    //   'hi mom',
                    //   URL.createObjectURL(
                    //     new Blob([e], { type: 'application/javascript' }),
                    //   ),
                    // );
                    return URL.createObjectURL(
                      new Blob([e], { type: 'application/javascript' }),
                    );
                  } catch (i) {
                    var t = new BlobBuilder();
                    return t.append(e), URL.createObjectURL(t.getBlob());
                  }
                })(e),
                i = el(new Worker(t));
              i.objURL = t;
              var n = i.terminate;
              return (
                (i.on = i.addEventListener),
                (i.off = i.removeEventListener),
                (i.terminate = function () {
                  return URL.revokeObjectURL(t), n.call(this);
                }),
                i
              );
            };
          },
          il = function (e) {
            return (
              'var browserWorkerPolyFill = ' +
              el.toString() +
              ';\nbrowserWorkerPolyFill(self);\n' +
              e
            );
          },
          nl = function (e) {
            return e
              .toString()
              .replace(/^function.+?{/, '')
              .slice(0, -1);
          },
          rl = il(
            nl(function () {
              var e = function () {
                this.init = function () {
                  var e = {};
                  (this.on = function (t, i) {
                    e[t] || (e[t] = []), (e[t] = e[t].concat(i));
                  }),
                    (this.off = function (t, i) {
                      var n;
                      return (
                        !!e[t] &&
                        ((n = e[t].indexOf(i)),
                        (e[t] = e[t].slice()),
                        e[t].splice(n, 1),
                        n > -1)
                      );
                    }),
                    (this.trigger = function (t) {
                      var i, n, r, s;
                      if ((i = e[t]))
                        if (2 === arguments.length)
                          for (r = i.length, n = 0; n < r; ++n)
                            i[n].call(this, arguments[1]);
                        else {
                          for (
                            s = [], n = arguments.length, n = 1;
                            n < arguments.length;
                            ++n
                          )
                            s.push(arguments[n]);
                          for (r = i.length, n = 0; n < r; ++n)
                            i[n].apply(this, s);
                        }
                    }),
                    (this.dispose = function () {
                      e = {};
                    });
                };
              };
              (e.prototype.pipe = function (e) {
                return (
                  this.on('data', function (t) {
                    e.push(t);
                  }),
                  this.on('done', function (t) {
                    e.flush(t);
                  }),
                  this.on('partialdone', function (t) {
                    e.partialFlush(t);
                  }),
                  this.on('endedtimeline', function (t) {
                    e.endTimeline(t);
                  }),
                  this.on('reset', function (t) {
                    e.reset(t);
                  }),
                  e
                );
              }),
                (e.prototype.push = function (e) {
                  this.trigger('data', e);
                }),
                (e.prototype.flush = function (e) {
                  this.trigger('done', e);
                }),
                (e.prototype.partialFlush = function (e) {
                  this.trigger('partialdone', e);
                }),
                (e.prototype.endTimeline = function (e) {
                  this.trigger('endedtimeline', e);
                }),
                (e.prototype.reset = function (e) {
                  this.trigger('reset', e);
                });
              var t,
                i,
                n,
                r,
                s,
                a,
                o,
                l,
                u,
                d,
                c,
                h,
                p,
                f,
                m,
                g,
                v,
                y,
                A,
                b,
                T,
                S,
                w,
                k,
                _,
                C,
                E,
                j,
                P,
                I,
                x,
                L,
                D,
                R,
                O,
                M,
                N,
                B,
                U,
                F,
                W = e,
                V = Math.pow(2, 32) - 1;
              !(function () {
                var e;
                if (
                  ((S = {
                    avc1: [],
                    avcC: [],
                    btrt: [],
                    dinf: [],
                    dref: [],
                    esds: [],
                    ftyp: [],
                    hdlr: [],
                    mdat: [],
                    mdhd: [],
                    mdia: [],
                    mfhd: [],
                    minf: [],
                    moof: [],
                    moov: [],
                    mp4a: [],
                    mvex: [],
                    mvhd: [],
                    pasp: [],
                    sdtp: [],
                    smhd: [],
                    stbl: [],
                    stco: [],
                    stsc: [],
                    stsd: [],
                    stsz: [],
                    stts: [],
                    styp: [],
                    tfdt: [],
                    tfhd: [],
                    traf: [],
                    trak: [],
                    trun: [],
                    trex: [],
                    tkhd: [],
                    vmhd: [],
                  }),
                  'undefined' != typeof Uint8Array)
                ) {
                  for (e in S)
                    S.hasOwnProperty(e) &&
                      (S[e] = [
                        e.charCodeAt(0),
                        e.charCodeAt(1),
                        e.charCodeAt(2),
                        e.charCodeAt(3),
                      ]);
                  (w = new Uint8Array([
                    'i'.charCodeAt(0),
                    's'.charCodeAt(0),
                    'o'.charCodeAt(0),
                    'm'.charCodeAt(0),
                  ])),
                    (_ = new Uint8Array([
                      'a'.charCodeAt(0),
                      'v'.charCodeAt(0),
                      'c'.charCodeAt(0),
                      '1'.charCodeAt(0),
                    ])),
                    (k = new Uint8Array([0, 0, 0, 1])),
                    (C = new Uint8Array([
                      0, 0, 0, 0, 0, 0, 0, 0, 118, 105, 100, 101, 0, 0, 0, 0, 0,
                      0, 0, 0, 0, 0, 0, 0, 86, 105, 100, 101, 111, 72, 97, 110,
                      100, 108, 101, 114, 0,
                    ])),
                    (E = new Uint8Array([
                      0, 0, 0, 0, 0, 0, 0, 0, 115, 111, 117, 110, 0, 0, 0, 0, 0,
                      0, 0, 0, 0, 0, 0, 0, 83, 111, 117, 110, 100, 72, 97, 110,
                      100, 108, 101, 114, 0,
                    ])),
                    (j = { video: C, audio: E }),
                    (x = new Uint8Array([
                      0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 12, 117, 114, 108, 32, 0,
                      0, 0, 1,
                    ])),
                    (I = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0])),
                    (L = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0])),
                    (D = L),
                    (R = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0])),
                    (O = L),
                    (P = new Uint8Array([0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0]));
                }
              })(),
                (t = function (e) {
                  var t,
                    i,
                    n = [],
                    r = 0;
                  for (t = 1; t < arguments.length; t++) n.push(arguments[t]);
                  for (t = n.length; t--; ) r += n[t].byteLength;
                  for (
                    i = new Uint8Array(r + 8),
                      new DataView(
                        i.buffer,
                        i.byteOffset,
                        i.byteLength,
                      ).setUint32(0, i.byteLength),
                      i.set(e, 4),
                      t = 0,
                      r = 8;
                    t < n.length;
                    t++
                  )
                    i.set(n[t], r), (r += n[t].byteLength);
                  return i;
                }),
                (i = function () {
                  return t(S.dinf, t(S.dref, x));
                }),
                (n = function (e) {
                  return t(
                    S.esds,
                    new Uint8Array([
                      0,
                      0,
                      0,
                      0,
                      3,
                      25,
                      0,
                      0,
                      0,
                      4,
                      17,
                      64,
                      21,
                      0,
                      6,
                      0,
                      0,
                      0,
                      218,
                      192,
                      0,
                      0,
                      218,
                      192,
                      5,
                      2,
                      (e.audioobjecttype << 3) |
                        (e.samplingfrequencyindex >>> 1),
                      (e.samplingfrequencyindex << 7) | (e.channelcount << 3),
                      6,
                      1,
                      2,
                    ]),
                  );
                }),
                (m = function (e) {
                  return t(S.hdlr, j[e]);
                }),
                (f = function (e) {
                  var i = new Uint8Array([
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    2,
                    0,
                    0,
                    0,
                    3,
                    0,
                    1,
                    95,
                    144,
                    (e.duration >>> 24) & 255,
                    (e.duration >>> 16) & 255,
                    (e.duration >>> 8) & 255,
                    255 & e.duration,
                    85,
                    196,
                    0,
                    0,
                  ]);
                  return (
                    e.samplerate &&
                      ((i[12] = (e.samplerate >>> 24) & 255),
                      (i[13] = (e.samplerate >>> 16) & 255),
                      (i[14] = (e.samplerate >>> 8) & 255),
                      (i[15] = 255 & e.samplerate)),
                    t(S.mdhd, i)
                  );
                }),
                (p = function (e) {
                  return t(S.mdia, f(e), m(e.type), a(e));
                }),
                (s = function (e) {
                  return t(
                    S.mfhd,
                    new Uint8Array([
                      0,
                      0,
                      0,
                      0,
                      (4278190080 & e) >> 24,
                      (16711680 & e) >> 16,
                      (65280 & e) >> 8,
                      255 & e,
                    ]),
                  );
                }),
                (a = function (e) {
                  return t(
                    S.minf,
                    'video' === e.type ? t(S.vmhd, P) : t(S.smhd, I),
                    i(),
                    v(e),
                  );
                }),
                (o = function (e, i) {
                  for (var n = [], r = i.length; r--; ) n[r] = A(i[r]);
                  return t.apply(null, [S.moof, s(e)].concat(n));
                }),
                (l = function (e) {
                  for (var i = e.length, n = []; i--; ) n[i] = c(e[i]);
                  return t.apply(
                    null,
                    [S.moov, d(4294967295)].concat(n).concat(u(e)),
                  );
                }),
                (u = function (e) {
                  for (var i = e.length, n = []; i--; ) n[i] = b(e[i]);
                  return t.apply(null, [S.mvex].concat(n));
                }),
                (d = function (e) {
                  var i = new Uint8Array([
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    1,
                    0,
                    0,
                    0,
                    2,
                    0,
                    1,
                    95,
                    144,
                    (4278190080 & e) >> 24,
                    (16711680 & e) >> 16,
                    (65280 & e) >> 8,
                    255 & e,
                    0,
                    1,
                    0,
                    0,
                    1,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    1,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    1,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    64,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    255,
                    255,
                    255,
                    255,
                  ]);
                  return t(S.mvhd, i);
                }),
                (g = function (e) {
                  var i,
                    n,
                    r = e.samples || [],
                    s = new Uint8Array(4 + r.length);
                  for (n = 0; n < r.length; n++)
                    (i = r[n].flags),
                      (s[n + 4] =
                        (i.dependsOn << 4) |
                        (i.isDependedOn << 2) |
                        i.hasRedundancy);
                  return t(S.sdtp, s);
                }),
                (v = function (e) {
                  return t(
                    S.stbl,
                    y(e),
                    t(S.stts, O),
                    t(S.stsc, D),
                    t(S.stsz, R),
                    t(S.stco, L),
                  );
                }),
                (y = function (e) {
                  return t(
                    S.stsd,
                    new Uint8Array([0, 0, 0, 0, 0, 0, 0, 1]),
                    'video' === e.type ? M(e) : N(e),
                  );
                }),
                (M = function (e) {
                  var i,
                    n,
                    r = e.sps || [],
                    s = e.pps || [],
                    a = [],
                    o = [];
                  for (i = 0; i < r.length; i++)
                    a.push((65280 & r[i].byteLength) >>> 8),
                      a.push(255 & r[i].byteLength),
                      (a = a.concat(Array.prototype.slice.call(r[i])));
                  for (i = 0; i < s.length; i++)
                    o.push((65280 & s[i].byteLength) >>> 8),
                      o.push(255 & s[i].byteLength),
                      (o = o.concat(Array.prototype.slice.call(s[i])));
                  if (
                    ((n = [
                      S.avc1,
                      new Uint8Array([
                        0,
                        0,
                        0,
                        0,
                        0,
                        0,
                        0,
                        1,
                        0,
                        0,
                        0,
                        0,
                        0,
                        0,
                        0,
                        0,
                        0,
                        0,
                        0,
                        0,
                        0,
                        0,
                        0,
                        0,
                        (65280 & e.width) >> 8,
                        255 & e.width,
                        (65280 & e.height) >> 8,
                        255 & e.height,
                        0,
                        72,
                        0,
                        0,
                        0,
                        72,
                        0,
                        0,
                        0,
                        0,
                        0,
                        0,
                        0,
                        1,
                        19,
                        118,
                        105,
                        100,
                        101,
                        111,
                        106,
                        115,
                        45,
                        99,
                        111,
                        110,
                        116,
                        114,
                        105,
                        98,
                        45,
                        104,
                        108,
                        115,
                        0,
                        0,
                        0,
                        0,
                        0,
                        0,
                        0,
                        0,
                        0,
                        0,
                        0,
                        0,
                        0,
                        24,
                        17,
                        17,
                      ]),
                      t(
                        S.avcC,
                        new Uint8Array(
                          [
                            1,
                            e.profileIdc,
                            e.profileCompatibility,
                            e.levelIdc,
                            255,
                          ].concat([r.length], a, [s.length], o),
                        ),
                      ),
                      t(
                        S.btrt,
                        new Uint8Array([
                          0, 28, 156, 128, 0, 45, 198, 192, 0, 45, 198, 192,
                        ]),
                      ),
                    ]),
                    e.sarRatio)
                  ) {
                    var l = e.sarRatio[0],
                      u = e.sarRatio[1];
                    n.push(
                      t(
                        S.pasp,
                        new Uint8Array([
                          (4278190080 & l) >> 24,
                          (16711680 & l) >> 16,
                          (65280 & l) >> 8,
                          255 & l,
                          (4278190080 & u) >> 24,
                          (16711680 & u) >> 16,
                          (65280 & u) >> 8,
                          255 & u,
                        ]),
                      ),
                    );
                  }
                  return t.apply(null, n);
                }),
                (N = function (e) {
                  return t(
                    S.mp4a,
                    new Uint8Array([
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      1,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      0,
                      (65280 & e.channelcount) >> 8,
                      255 & e.channelcount,
                      (65280 & e.samplesize) >> 8,
                      255 & e.samplesize,
                      0,
                      0,
                      0,
                      0,
                      (65280 & e.samplerate) >> 8,
                      255 & e.samplerate,
                      0,
                      0,
                    ]),
                    n(e),
                  );
                }),
                (h = function (e) {
                  var i = new Uint8Array([
                    0,
                    0,
                    0,
                    7,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    (4278190080 & e.id) >> 24,
                    (16711680 & e.id) >> 16,
                    (65280 & e.id) >> 8,
                    255 & e.id,
                    0,
                    0,
                    0,
                    0,
                    (4278190080 & e.duration) >> 24,
                    (16711680 & e.duration) >> 16,
                    (65280 & e.duration) >> 8,
                    255 & e.duration,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    1,
                    0,
                    0,
                    0,
                    0,
                    1,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    1,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    64,
                    0,
                    0,
                    0,
                    (65280 & e.width) >> 8,
                    255 & e.width,
                    0,
                    0,
                    (65280 & e.height) >> 8,
                    255 & e.height,
                    0,
                    0,
                  ]);
                  return t(S.tkhd, i);
                }),
                (A = function (e) {
                  var i, n, r, s, a, o;
                  return (
                    (i = t(
                      S.tfhd,
                      new Uint8Array([
                        0,
                        0,
                        0,
                        58,
                        (4278190080 & e.id) >> 24,
                        (16711680 & e.id) >> 16,
                        (65280 & e.id) >> 8,
                        255 & e.id,
                        0,
                        0,
                        0,
                        1,
                        0,
                        0,
                        0,
                        0,
                        0,
                        0,
                        0,
                        0,
                        0,
                        0,
                        0,
                        0,
                      ]),
                    )),
                    (a = Math.floor(e.baseMediaDecodeTime / (V + 1))),
                    (o = Math.floor(e.baseMediaDecodeTime % (V + 1))),
                    (n = t(
                      S.tfdt,
                      new Uint8Array([
                        1,
                        0,
                        0,
                        0,
                        (a >>> 24) & 255,
                        (a >>> 16) & 255,
                        (a >>> 8) & 255,
                        255 & a,
                        (o >>> 24) & 255,
                        (o >>> 16) & 255,
                        (o >>> 8) & 255,
                        255 & o,
                      ]),
                    )),
                    92,
                    'audio' === e.type
                      ? ((r = T(e, 92)), t(S.traf, i, n, r))
                      : ((s = g(e)),
                        (r = T(e, s.length + 92)),
                        t(S.traf, i, n, r, s))
                  );
                }),
                (c = function (e) {
                  return (
                    (e.duration = e.duration || 4294967295),
                    t(S.trak, h(e), p(e))
                  );
                }),
                (b = function (e) {
                  var i = new Uint8Array([
                    0,
                    0,
                    0,
                    0,
                    (4278190080 & e.id) >> 24,
                    (16711680 & e.id) >> 16,
                    (65280 & e.id) >> 8,
                    255 & e.id,
                    0,
                    0,
                    0,
                    1,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    1,
                    0,
                    1,
                  ]);
                  return (
                    'video' !== e.type && (i[i.length - 1] = 0), t(S.trex, i)
                  );
                }),
                (F = function (e, t) {
                  var i = 0,
                    n = 0,
                    r = 0,
                    s = 0;
                  return (
                    e.length &&
                      (void 0 !== e[0].duration && (i = 1),
                      void 0 !== e[0].size && (n = 2),
                      void 0 !== e[0].flags && (r = 4),
                      void 0 !== e[0].compositionTimeOffset && (s = 8)),
                    [
                      0,
                      0,
                      i | n | r | s,
                      1,
                      (4278190080 & e.length) >>> 24,
                      (16711680 & e.length) >>> 16,
                      (65280 & e.length) >>> 8,
                      255 & e.length,
                      (4278190080 & t) >>> 24,
                      (16711680 & t) >>> 16,
                      (65280 & t) >>> 8,
                      255 & t,
                    ]
                  );
                }),
                (U = function (e, i) {
                  var n, r, s, a, o, l;
                  for (
                    i += 20 + 16 * (a = e.samples || []).length,
                      s = F(a, i),
                      (r = new Uint8Array(s.length + 16 * a.length)).set(s),
                      n = s.length,
                      l = 0;
                    l < a.length;
                    l++
                  )
                    (o = a[l]),
                      (r[n++] = (4278190080 & o.duration) >>> 24),
                      (r[n++] = (16711680 & o.duration) >>> 16),
                      (r[n++] = (65280 & o.duration) >>> 8),
                      (r[n++] = 255 & o.duration),
                      (r[n++] = (4278190080 & o.size) >>> 24),
                      (r[n++] = (16711680 & o.size) >>> 16),
                      (r[n++] = (65280 & o.size) >>> 8),
                      (r[n++] = 255 & o.size),
                      (r[n++] = (o.flags.isLeading << 2) | o.flags.dependsOn),
                      (r[n++] =
                        (o.flags.isDependedOn << 6) |
                        (o.flags.hasRedundancy << 4) |
                        (o.flags.paddingValue << 1) |
                        o.flags.isNonSyncSample),
                      (r[n++] = 61440 & o.flags.degradationPriority),
                      (r[n++] = 15 & o.flags.degradationPriority),
                      (r[n++] = (4278190080 & o.compositionTimeOffset) >>> 24),
                      (r[n++] = (16711680 & o.compositionTimeOffset) >>> 16),
                      (r[n++] = (65280 & o.compositionTimeOffset) >>> 8),
                      (r[n++] = 255 & o.compositionTimeOffset);
                  return t(S.trun, r);
                }),
                (B = function (e, i) {
                  var n, r, s, a, o, l;
                  for (
                    i += 20 + 8 * (a = e.samples || []).length,
                      s = F(a, i),
                      (n = new Uint8Array(s.length + 8 * a.length)).set(s),
                      r = s.length,
                      l = 0;
                    l < a.length;
                    l++
                  )
                    (o = a[l]),
                      (n[r++] = (4278190080 & o.duration) >>> 24),
                      (n[r++] = (16711680 & o.duration) >>> 16),
                      (n[r++] = (65280 & o.duration) >>> 8),
                      (n[r++] = 255 & o.duration),
                      (n[r++] = (4278190080 & o.size) >>> 24),
                      (n[r++] = (16711680 & o.size) >>> 16),
                      (n[r++] = (65280 & o.size) >>> 8),
                      (n[r++] = 255 & o.size);
                  return t(S.trun, n);
                }),
                (T = function (e, t) {
                  return 'audio' === e.type ? B(e, t) : U(e, t);
                });
              r = function () {
                return t(S.ftyp, w, k, w, _);
              };
              var H,
                q,
                z,
                K,
                X,
                Q,
                G,
                Y,
                J = function (e) {
                  return t(S.mdat, e);
                },
                Z = o,
                $ = function (e) {
                  var t,
                    i = r(),
                    n = l(e);
                  return (
                    (t = new Uint8Array(i.byteLength + n.byteLength)).set(i),
                    t.set(n, i.byteLength),
                    t
                  );
                },
                ee = function (e, t) {
                  var i = {
                    size: 0,
                    flags: {
                      isLeading: 0,
                      dependsOn: 1,
                      isDependedOn: 0,
                      hasRedundancy: 0,
                      degradationPriority: 0,
                      isNonSyncSample: 1,
                    },
                  };
                  return (
                    (i.dataOffset = t),
                    (i.compositionTimeOffset = e.pts - e.dts),
                    (i.duration = e.duration),
                    (i.size = 4 * e.length),
                    (i.size += e.byteLength),
                    e.keyFrame &&
                      ((i.flags.dependsOn = 2), (i.flags.isNonSyncSample = 0)),
                    i
                  );
                },
                te = function (e) {
                  var t,
                    i,
                    n = [],
                    r = [];
                  for (
                    r.byteLength = 0,
                      r.nalCount = 0,
                      r.duration = 0,
                      n.byteLength = 0,
                      t = 0;
                    t < e.length;
                    t++
                  )
                    'access_unit_delimiter_rbsp' === (i = e[t]).nalUnitType
                      ? (n.length &&
                          ((n.duration = i.dts - n.dts),
                          (r.byteLength += n.byteLength),
                          (r.nalCount += n.length),
                          (r.duration += n.duration),
                          r.push(n)),
                        ((n = [i]).byteLength = i.data.byteLength),
                        (n.pts = i.pts),
                        (n.dts = i.dts))
                      : ('slice_layer_without_partitioning_rbsp_idr' ===
                          i.nalUnitType && (n.keyFrame = !0),
                        (n.duration = i.dts - n.dts),
                        (n.byteLength += i.data.byteLength),
                        n.push(i));
                  return (
                    r.length &&
                      (!n.duration || n.duration <= 0) &&
                      (n.duration = r[r.length - 1].duration),
                    (r.byteLength += n.byteLength),
                    (r.nalCount += n.length),
                    (r.duration += n.duration),
                    r.push(n),
                    r
                  );
                },
                ie = function (e) {
                  var t,
                    i,
                    n = [],
                    r = [];
                  for (
                    n.byteLength = 0,
                      n.nalCount = 0,
                      n.duration = 0,
                      n.pts = e[0].pts,
                      n.dts = e[0].dts,
                      r.byteLength = 0,
                      r.nalCount = 0,
                      r.duration = 0,
                      r.pts = e[0].pts,
                      r.dts = e[0].dts,
                      t = 0;
                    t < e.length;
                    t++
                  )
                    (i = e[t]).keyFrame
                      ? (n.length &&
                          (r.push(n),
                          (r.byteLength += n.byteLength),
                          (r.nalCount += n.nalCount),
                          (r.duration += n.duration)),
                        ((n = [i]).nalCount = i.length),
                        (n.byteLength = i.byteLength),
                        (n.pts = i.pts),
                        (n.dts = i.dts),
                        (n.duration = i.duration))
                      : ((n.duration += i.duration),
                        (n.nalCount += i.length),
                        (n.byteLength += i.byteLength),
                        n.push(i));
                  return (
                    r.length &&
                      n.duration <= 0 &&
                      (n.duration = r[r.length - 1].duration),
                    (r.byteLength += n.byteLength),
                    (r.nalCount += n.nalCount),
                    (r.duration += n.duration),
                    r.push(n),
                    r
                  );
                },
                ne = function (e) {
                  var t;
                  return (
                    !e[0][0].keyFrame &&
                      e.length > 1 &&
                      ((t = e.shift()),
                      (e.byteLength -= t.byteLength),
                      (e.nalCount -= t.nalCount),
                      (e[0][0].dts = t.dts),
                      (e[0][0].pts = t.pts),
                      (e[0][0].duration += t.duration)),
                    e
                  );
                },
                re = function (e, t) {
                  var i,
                    n,
                    r,
                    s,
                    a,
                    o = t || 0,
                    l = [];
                  for (i = 0; i < e.length; i++)
                    for (s = e[i], n = 0; n < s.length; n++)
                      (a = s[n]), (o += (r = ee(a, o)).size), l.push(r);
                  return l;
                },
                se = function (e) {
                  var t,
                    i,
                    n,
                    r,
                    s,
                    a,
                    o = 0,
                    l = e.byteLength,
                    u = e.nalCount,
                    d = new Uint8Array(l + 4 * u),
                    c = new DataView(d.buffer);
                  for (t = 0; t < e.length; t++)
                    for (r = e[t], i = 0; i < r.length; i++)
                      for (s = r[i], n = 0; n < s.length; n++)
                        (a = s[n]),
                          c.setUint32(o, a.data.byteLength),
                          (o += 4),
                          d.set(a.data, o),
                          (o += a.data.byteLength);
                  return d;
                },
                ae = function (e, t) {
                  var i,
                    n = [];
                  return (i = ee(e, t || 0)), n.push(i), n;
                },
                oe = function (e) {
                  var t,
                    i,
                    n = 0,
                    r = e.byteLength,
                    s = e.length,
                    a = new Uint8Array(r + 4 * s),
                    o = new DataView(a.buffer);
                  for (t = 0; t < e.length; t++)
                    (i = e[t]),
                      o.setUint32(n, i.data.byteLength),
                      (n += 4),
                      a.set(i.data, n),
                      (n += i.data.byteLength);
                  return a;
                },
                le = [33, 16, 5, 32, 164, 27],
                ue = [33, 65, 108, 84, 1, 2, 4, 8, 168, 2, 4, 8, 17, 191, 252],
                de = function (e) {
                  for (var t = []; e--; ) t.push(0);
                  return t;
                },
                ce = function () {
                  if (!H) {
                    var e = {
                      96e3: [le, [227, 64], de(154), [56]],
                      88200: [le, [231], de(170), [56]],
                      64e3: [le, [248, 192], de(240), [56]],
                      48e3: [
                        le,
                        [255, 192],
                        de(268),
                        [55, 148, 128],
                        de(54),
                        [112],
                      ],
                      44100: [
                        le,
                        [255, 192],
                        de(268),
                        [55, 163, 128],
                        de(84),
                        [112],
                      ],
                      32e3: [
                        le,
                        [255, 192],
                        de(268),
                        [55, 234],
                        de(226),
                        [112],
                      ],
                      24e3: [
                        le,
                        [255, 192],
                        de(268),
                        [55, 255, 128],
                        de(268),
                        [111, 112],
                        de(126),
                        [224],
                      ],
                      16e3: [
                        le,
                        [255, 192],
                        de(268),
                        [55, 255, 128],
                        de(268),
                        [111, 255],
                        de(269),
                        [223, 108],
                        de(195),
                        [1, 192],
                      ],
                      12e3: [
                        ue,
                        de(268),
                        [3, 127, 248],
                        de(268),
                        [6, 255, 240],
                        de(268),
                        [13, 255, 224],
                        de(268),
                        [27, 253, 128],
                        de(259),
                        [56],
                      ],
                      11025: [
                        ue,
                        de(268),
                        [3, 127, 248],
                        de(268),
                        [6, 255, 240],
                        de(268),
                        [13, 255, 224],
                        de(268),
                        [27, 255, 192],
                        de(268),
                        [55, 175, 128],
                        de(108),
                        [112],
                      ],
                      8e3: [ue, de(268), [3, 121, 16], de(47), [7]],
                    };
                    (t = e),
                      (H = Object.keys(t).reduce(function (e, i) {
                        return (
                          (e[i] = new Uint8Array(
                            t[i].reduce(function (e, t) {
                              return e.concat(t);
                            }, []),
                          )),
                          e
                        );
                      }, {}));
                  }
                  var t;
                  return H;
                },
                he = 9e4;
              (Q = function (e, t) {
                return q(X(e, t));
              }),
                (G = function (e, t) {
                  return z(K(e), t);
                }),
                (Y = function (e, t, i) {
                  return K(i ? e : e - t);
                });
              var pe = he,
                fe = (q = function (e) {
                  return e * he;
                }),
                me =
                  ((z = function (e, t) {
                    return e * t;
                  }),
                  (K = function (e) {
                    return e / he;
                  })),
                ge =
                  ((X = function (e, t) {
                    return e / t;
                  }),
                  Q),
                ve = G,
                ye = Y,
                Ae = function (e, t, i, n) {
                  var r,
                    s,
                    a,
                    o,
                    l,
                    u = 0,
                    d = 0,
                    c = 0;
                  if (
                    t.length &&
                    ((r = ge(e.baseMediaDecodeTime, e.samplerate)),
                    (s = Math.ceil(pe / (e.samplerate / 1024))),
                    i &&
                      n &&
                      ((u = r - Math.max(i, n)),
                      (c = (d = Math.floor(u / s)) * s)),
                    !(d < 1 || c > pe / 2))
                  ) {
                    for (
                      (a = ce()[e.samplerate]) || (a = t[0].data), o = 0;
                      o < d;
                      o++
                    )
                      (l = t[0]),
                        t.splice(0, 0, {
                          data: a,
                          dts: l.dts - s,
                          pts: l.pts - s,
                        });
                    return (
                      (e.baseMediaDecodeTime -= Math.floor(
                        ve(c, e.samplerate),
                      )),
                      c
                    );
                  }
                },
                be = function (e, t, i) {
                  return t.minSegmentDts >= i
                    ? e
                    : ((t.minSegmentDts = 1 / 0),
                      e.filter(function (e) {
                        return (
                          e.dts >= i &&
                          ((t.minSegmentDts = Math.min(t.minSegmentDts, e.dts)),
                          (t.minSegmentPts = t.minSegmentDts),
                          !0)
                        );
                      }));
                },
                Te = function (e) {
                  var t,
                    i,
                    n = [];
                  for (t = 0; t < e.length; t++)
                    (i = e[t]),
                      n.push({ size: i.data.byteLength, duration: 1024 });
                  return n;
                },
                Se = function (e) {
                  var t,
                    i,
                    n = 0,
                    r = new Uint8Array(
                      (function (e) {
                        var t,
                          i = 0;
                        for (t = 0; t < e.length; t++)
                          i += e[t].data.byteLength;
                        return i;
                      })(e),
                    );
                  for (t = 0; t < e.length; t++)
                    (i = e[t]), r.set(i.data, n), (n += i.data.byteLength);
                  return r;
                },
                we = pe,
                ke = function (e) {
                  delete e.minSegmentDts,
                    delete e.maxSegmentDts,
                    delete e.minSegmentPts,
                    delete e.maxSegmentPts;
                },
                _e = function (e, t) {
                  var i,
                    n = e.minSegmentDts;
                  return (
                    t || (n -= e.timelineStartInfo.dts),
                    (i = e.timelineStartInfo.baseMediaDecodeTime),
                    (i += n),
                    (i = Math.max(0, i)),
                    'audio' === e.type &&
                      ((i *= e.samplerate / we), (i = Math.floor(i))),
                    i
                  );
                },
                Ce = function (e, t) {
                  'number' == typeof t.pts &&
                    (void 0 === e.timelineStartInfo.pts &&
                      (e.timelineStartInfo.pts = t.pts),
                    void 0 === e.minSegmentPts
                      ? (e.minSegmentPts = t.pts)
                      : (e.minSegmentPts = Math.min(e.minSegmentPts, t.pts)),
                    void 0 === e.maxSegmentPts
                      ? (e.maxSegmentPts = t.pts)
                      : (e.maxSegmentPts = Math.max(e.maxSegmentPts, t.pts))),
                    'number' == typeof t.dts &&
                      (void 0 === e.timelineStartInfo.dts &&
                        (e.timelineStartInfo.dts = t.dts),
                      void 0 === e.minSegmentDts
                        ? (e.minSegmentDts = t.dts)
                        : (e.minSegmentDts = Math.min(e.minSegmentDts, t.dts)),
                      void 0 === e.maxSegmentDts
                        ? (e.maxSegmentDts = t.dts)
                        : (e.maxSegmentDts = Math.max(e.maxSegmentDts, t.dts)));
                },
                Ee = function (e) {
                  for (
                    var t = 0,
                      i = { payloadType: -1, payloadSize: 0 },
                      n = 0,
                      r = 0;
                    t < e.byteLength && 128 !== e[t];

                  ) {
                    for (; 255 === e[t]; ) (n += 255), t++;
                    for (n += e[t++]; 255 === e[t]; ) (r += 255), t++;
                    if (((r += e[t++]), !i.payload && 4 === n)) {
                      if (
                        'GA94' ===
                        String.fromCharCode(
                          e[t + 3],
                          e[t + 4],
                          e[t + 5],
                          e[t + 6],
                        )
                      ) {
                        (i.payloadType = n),
                          (i.payloadSize = r),
                          (i.payload = e.subarray(t, t + r));
                        break;
                      }
                      i.payload = void 0;
                    }
                    (t += r), (n = 0), (r = 0);
                  }
                  return i;
                },
                je = function (e) {
                  return 181 !== e.payload[0] ||
                    49 != ((e.payload[1] << 8) | e.payload[2]) ||
                    'GA94' !==
                      String.fromCharCode(
                        e.payload[3],
                        e.payload[4],
                        e.payload[5],
                        e.payload[6],
                      ) ||
                    3 !== e.payload[7]
                    ? null
                    : e.payload.subarray(8, e.payload.length - 1);
                },
                Pe = function (e, t) {
                  var i,
                    n,
                    r,
                    s,
                    a = [];
                  if (!(64 & t[0])) return a;
                  for (n = 31 & t[0], i = 0; i < n; i++)
                    (s = { type: 3 & t[(r = 3 * i) + 2], pts: e }),
                      4 & t[r + 2] &&
                        ((s.ccData = (t[r + 3] << 8) | t[r + 4]), a.push(s));
                  return a;
                },
                Ie = function (e) {
                  for (var t, i, n = e.byteLength, r = [], s = 1; s < n - 2; )
                    0 === e[s] && 0 === e[s + 1] && 3 === e[s + 2]
                      ? (r.push(s + 2), (s += 2))
                      : s++;
                  if (0 === r.length) return e;
                  (t = n - r.length), (i = new Uint8Array(t));
                  var a = 0;
                  for (s = 0; s < t; a++, s++)
                    a === r[0] && (a++, r.shift()), (i[s] = e[a]);
                  return i;
                },
                xe = 4,
                Le = function e(t) {
                  (t = t || {}),
                    e.prototype.init.call(this),
                    (this.parse708captions_ =
                      'boolean' != typeof t.parse708captions ||
                      t.parse708captions),
                    (this.captionPackets_ = []),
                    (this.ccStreams_ = [
                      new Ve(0, 0),
                      new Ve(0, 1),
                      new Ve(1, 0),
                      new Ve(1, 1),
                    ]),
                    this.parse708captions_ && (this.cc708Stream_ = new Ne()),
                    this.reset(),
                    this.ccStreams_.forEach(function (e) {
                      e.on('data', this.trigger.bind(this, 'data')),
                        e.on(
                          'partialdone',
                          this.trigger.bind(this, 'partialdone'),
                        ),
                        e.on('done', this.trigger.bind(this, 'done'));
                    }, this),
                    this.parse708captions_ &&
                      (this.cc708Stream_.on(
                        'data',
                        this.trigger.bind(this, 'data'),
                      ),
                      this.cc708Stream_.on(
                        'partialdone',
                        this.trigger.bind(this, 'partialdone'),
                      ),
                      this.cc708Stream_.on(
                        'done',
                        this.trigger.bind(this, 'done'),
                      ));
                };
              ((Le.prototype = new W()).push = function (e) {
                var t, i, n;
                if (
                  'sei_rbsp' === e.nalUnitType &&
                  (t = Ee(e.escapedRBSP)).payload &&
                  t.payloadType === xe &&
                  (i = je(t))
                )
                  if (e.dts < this.latestDts_) this.ignoreNextEqualDts_ = !0;
                  else {
                    if (e.dts === this.latestDts_ && this.ignoreNextEqualDts_)
                      return (
                        this.numSameDts_--,
                        void (
                          this.numSameDts_ || (this.ignoreNextEqualDts_ = !1)
                        )
                      );
                    (n = Pe(e.pts, i)),
                      (this.captionPackets_ = this.captionPackets_.concat(n)),
                      this.latestDts_ !== e.dts && (this.numSameDts_ = 0),
                      this.numSameDts_++,
                      (this.latestDts_ = e.dts);
                  }
              }),
                (Le.prototype.flushCCStreams = function (e) {
                  this.ccStreams_.forEach(function (t) {
                    return 'flush' === e ? t.flush() : t.partialFlush();
                  }, this);
                }),
                (Le.prototype.flushStream = function (e) {
                  this.captionPackets_.length
                    ? (this.captionPackets_.forEach(function (e, t) {
                        e.presortIndex = t;
                      }),
                      this.captionPackets_.sort(function (e, t) {
                        return e.pts === t.pts
                          ? e.presortIndex - t.presortIndex
                          : e.pts - t.pts;
                      }),
                      this.captionPackets_.forEach(function (e) {
                        e.type < 2
                          ? this.dispatchCea608Packet(e)
                          : this.dispatchCea708Packet(e);
                      }, this),
                      (this.captionPackets_.length = 0),
                      this.flushCCStreams(e))
                    : this.flushCCStreams(e);
                }),
                (Le.prototype.flush = function () {
                  return this.flushStream('flush');
                }),
                (Le.prototype.partialFlush = function () {
                  return this.flushStream('partialFlush');
                }),
                (Le.prototype.reset = function () {
                  (this.latestDts_ = null),
                    (this.ignoreNextEqualDts_ = !1),
                    (this.numSameDts_ = 0),
                    (this.activeCea608Channel_ = [null, null]),
                    this.ccStreams_.forEach(function (e) {
                      e.reset();
                    });
                }),
                (Le.prototype.dispatchCea608Packet = function (e) {
                  this.setsTextOrXDSActive(e)
                    ? (this.activeCea608Channel_[e.type] = null)
                    : this.setsChannel1Active(e)
                      ? (this.activeCea608Channel_[e.type] = 0)
                      : this.setsChannel2Active(e) &&
                        (this.activeCea608Channel_[e.type] = 1),
                    null !== this.activeCea608Channel_[e.type] &&
                      this.ccStreams_[
                        (e.type << 1) + this.activeCea608Channel_[e.type]
                      ].push(e);
                }),
                (Le.prototype.setsChannel1Active = function (e) {
                  return 4096 == (30720 & e.ccData);
                }),
                (Le.prototype.setsChannel2Active = function (e) {
                  return 6144 == (30720 & e.ccData);
                }),
                (Le.prototype.setsTextOrXDSActive = function (e) {
                  return (
                    256 == (28928 & e.ccData) ||
                    4138 == (30974 & e.ccData) ||
                    6186 == (30974 & e.ccData)
                  );
                }),
                (Le.prototype.dispatchCea708Packet = function (e) {
                  this.parse708captions_ && this.cc708Stream_.push(e);
                });
              var De = {
                  127: 9834,
                  4128: 32,
                  4129: 160,
                  4133: 8230,
                  4138: 352,
                  4140: 338,
                  4144: 9608,
                  4145: 8216,
                  4146: 8217,
                  4147: 8220,
                  4148: 8221,
                  4149: 8226,
                  4153: 8482,
                  4154: 353,
                  4156: 339,
                  4157: 8480,
                  4159: 376,
                  4214: 8539,
                  4215: 8540,
                  4216: 8541,
                  4217: 8542,
                  4218: 9168,
                  4219: 9124,
                  4220: 9123,
                  4221: 9135,
                  4222: 9126,
                  4223: 9121,
                  4256: 12600,
                },
                Re = function (e) {
                  return (32 <= e && e <= 127) || (160 <= e && e <= 255);
                },
                Oe = function (e) {
                  (this.windowNum = e), this.reset();
                };
              (Oe.prototype.reset = function () {
                this.clearText(),
                  (this.pendingNewLine = !1),
                  (this.winAttr = {}),
                  (this.penAttr = {}),
                  (this.penLoc = {}),
                  (this.penColor = {}),
                  (this.visible = 0),
                  (this.rowLock = 0),
                  (this.columnLock = 0),
                  (this.priority = 0),
                  (this.relativePositioning = 0),
                  (this.anchorVertical = 0),
                  (this.anchorHorizontal = 0),
                  (this.anchorPoint = 0),
                  (this.rowCount = 1),
                  (this.virtualRowCount = this.rowCount + 1),
                  (this.columnCount = 41),
                  (this.windowStyle = 0),
                  (this.penStyle = 0);
              }),
                (Oe.prototype.getText = function () {
                  return this.rows.join('\n');
                }),
                (Oe.prototype.clearText = function () {
                  (this.rows = ['']), (this.rowIdx = 0);
                }),
                (Oe.prototype.newLine = function (e) {
                  for (
                    this.rows.length >= this.virtualRowCount &&
                      'function' == typeof this.beforeRowOverflow &&
                      this.beforeRowOverflow(e),
                      this.rows.length > 0 &&
                        (this.rows.push(''), this.rowIdx++);
                    this.rows.length > this.virtualRowCount;

                  )
                    this.rows.shift(), this.rowIdx--;
                }),
                (Oe.prototype.isEmpty = function () {
                  return (
                    0 === this.rows.length ||
                    (1 === this.rows.length && '' === this.rows[0])
                  );
                }),
                (Oe.prototype.addText = function (e) {
                  this.rows[this.rowIdx] += e;
                }),
                (Oe.prototype.backspace = function () {
                  if (!this.isEmpty()) {
                    var e = this.rows[this.rowIdx];
                    this.rows[this.rowIdx] = e.substr(0, e.length - 1);
                  }
                });
              var Me = function (e) {
                (this.serviceNum = e),
                  (this.text = ''),
                  (this.currentWindow = new Oe(-1)),
                  (this.windows = []);
              };
              (Me.prototype.init = function (e, t) {
                this.startPts = e;
                for (var i = 0; i < 8; i++)
                  (this.windows[i] = new Oe(i)),
                    'function' == typeof t &&
                      (this.windows[i].beforeRowOverflow = t);
              }),
                (Me.prototype.setCurrentWindow = function (e) {
                  this.currentWindow = this.windows[e];
                });
              var Ne = function e() {
                e.prototype.init.call(this);
                var t = this;
                (this.current708Packet = null),
                  (this.services = {}),
                  (this.push = function (e) {
                    3 === e.type
                      ? (t.new708Packet(), t.add708Bytes(e))
                      : (null === t.current708Packet && t.new708Packet(),
                        t.add708Bytes(e));
                  });
              };
              (Ne.prototype = new W()),
                (Ne.prototype.new708Packet = function () {
                  null !== this.current708Packet && this.push708Packet(),
                    (this.current708Packet = { data: [], ptsVals: [] });
                }),
                (Ne.prototype.add708Bytes = function (e) {
                  var t = e.ccData,
                    i = t >>> 8,
                    n = 255 & t;
                  this.current708Packet.ptsVals.push(e.pts),
                    this.current708Packet.data.push(i),
                    this.current708Packet.data.push(n);
                }),
                (Ne.prototype.push708Packet = function () {
                  var e = this.current708Packet,
                    t = e.data,
                    i = null,
                    n = null,
                    r = 0,
                    s = t[r++];
                  for (e.seq = s >> 6, e.sizeCode = 63 & s; r < t.length; r++)
                    (n = 31 & (s = t[r++])),
                      7 === (i = s >> 5) && n > 0 && (i = s = t[r++]),
                      this.pushServiceBlock(i, r, n),
                      n > 0 && (r += n - 1);
                }),
                (Ne.prototype.pushServiceBlock = function (e, t, i) {
                  var n,
                    r = t,
                    s = this.current708Packet.data,
                    a = this.services[e];
                  for (
                    a || (a = this.initService(e, r));
                    r < t + i && r < s.length;
                    r++
                  )
                    (n = s[r]),
                      Re(n)
                        ? (r = this.handleText(r, a))
                        : 16 === n
                          ? (r = this.extendedCommands(r, a))
                          : 128 <= n && n <= 135
                            ? (r = this.setCurrentWindow(r, a))
                            : 152 <= n && n <= 159
                              ? (r = this.defineWindow(r, a))
                              : 136 === n
                                ? (r = this.clearWindows(r, a))
                                : 140 === n
                                  ? (r = this.deleteWindows(r, a))
                                  : 137 === n
                                    ? (r = this.displayWindows(r, a))
                                    : 138 === n
                                      ? (r = this.hideWindows(r, a))
                                      : 139 === n
                                        ? (r = this.toggleWindows(r, a))
                                        : 151 === n
                                          ? (r = this.setWindowAttributes(r, a))
                                          : 144 === n
                                            ? (r = this.setPenAttributes(r, a))
                                            : 145 === n
                                              ? (r = this.setPenColor(r, a))
                                              : 146 === n
                                                ? (r = this.setPenLocation(
                                                    r,
                                                    a,
                                                  ))
                                                : 143 === n
                                                  ? (a = this.reset(r, a))
                                                  : 8 === n
                                                    ? a.currentWindow.backspace()
                                                    : 12 === n
                                                      ? a.currentWindow.clearText()
                                                      : 13 === n
                                                        ? (a.currentWindow.pendingNewLine =
                                                            !0)
                                                        : 14 === n
                                                          ? a.currentWindow.clearText()
                                                          : 141 === n && r++;
                }),
                (Ne.prototype.extendedCommands = function (e, t) {
                  var i = this.current708Packet.data[++e];
                  return Re(i) && (e = this.handleText(e, t, !0)), e;
                }),
                (Ne.prototype.getPts = function (e) {
                  return this.current708Packet.ptsVals[Math.floor(e / 2)];
                }),
                (Ne.prototype.initService = function (e, t) {
                  var i = this;
                  return (
                    (this.services[e] = new Me(e)),
                    this.services[e].init(this.getPts(t), function (t) {
                      i.flushDisplayed(t, i.services[e]);
                    }),
                    this.services[e]
                  );
                }),
                (Ne.prototype.handleText = function (e, t, i) {
                  var n,
                    r,
                    s = this.current708Packet.data[e],
                    a =
                      ((r = De[(n = (i ? 4096 : 0) | s)] || n),
                      4096 & n && n === r ? '' : String.fromCharCode(r)),
                    o = t.currentWindow;
                  return (
                    o.pendingNewLine &&
                      !o.isEmpty() &&
                      o.newLine(this.getPts(e)),
                    (o.pendingNewLine = !1),
                    o.addText(a),
                    e
                  );
                }),
                (Ne.prototype.setCurrentWindow = function (e, t) {
                  var i = 7 & this.current708Packet.data[e];
                  return t.setCurrentWindow(i), e;
                }),
                (Ne.prototype.defineWindow = function (e, t) {
                  var i = this.current708Packet.data,
                    n = i[e],
                    r = 7 & n;
                  t.setCurrentWindow(r);
                  var s = t.currentWindow;
                  return (
                    (n = i[++e]),
                    (s.visible = (32 & n) >> 5),
                    (s.rowLock = (16 & n) >> 4),
                    (s.columnLock = (8 & n) >> 3),
                    (s.priority = 7 & n),
                    (n = i[++e]),
                    (s.relativePositioning = (128 & n) >> 7),
                    (s.anchorVertical = 127 & n),
                    (n = i[++e]),
                    (s.anchorHorizontal = n),
                    (n = i[++e]),
                    (s.anchorPoint = (240 & n) >> 4),
                    (s.rowCount = 15 & n),
                    (n = i[++e]),
                    (s.columnCount = 63 & n),
                    (n = i[++e]),
                    (s.windowStyle = (56 & n) >> 3),
                    (s.penStyle = 7 & n),
                    (s.virtualRowCount = s.rowCount + 1),
                    e
                  );
                }),
                (Ne.prototype.setWindowAttributes = function (e, t) {
                  var i = this.current708Packet.data,
                    n = i[e],
                    r = t.currentWindow.winAttr;
                  return (
                    (n = i[++e]),
                    (r.fillOpacity = (192 & n) >> 6),
                    (r.fillRed = (48 & n) >> 4),
                    (r.fillGreen = (12 & n) >> 2),
                    (r.fillBlue = 3 & n),
                    (n = i[++e]),
                    (r.borderType = (192 & n) >> 6),
                    (r.borderRed = (48 & n) >> 4),
                    (r.borderGreen = (12 & n) >> 2),
                    (r.borderBlue = 3 & n),
                    (n = i[++e]),
                    (r.borderType += (128 & n) >> 5),
                    (r.wordWrap = (64 & n) >> 6),
                    (r.printDirection = (48 & n) >> 4),
                    (r.scrollDirection = (12 & n) >> 2),
                    (r.justify = 3 & n),
                    (n = i[++e]),
                    (r.effectSpeed = (240 & n) >> 4),
                    (r.effectDirection = (12 & n) >> 2),
                    (r.displayEffect = 3 & n),
                    e
                  );
                }),
                (Ne.prototype.flushDisplayed = function (e, t) {
                  for (var i = [], n = 0; n < 8; n++)
                    t.windows[n].visible &&
                      !t.windows[n].isEmpty() &&
                      i.push(t.windows[n].getText());
                  (t.endPts = e),
                    (t.text = i.join('\n\n')),
                    this.pushCaption(t),
                    (t.startPts = e);
                }),
                (Ne.prototype.pushCaption = function (e) {
                  '' !== e.text &&
                    (this.trigger('data', {
                      startPts: e.startPts,
                      endPts: e.endPts,
                      text: e.text,
                      stream: 'cc708_' + e.serviceNum,
                    }),
                    (e.text = ''),
                    (e.startPts = e.endPts));
                }),
                (Ne.prototype.displayWindows = function (e, t) {
                  var i = this.current708Packet.data[++e],
                    n = this.getPts(e);
                  this.flushDisplayed(n, t);
                  for (var r = 0; r < 8; r++)
                    i & (1 << r) && (t.windows[r].visible = 1);
                  return e;
                }),
                (Ne.prototype.hideWindows = function (e, t) {
                  var i = this.current708Packet.data[++e],
                    n = this.getPts(e);
                  this.flushDisplayed(n, t);
                  for (var r = 0; r < 8; r++)
                    i & (1 << r) && (t.windows[r].visible = 0);
                  return e;
                }),
                (Ne.prototype.toggleWindows = function (e, t) {
                  var i = this.current708Packet.data[++e],
                    n = this.getPts(e);
                  this.flushDisplayed(n, t);
                  for (var r = 0; r < 8; r++)
                    i & (1 << r) && (t.windows[r].visible ^= 1);
                  return e;
                }),
                (Ne.prototype.clearWindows = function (e, t) {
                  var i = this.current708Packet.data[++e],
                    n = this.getPts(e);
                  this.flushDisplayed(n, t);
                  for (var r = 0; r < 8; r++)
                    i & (1 << r) && t.windows[r].clearText();
                  return e;
                }),
                (Ne.prototype.deleteWindows = function (e, t) {
                  var i = this.current708Packet.data[++e],
                    n = this.getPts(e);
                  this.flushDisplayed(n, t);
                  for (var r = 0; r < 8; r++)
                    i & (1 << r) && t.windows[r].reset();
                  return e;
                }),
                (Ne.prototype.setPenAttributes = function (e, t) {
                  var i = this.current708Packet.data,
                    n = i[e],
                    r = t.currentWindow.penAttr;
                  return (
                    (n = i[++e]),
                    (r.textTag = (240 & n) >> 4),
                    (r.offset = (12 & n) >> 2),
                    (r.penSize = 3 & n),
                    (n = i[++e]),
                    (r.italics = (128 & n) >> 7),
                    (r.underline = (64 & n) >> 6),
                    (r.edgeType = (56 & n) >> 3),
                    (r.fontStyle = 7 & n),
                    e
                  );
                }),
                (Ne.prototype.setPenColor = function (e, t) {
                  var i = this.current708Packet.data,
                    n = i[e],
                    r = t.currentWindow.penColor;
                  return (
                    (n = i[++e]),
                    (r.fgOpacity = (192 & n) >> 6),
                    (r.fgRed = (48 & n) >> 4),
                    (r.fgGreen = (12 & n) >> 2),
                    (r.fgBlue = 3 & n),
                    (n = i[++e]),
                    (r.bgOpacity = (192 & n) >> 6),
                    (r.bgRed = (48 & n) >> 4),
                    (r.bgGreen = (12 & n) >> 2),
                    (r.bgBlue = 3 & n),
                    (n = i[++e]),
                    (r.edgeRed = (48 & n) >> 4),
                    (r.edgeGreen = (12 & n) >> 2),
                    (r.edgeBlue = 3 & n),
                    e
                  );
                }),
                (Ne.prototype.setPenLocation = function (e, t) {
                  var i = this.current708Packet.data,
                    n = i[e],
                    r = t.currentWindow.penLoc;
                  return (
                    (t.currentWindow.pendingNewLine = !0),
                    (n = i[++e]),
                    (r.row = 15 & n),
                    (n = i[++e]),
                    (r.column = 63 & n),
                    e
                  );
                }),
                (Ne.prototype.reset = function (e, t) {
                  var i = this.getPts(e);
                  return (
                    this.flushDisplayed(i, t), this.initService(t.serviceNum, e)
                  );
                });
              var Be = {
                  42: 225,
                  92: 233,
                  94: 237,
                  95: 243,
                  96: 250,
                  123: 231,
                  124: 247,
                  125: 209,
                  126: 241,
                  127: 9608,
                  304: 174,
                  305: 176,
                  306: 189,
                  307: 191,
                  308: 8482,
                  309: 162,
                  310: 163,
                  311: 9834,
                  312: 224,
                  313: 160,
                  314: 232,
                  315: 226,
                  316: 234,
                  317: 238,
                  318: 244,
                  319: 251,
                  544: 193,
                  545: 201,
                  546: 211,
                  547: 218,
                  548: 220,
                  549: 252,
                  550: 8216,
                  551: 161,
                  552: 42,
                  553: 39,
                  554: 8212,
                  555: 169,
                  556: 8480,
                  557: 8226,
                  558: 8220,
                  559: 8221,
                  560: 192,
                  561: 194,
                  562: 199,
                  563: 200,
                  564: 202,
                  565: 203,
                  566: 235,
                  567: 206,
                  568: 207,
                  569: 239,
                  570: 212,
                  571: 217,
                  572: 249,
                  573: 219,
                  574: 171,
                  575: 187,
                  800: 195,
                  801: 227,
                  802: 205,
                  803: 204,
                  804: 236,
                  805: 210,
                  806: 242,
                  807: 213,
                  808: 245,
                  809: 123,
                  810: 125,
                  811: 92,
                  812: 94,
                  813: 95,
                  814: 124,
                  815: 126,
                  816: 196,
                  817: 228,
                  818: 214,
                  819: 246,
                  820: 223,
                  821: 165,
                  822: 164,
                  823: 9474,
                  824: 197,
                  825: 229,
                  826: 216,
                  827: 248,
                  828: 9484,
                  829: 9488,
                  830: 9492,
                  831: 9496,
                },
                Ue = function (e) {
                  return null === e
                    ? ''
                    : ((e = Be[e] || e), String.fromCharCode(e));
                },
                Fe = [
                  4352, 4384, 4608, 4640, 5376, 5408, 5632, 5664, 5888, 5920,
                  4096, 4864, 4896, 5120, 5152,
                ],
                We = function () {
                  for (var e = [], t = 15; t--; ) e.push('');
                  return e;
                },
                Ve = function e(t, i) {
                  e.prototype.init.call(this),
                    (this.field_ = t || 0),
                    (this.dataChannel_ = i || 0),
                    (this.name_ =
                      'CC' + (1 + ((this.field_ << 1) | this.dataChannel_))),
                    this.setConstants(),
                    this.reset(),
                    (this.push = function (e) {
                      var t, i, n, r, s;
                      if ((t = 32639 & e.ccData) !== this.lastControlCode_) {
                        if (
                          (4096 == (61440 & t)
                            ? (this.lastControlCode_ = t)
                            : t !== this.PADDING_ &&
                              (this.lastControlCode_ = null),
                          (n = t >>> 8),
                          (r = 255 & t),
                          t !== this.PADDING_)
                        )
                          if (t === this.RESUME_CAPTION_LOADING_)
                            this.mode_ = 'popOn';
                          else if (t === this.END_OF_CAPTION_)
                            (this.mode_ = 'popOn'),
                              this.clearFormatting(e.pts),
                              this.flushDisplayed(e.pts),
                              (i = this.displayed_),
                              (this.displayed_ = this.nonDisplayed_),
                              (this.nonDisplayed_ = i),
                              (this.startPts_ = e.pts);
                          else if (t === this.ROLL_UP_2_ROWS_)
                            (this.rollUpRows_ = 2), this.setRollUp(e.pts);
                          else if (t === this.ROLL_UP_3_ROWS_)
                            (this.rollUpRows_ = 3), this.setRollUp(e.pts);
                          else if (t === this.ROLL_UP_4_ROWS_)
                            (this.rollUpRows_ = 4), this.setRollUp(e.pts);
                          else if (t === this.CARRIAGE_RETURN_)
                            this.clearFormatting(e.pts),
                              this.flushDisplayed(e.pts),
                              this.shiftRowsUp_(),
                              (this.startPts_ = e.pts);
                          else if (t === this.BACKSPACE_)
                            'popOn' === this.mode_
                              ? (this.nonDisplayed_[this.row_] =
                                  this.nonDisplayed_[this.row_].slice(0, -1))
                              : (this.displayed_[this.row_] = this.displayed_[
                                  this.row_
                                ].slice(0, -1));
                          else if (t === this.ERASE_DISPLAYED_MEMORY_)
                            this.flushDisplayed(e.pts),
                              (this.displayed_ = We());
                          else if (t === this.ERASE_NON_DISPLAYED_MEMORY_)
                            this.nonDisplayed_ = We();
                          else if (t === this.RESUME_DIRECT_CAPTIONING_)
                            'paintOn' !== this.mode_ &&
                              (this.flushDisplayed(e.pts),
                              (this.displayed_ = We())),
                              (this.mode_ = 'paintOn'),
                              (this.startPts_ = e.pts);
                          else if (this.isSpecialCharacter(n, r))
                            (s = Ue((n = (3 & n) << 8) | r)),
                              this[this.mode_](e.pts, s),
                              this.column_++;
                          else if (this.isExtCharacter(n, r))
                            'popOn' === this.mode_
                              ? (this.nonDisplayed_[this.row_] =
                                  this.nonDisplayed_[this.row_].slice(0, -1))
                              : (this.displayed_[this.row_] = this.displayed_[
                                  this.row_
                                ].slice(0, -1)),
                              (s = Ue((n = (3 & n) << 8) | r)),
                              this[this.mode_](e.pts, s),
                              this.column_++;
                          else if (this.isMidRowCode(n, r))
                            this.clearFormatting(e.pts),
                              this[this.mode_](e.pts, ' '),
                              this.column_++,
                              14 == (14 & r) &&
                                this.addFormatting(e.pts, ['i']),
                              1 == (1 & r) && this.addFormatting(e.pts, ['u']);
                          else if (this.isOffsetControlCode(n, r))
                            this.column_ += 3 & r;
                          else if (this.isPAC(n, r)) {
                            var a = Fe.indexOf(7968 & t);
                            'rollUp' === this.mode_ &&
                              (a - this.rollUpRows_ + 1 < 0 &&
                                (a = this.rollUpRows_ - 1),
                              this.setRollUp(e.pts, a)),
                              a !== this.row_ &&
                                (this.clearFormatting(e.pts), (this.row_ = a)),
                              1 & r &&
                                -1 === this.formatting_.indexOf('u') &&
                                this.addFormatting(e.pts, ['u']),
                              16 == (16 & t) &&
                                (this.column_ = 4 * ((14 & t) >> 1)),
                              this.isColorPAC(r) &&
                                14 == (14 & r) &&
                                this.addFormatting(e.pts, ['i']);
                          } else
                            this.isNormalChar(n) &&
                              (0 === r && (r = null),
                              (s = Ue(n)),
                              (s += Ue(r)),
                              this[this.mode_](e.pts, s),
                              (this.column_ += s.length));
                      } else this.lastControlCode_ = null;
                    });
                };
              (Ve.prototype = new W()),
                (Ve.prototype.flushDisplayed = function (e) {
                  var t = this.displayed_
                    .map(function (e) {
                      try {
                        return e.trim();
                      } catch (e) {
                        return console.error('Skipping malformed caption.'), '';
                      }
                    })
                    .join('\n')
                    .replace(/^\n+|\n+$/g, '');
                  t.length &&
                    this.trigger('data', {
                      startPts: this.startPts_,
                      endPts: e,
                      text: t,
                      stream: this.name_,
                    });
                }),
                (Ve.prototype.reset = function () {
                  (this.mode_ = 'popOn'),
                    (this.topRow_ = 0),
                    (this.startPts_ = 0),
                    (this.displayed_ = We()),
                    (this.nonDisplayed_ = We()),
                    (this.lastControlCode_ = null),
                    (this.column_ = 0),
                    (this.row_ = 14),
                    (this.rollUpRows_ = 2),
                    (this.formatting_ = []);
                }),
                (Ve.prototype.setConstants = function () {
                  0 === this.dataChannel_
                    ? ((this.BASE_ = 16),
                      (this.EXT_ = 17),
                      (this.CONTROL_ = (20 | this.field_) << 8),
                      (this.OFFSET_ = 23))
                    : 1 === this.dataChannel_ &&
                      ((this.BASE_ = 24),
                      (this.EXT_ = 25),
                      (this.CONTROL_ = (28 | this.field_) << 8),
                      (this.OFFSET_ = 31)),
                    (this.PADDING_ = 0),
                    (this.RESUME_CAPTION_LOADING_ = 32 | this.CONTROL_),
                    (this.END_OF_CAPTION_ = 47 | this.CONTROL_),
                    (this.ROLL_UP_2_ROWS_ = 37 | this.CONTROL_),
                    (this.ROLL_UP_3_ROWS_ = 38 | this.CONTROL_),
                    (this.ROLL_UP_4_ROWS_ = 39 | this.CONTROL_),
                    (this.CARRIAGE_RETURN_ = 45 | this.CONTROL_),
                    (this.RESUME_DIRECT_CAPTIONING_ = 41 | this.CONTROL_),
                    (this.BACKSPACE_ = 33 | this.CONTROL_),
                    (this.ERASE_DISPLAYED_MEMORY_ = 44 | this.CONTROL_),
                    (this.ERASE_NON_DISPLAYED_MEMORY_ = 46 | this.CONTROL_);
                }),
                (Ve.prototype.isSpecialCharacter = function (e, t) {
                  return e === this.EXT_ && t >= 48 && t <= 63;
                }),
                (Ve.prototype.isExtCharacter = function (e, t) {
                  return (
                    (e === this.EXT_ + 1 || e === this.EXT_ + 2) &&
                    t >= 32 &&
                    t <= 63
                  );
                }),
                (Ve.prototype.isMidRowCode = function (e, t) {
                  return e === this.EXT_ && t >= 32 && t <= 47;
                }),
                (Ve.prototype.isOffsetControlCode = function (e, t) {
                  return e === this.OFFSET_ && t >= 33 && t <= 35;
                }),
                (Ve.prototype.isPAC = function (e, t) {
                  return (
                    e >= this.BASE_ && e < this.BASE_ + 8 && t >= 64 && t <= 127
                  );
                }),
                (Ve.prototype.isColorPAC = function (e) {
                  return (e >= 64 && e <= 79) || (e >= 96 && e <= 127);
                }),
                (Ve.prototype.isNormalChar = function (e) {
                  return e >= 32 && e <= 127;
                }),
                (Ve.prototype.setRollUp = function (e, t) {
                  if (
                    ('rollUp' !== this.mode_ &&
                      ((this.row_ = 14),
                      (this.mode_ = 'rollUp'),
                      this.flushDisplayed(e),
                      (this.nonDisplayed_ = We()),
                      (this.displayed_ = We())),
                    void 0 !== t && t !== this.row_)
                  )
                    for (var i = 0; i < this.rollUpRows_; i++)
                      (this.displayed_[t - i] = this.displayed_[this.row_ - i]),
                        (this.displayed_[this.row_ - i] = '');
                  void 0 === t && (t = this.row_),
                    (this.topRow_ = t - this.rollUpRows_ + 1);
                }),
                (Ve.prototype.addFormatting = function (e, t) {
                  this.formatting_ = this.formatting_.concat(t);
                  var i = t.reduce(function (e, t) {
                    return e + '<' + t + '>';
                  }, '');
                  this[this.mode_](e, i);
                }),
                (Ve.prototype.clearFormatting = function (e) {
                  if (this.formatting_.length) {
                    var t = this.formatting_.reverse().reduce(function (e, t) {
                      return e + '</' + t + '>';
                    }, '');
                    (this.formatting_ = []), this[this.mode_](e, t);
                  }
                }),
                (Ve.prototype.popOn = function (e, t) {
                  var i = this.nonDisplayed_[this.row_];
                  (i += t), (this.nonDisplayed_[this.row_] = i);
                }),
                (Ve.prototype.rollUp = function (e, t) {
                  var i = this.displayed_[this.row_];
                  (i += t), (this.displayed_[this.row_] = i);
                }),
                (Ve.prototype.shiftRowsUp_ = function () {
                  var e;
                  for (e = 0; e < this.topRow_; e++) this.displayed_[e] = '';
                  for (e = this.row_ + 1; e < 15; e++) this.displayed_[e] = '';
                  for (e = this.topRow_; e < this.row_; e++)
                    this.displayed_[e] = this.displayed_[e + 1];
                  this.displayed_[this.row_] = '';
                }),
                (Ve.prototype.paintOn = function (e, t) {
                  var i = this.displayed_[this.row_];
                  (i += t), (this.displayed_[this.row_] = i);
                });
              var He = {
                  CaptionStream: Le,
                  Cea608Stream: Ve,
                  Cea708Stream: Ne,
                },
                qe = {
                  H264_STREAM_TYPE: 27,
                  ADTS_STREAM_TYPE: 15,
                  METADATA_STREAM_TYPE: 21,
                },
                ze = 'shared',
                Ke = function (e, t) {
                  var i = 1;
                  for (e > t && (i = -1); Math.abs(t - e) > 4294967296; )
                    e += 8589934592 * i;
                  return e;
                },
                Xe = function e(t) {
                  var i, n;
                  e.prototype.init.call(this),
                    (this.type_ = t || ze),
                    (this.push = function (e) {
                      (this.type_ !== ze && e.type !== this.type_) ||
                        (void 0 === n && (n = e.dts),
                        (e.dts = Ke(e.dts, n)),
                        (e.pts = Ke(e.pts, n)),
                        (i = e.dts),
                        this.trigger('data', e));
                    }),
                    (this.flush = function () {
                      (n = i), this.trigger('done');
                    }),
                    (this.endTimeline = function () {
                      this.flush(), this.trigger('endedtimeline');
                    }),
                    (this.discontinuity = function () {
                      (n = void 0), (i = void 0);
                    }),
                    (this.reset = function () {
                      this.discontinuity(), this.trigger('reset');
                    });
                };
              Xe.prototype = new W();
              var Qe,
                Ge = Xe,
                Ye = function (e, t, i) {
                  var n,
                    r = '';
                  for (n = t; n < i; n++)
                    r += '%' + ('00' + e[n].toString(16)).slice(-2);
                  return r;
                },
                Je = function (e, t, i) {
                  return decodeURIComponent(Ye(e, t, i));
                },
                Ze = function (e) {
                  return (e[0] << 21) | (e[1] << 14) | (e[2] << 7) | e[3];
                },
                $e = {
                  TXXX: function (e) {
                    var t;
                    if (3 === e.data[0]) {
                      for (t = 1; t < e.data.length; t++)
                        if (0 === e.data[t]) {
                          (e.description = Je(e.data, 1, t)),
                            (e.value = Je(e.data, t + 1, e.data.length).replace(
                              /\0*$/,
                              '',
                            ));
                          break;
                        }
                      e.data = e.value;
                    }
                  },
                  WXXX: function (e) {
                    var t;
                    if (3 === e.data[0])
                      for (t = 1; t < e.data.length; t++)
                        if (0 === e.data[t]) {
                          (e.description = Je(e.data, 1, t)),
                            (e.url = Je(e.data, t + 1, e.data.length));
                          break;
                        }
                  },
                  PRIV: function (e) {
                    var t, i;
                    for (t = 0; t < e.data.length; t++)
                      if (0 === e.data[t]) {
                        e.owner = ((i = e.data), unescape(Ye(i, 0, t)));
                        break;
                      }
                    (e.privateData = e.data.subarray(t + 1)),
                      (e.data = e.privateData);
                  },
                };
              (Qe = function (e) {
                var t,
                  i = {
                    debug: !(!e || !e.debug),
                    descriptor: e && e.descriptor,
                  },
                  n = 0,
                  r = [],
                  s = 0;
                if (
                  (Qe.prototype.init.call(this),
                  (this.dispatchType = qe.METADATA_STREAM_TYPE.toString(16)),
                  i.descriptor)
                )
                  for (t = 0; t < i.descriptor.length; t++)
                    this.dispatchType += (
                      '00' + i.descriptor[t].toString(16)
                    ).slice(-2);
                this.push = function (e) {
                  var t, a, o, l, u;
                  if ('timed-metadata' === e.type)
                    if (
                      (e.dataAlignmentIndicator && ((s = 0), (r.length = 0)),
                      0 === r.length &&
                        (e.data.length < 10 ||
                          e.data[0] !== 'I'.charCodeAt(0) ||
                          e.data[1] !== 'D'.charCodeAt(0) ||
                          e.data[2] !== '3'.charCodeAt(0)))
                    )
                      i.debug &&
                        console.log('Skipping unrecognized metadata packet');
                    else if (
                      (r.push(e),
                      (s += e.data.byteLength),
                      1 === r.length &&
                        ((n = Ze(e.data.subarray(6, 10))), (n += 10)),
                      !(s < n))
                    ) {
                      for (
                        t = {
                          data: new Uint8Array(n),
                          frames: [],
                          pts: r[0].pts,
                          dts: r[0].dts,
                        },
                          u = 0;
                        u < n;

                      )
                        t.data.set(r[0].data.subarray(0, n - u), u),
                          (u += r[0].data.byteLength),
                          (s -= r[0].data.byteLength),
                          r.shift();
                      (a = 10),
                        64 & t.data[5] &&
                          ((a += 4),
                          (a += Ze(t.data.subarray(10, 14))),
                          (n -= Ze(t.data.subarray(16, 20))));
                      do {
                        if ((o = Ze(t.data.subarray(a + 4, a + 8))) < 1)
                          return console.log(
                            'Malformed ID3 frame encountered. Skipping metadata parsing.',
                          );
                        if (
                          (((l = {
                            id: String.fromCharCode(
                              t.data[a],
                              t.data[a + 1],
                              t.data[a + 2],
                              t.data[a + 3],
                            ),
                            data: t.data.subarray(a + 10, a + o + 10),
                          }).key = l.id),
                          $e[l.id] &&
                            ($e[l.id](l),
                            'com.apple.streaming.transportStreamTimestamp' ===
                              l.owner))
                        ) {
                          var d = l.data,
                            c =
                              ((1 & d[3]) << 30) |
                              (d[4] << 22) |
                              (d[5] << 14) |
                              (d[6] << 6) |
                              (d[7] >>> 2);
                          (c *= 4),
                            (c += 3 & d[7]),
                            (l.timeStamp = c),
                            void 0 === t.pts &&
                              void 0 === t.dts &&
                              ((t.pts = l.timeStamp), (t.dts = l.timeStamp)),
                            this.trigger('timestamp', l);
                        }
                        t.frames.push(l), (a += 10), (a += o);
                      } while (a < n);
                      this.trigger('data', t);
                    }
                };
              }),
                (Qe.prototype = new W());
              var et,
                tt,
                it,
                nt = Qe,
                rt = Ge,
                st = 188;
              ((et = function () {
                var e = new Uint8Array(st),
                  t = 0;
                et.prototype.init.call(this),
                  (this.push = function (i) {
                    var n,
                      r = 0,
                      s = st;
                    for (
                      t
                        ? ((n = new Uint8Array(i.byteLength + t)).set(
                            e.subarray(0, t),
                          ),
                          n.set(i, t),
                          (t = 0))
                        : (n = i);
                      s < n.byteLength;

                    )
                      71 !== n[r] || 71 !== n[s]
                        ? (r++, s++)
                        : (this.trigger('data', n.subarray(r, s)),
                          (r += st),
                          (s += st));
                    r < n.byteLength &&
                      (e.set(n.subarray(r), 0), (t = n.byteLength - r));
                  }),
                  (this.flush = function () {
                    t === st &&
                      71 === e[0] &&
                      (this.trigger('data', e), (t = 0)),
                      this.trigger('done');
                  }),
                  (this.endTimeline = function () {
                    this.flush(), this.trigger('endedtimeline');
                  }),
                  (this.reset = function () {
                    (t = 0), this.trigger('reset');
                  });
              }).prototype = new W()),
                ((tt = function () {
                  var e, t, i, n;
                  tt.prototype.init.call(this),
                    (n = this),
                    (this.packetsWaitingForPmt = []),
                    (this.programMapTable = void 0),
                    (e = function (e, n) {
                      var r = 0;
                      n.payloadUnitStartIndicator && (r += e[r] + 1),
                        'pat' === n.type
                          ? t(e.subarray(r), n)
                          : i(e.subarray(r), n);
                    }),
                    (t = function (e, t) {
                      (t.section_number = e[7]),
                        (t.last_section_number = e[8]),
                        (n.pmtPid = ((31 & e[10]) << 8) | e[11]),
                        (t.pmtPid = n.pmtPid);
                    }),
                    (i = function (e, t) {
                      var i, r;
                      if (1 & e[5]) {
                        for (
                          n.programMapTable = {
                            video: null,
                            audio: null,
                            'timed-metadata': {},
                          },
                            i = 3 + (((15 & e[1]) << 8) | e[2]) - 4,
                            r = 12 + (((15 & e[10]) << 8) | e[11]);
                          r < i;

                        ) {
                          var s = e[r],
                            a = ((31 & e[r + 1]) << 8) | e[r + 2];
                          s === qe.H264_STREAM_TYPE &&
                          null === n.programMapTable.video
                            ? (n.programMapTable.video = a)
                            : s === qe.ADTS_STREAM_TYPE &&
                                null === n.programMapTable.audio
                              ? (n.programMapTable.audio = a)
                              : s === qe.METADATA_STREAM_TYPE &&
                                (n.programMapTable['timed-metadata'][a] = s),
                            (r += 5 + (((15 & e[r + 3]) << 8) | e[r + 4]));
                        }
                        t.programMapTable = n.programMapTable;
                      }
                    }),
                    (this.push = function (t) {
                      var i = {},
                        n = 4;
                      if (
                        ((i.payloadUnitStartIndicator = !!(64 & t[1])),
                        (i.pid = 31 & t[1]),
                        (i.pid <<= 8),
                        (i.pid |= t[2]),
                        (48 & t[3]) >>> 4 > 1 && (n += t[n] + 1),
                        0 === i.pid)
                      )
                        (i.type = 'pat'),
                          e(t.subarray(n), i),
                          this.trigger('data', i);
                      else if (i.pid === this.pmtPid)
                        for (
                          i.type = 'pmt',
                            e(t.subarray(n), i),
                            this.trigger('data', i);
                          this.packetsWaitingForPmt.length;

                        )
                          this.processPes_.apply(
                            this,
                            this.packetsWaitingForPmt.shift(),
                          );
                      else
                        void 0 === this.programMapTable
                          ? this.packetsWaitingForPmt.push([t, n, i])
                          : this.processPes_(t, n, i);
                    }),
                    (this.processPes_ = function (e, t, i) {
                      i.pid === this.programMapTable.video
                        ? (i.streamType = qe.H264_STREAM_TYPE)
                        : i.pid === this.programMapTable.audio
                          ? (i.streamType = qe.ADTS_STREAM_TYPE)
                          : (i.streamType =
                              this.programMapTable['timed-metadata'][i.pid]),
                        (i.type = 'pes'),
                        (i.data = e.subarray(t)),
                        this.trigger('data', i);
                    });
                }).prototype = new W()),
                (tt.STREAM_TYPES = { h264: 27, adts: 15 }),
                (it = function () {
                  var e,
                    t = this,
                    i = { data: [], size: 0 },
                    n = { data: [], size: 0 },
                    r = { data: [], size: 0 },
                    s = function (e, i, n) {
                      var r,
                        s,
                        a = new Uint8Array(e.size),
                        o = { type: i },
                        l = 0,
                        u = 0;
                      if (e.data.length && !(e.size < 9)) {
                        for (
                          o.trackId = e.data[0].pid, l = 0;
                          l < e.data.length;
                          l++
                        )
                          (s = e.data[l]),
                            a.set(s.data, u),
                            (u += s.data.byteLength);
                        var d, c, h, p;
                        (c = o),
                          (p = ((d = a)[0] << 16) | (d[1] << 8) | d[2]),
                          (c.data = new Uint8Array()),
                          1 === p &&
                            ((c.packetLength = 6 + ((d[4] << 8) | d[5])),
                            (c.dataAlignmentIndicator = 0 != (4 & d[6])),
                            192 & (h = d[7]) &&
                              ((c.pts =
                                ((14 & d[9]) << 27) |
                                ((255 & d[10]) << 20) |
                                ((254 & d[11]) << 12) |
                                ((255 & d[12]) << 5) |
                                ((254 & d[13]) >>> 3)),
                              (c.pts *= 4),
                              (c.pts += (6 & d[13]) >>> 1),
                              (c.dts = c.pts),
                              64 & h &&
                                ((c.dts =
                                  ((14 & d[14]) << 27) |
                                  ((255 & d[15]) << 20) |
                                  ((254 & d[16]) << 12) |
                                  ((255 & d[17]) << 5) |
                                  ((254 & d[18]) >>> 3)),
                                (c.dts *= 4),
                                (c.dts += (6 & d[18]) >>> 1))),
                            (c.data = d.subarray(9 + d[8]))),
                          (r = 'video' === i || o.packetLength <= e.size),
                          (n || r) && ((e.size = 0), (e.data.length = 0)),
                          r && t.trigger('data', o);
                      }
                    };
                  it.prototype.init.call(this),
                    (this.push = function (a) {
                      ({
                        pat: function () {},
                        pes: function () {
                          var e, t;
                          switch (a.streamType) {
                            case qe.H264_STREAM_TYPE:
                              (e = i), (t = 'video');
                              break;
                            case qe.ADTS_STREAM_TYPE:
                              (e = n), (t = 'audio');
                              break;
                            case qe.METADATA_STREAM_TYPE:
                              (e = r), (t = 'timed-metadata');
                              break;
                            default:
                              return;
                          }
                          a.payloadUnitStartIndicator && s(e, t, !0),
                            e.data.push(a),
                            (e.size += a.data.byteLength);
                        },
                        pmt: function () {
                          var i = { type: 'metadata', tracks: [] };
                          null !== (e = a.programMapTable).video &&
                            i.tracks.push({
                              timelineStartInfo: { baseMediaDecodeTime: 0 },
                              id: +e.video,
                              codec: 'avc',
                              type: 'video',
                            }),
                            null !== e.audio &&
                              i.tracks.push({
                                timelineStartInfo: { baseMediaDecodeTime: 0 },
                                id: +e.audio,
                                codec: 'adts',
                                type: 'audio',
                              }),
                            t.trigger('data', i);
                        },
                      })[a.type]();
                    }),
                    (this.reset = function () {
                      (i.size = 0),
                        (i.data.length = 0),
                        (n.size = 0),
                        (n.data.length = 0),
                        this.trigger('reset');
                    }),
                    (this.flushStreams_ = function () {
                      s(i, 'video'), s(n, 'audio'), s(r, 'timed-metadata');
                    }),
                    (this.flush = function () {
                      this.flushStreams_(), this.trigger('done');
                    });
                }),
                (it.prototype = new W());
              var at = {
                PAT_PID: 0,
                MP2T_PACKET_LENGTH: st,
                TransportPacketStream: et,
                TransportParseStream: tt,
                ElementaryStream: it,
                TimestampRolloverStream: rt,
                CaptionStream: He.CaptionStream,
                Cea608Stream: He.Cea608Stream,
                Cea708Stream: He.Cea708Stream,
                MetadataStream: nt,
              };
              for (var ot in qe) qe.hasOwnProperty(ot) && (at[ot] = qe[ot]);
              var lt,
                ut = at,
                dt = pe,
                ct = [
                  96e3, 88200, 64e3, 48e3, 44100, 32e3, 24e3, 22050, 16e3, 12e3,
                  11025, 8e3, 7350,
                ];
              (lt = function (e) {
                var t,
                  i = 0;
                lt.prototype.init.call(this),
                  (this.push = function (n) {
                    var r,
                      s,
                      a,
                      o,
                      l,
                      u,
                      d = 0;
                    if ((e || (i = 0), 'audio' === n.type))
                      for (
                        t
                          ? ((o = t),
                            (t = new Uint8Array(
                              o.byteLength + n.data.byteLength,
                            )).set(o),
                            t.set(n.data, o.byteLength))
                          : (t = n.data);
                        d + 5 < t.length;

                      )
                        if (255 === t[d] && 240 == (246 & t[d + 1])) {
                          if (
                            ((s = 2 * (1 & ~t[d + 1])),
                            (r =
                              ((3 & t[d + 3]) << 11) |
                              (t[d + 4] << 3) |
                              ((224 & t[d + 5]) >> 5)),
                            (u =
                              ((l = 1024 * (1 + (3 & t[d + 6]))) * dt) /
                              ct[(60 & t[d + 2]) >>> 2]),
                            (a = d + r),
                            t.byteLength < a)
                          )
                            return;
                          if (
                            (this.trigger('data', {
                              pts: n.pts + i * u,
                              dts: n.dts + i * u,
                              sampleCount: l,
                              audioobjecttype: 1 + ((t[d + 2] >>> 6) & 3),
                              channelcount:
                                ((1 & t[d + 2]) << 2) |
                                ((192 & t[d + 3]) >>> 6),
                              samplerate: ct[(60 & t[d + 2]) >>> 2],
                              samplingfrequencyindex: (60 & t[d + 2]) >>> 2,
                              samplesize: 16,
                              data: t.subarray(d + 7 + s, a),
                            }),
                            i++,
                            t.byteLength === a)
                          )
                            return void (t = void 0);
                          t = t.subarray(a);
                        } else d++;
                  }),
                  (this.flush = function () {
                    (i = 0), this.trigger('done');
                  }),
                  (this.reset = function () {
                    (t = void 0), this.trigger('reset');
                  }),
                  (this.endTimeline = function () {
                    (t = void 0), this.trigger('endedtimeline');
                  });
              }),
                (lt.prototype = new W());
              var ht,
                pt,
                ft,
                mt = lt,
                gt = function (e) {
                  var t = e.byteLength,
                    i = 0,
                    n = 0;
                  (this.length = function () {
                    return 8 * t;
                  }),
                    (this.bitsAvailable = function () {
                      return 8 * t + n;
                    }),
                    (this.loadWord = function () {
                      var r = e.byteLength - t,
                        s = new Uint8Array(4),
                        a = Math.min(4, t);
                      if (0 === a) throw new Error('no bytes available');
                      s.set(e.subarray(r, r + a)),
                        (i = new DataView(s.buffer).getUint32(0)),
                        (n = 8 * a),
                        (t -= a);
                    }),
                    (this.skipBits = function (e) {
                      var r;
                      n > e
                        ? ((i <<= e), (n -= e))
                        : ((e -= n),
                          (e -= 8 * (r = Math.floor(e / 8))),
                          (t -= r),
                          this.loadWord(),
                          (i <<= e),
                          (n -= e));
                    }),
                    (this.readBits = function (e) {
                      var r = Math.min(n, e),
                        s = i >>> (32 - r);
                      return (
                        (n -= r) > 0 ? (i <<= r) : t > 0 && this.loadWord(),
                        (r = e - r) > 0 ? (s << r) | this.readBits(r) : s
                      );
                    }),
                    (this.skipLeadingZeros = function () {
                      var e;
                      for (e = 0; e < n; ++e)
                        if (0 != (i & (2147483648 >>> e)))
                          return (i <<= e), (n -= e), e;
                      return this.loadWord(), e + this.skipLeadingZeros();
                    }),
                    (this.skipUnsignedExpGolomb = function () {
                      this.skipBits(1 + this.skipLeadingZeros());
                    }),
                    (this.skipExpGolomb = function () {
                      this.skipBits(1 + this.skipLeadingZeros());
                    }),
                    (this.readUnsignedExpGolomb = function () {
                      var e = this.skipLeadingZeros();
                      return this.readBits(e + 1) - 1;
                    }),
                    (this.readExpGolomb = function () {
                      var e = this.readUnsignedExpGolomb();
                      return 1 & e ? (1 + e) >>> 1 : -1 * (e >>> 1);
                    }),
                    (this.readBoolean = function () {
                      return 1 === this.readBits(1);
                    }),
                    (this.readUnsignedByte = function () {
                      return this.readBits(8);
                    }),
                    this.loadWord();
                };
              (pt = function () {
                var e,
                  t,
                  i = 0;
                pt.prototype.init.call(this),
                  (this.push = function (n) {
                    var r;
                    t
                      ? ((r = new Uint8Array(
                          t.byteLength + n.data.byteLength,
                        )).set(t),
                        r.set(n.data, t.byteLength),
                        (t = r))
                      : (t = n.data);
                    for (var s = t.byteLength; i < s - 3; i++)
                      if (1 === t[i + 2]) {
                        e = i + 5;
                        break;
                      }
                    for (; e < s; )
                      switch (t[e]) {
                        case 0:
                          if (0 !== t[e - 1]) {
                            e += 2;
                            break;
                          }
                          if (0 !== t[e - 2]) {
                            e++;
                            break;
                          }
                          i + 3 !== e - 2 &&
                            this.trigger('data', t.subarray(i + 3, e - 2));
                          do {
                            e++;
                          } while (1 !== t[e] && e < s);
                          (i = e - 2), (e += 3);
                          break;
                        case 1:
                          if (0 !== t[e - 1] || 0 !== t[e - 2]) {
                            e += 3;
                            break;
                          }
                          this.trigger('data', t.subarray(i + 3, e - 2)),
                            (i = e - 2),
                            (e += 3);
                          break;
                        default:
                          e += 3;
                      }
                    (t = t.subarray(i)), (e -= i), (i = 0);
                  }),
                  (this.reset = function () {
                    (t = null), (i = 0), this.trigger('reset');
                  }),
                  (this.flush = function () {
                    t &&
                      t.byteLength > 3 &&
                      this.trigger('data', t.subarray(i + 3)),
                      (t = null),
                      (i = 0),
                      this.trigger('done');
                  }),
                  (this.endTimeline = function () {
                    this.flush(), this.trigger('endedtimeline');
                  });
              }),
                (pt.prototype = new W()),
                (ft = {
                  100: !0,
                  110: !0,
                  122: !0,
                  244: !0,
                  44: !0,
                  83: !0,
                  86: !0,
                  118: !0,
                  128: !0,
                  138: !0,
                  139: !0,
                  134: !0,
                }),
                (ht = function () {
                  var e,
                    t,
                    i,
                    n,
                    r,
                    s,
                    a,
                    o = new pt();
                  ht.prototype.init.call(this),
                    (e = this),
                    (this.push = function (e) {
                      'video' === e.type &&
                        ((t = e.trackId), (i = e.pts), (n = e.dts), o.push(e));
                    }),
                    o.on('data', function (a) {
                      var o = { trackId: t, pts: i, dts: n, data: a };
                      switch (31 & a[0]) {
                        case 5:
                          o.nalUnitType =
                            'slice_layer_without_partitioning_rbsp_idr';
                          break;
                        case 6:
                          (o.nalUnitType = 'sei_rbsp'),
                            (o.escapedRBSP = r(a.subarray(1)));
                          break;
                        case 7:
                          (o.nalUnitType = 'seq_parameter_set_rbsp'),
                            (o.escapedRBSP = r(a.subarray(1))),
                            (o.config = s(o.escapedRBSP));
                          break;
                        case 8:
                          o.nalUnitType = 'pic_parameter_set_rbsp';
                          break;
                        case 9:
                          o.nalUnitType = 'access_unit_delimiter_rbsp';
                      }
                      e.trigger('data', o);
                    }),
                    o.on('done', function () {
                      e.trigger('done');
                    }),
                    o.on('partialdone', function () {
                      e.trigger('partialdone');
                    }),
                    o.on('reset', function () {
                      e.trigger('reset');
                    }),
                    o.on('endedtimeline', function () {
                      e.trigger('endedtimeline');
                    }),
                    (this.flush = function () {
                      o.flush();
                    }),
                    (this.partialFlush = function () {
                      o.partialFlush();
                    }),
                    (this.reset = function () {
                      o.reset();
                    }),
                    (this.endTimeline = function () {
                      o.endTimeline();
                    }),
                    (a = function (e, t) {
                      var i,
                        n = 8,
                        r = 8;
                      for (i = 0; i < e; i++)
                        0 !== r && (r = (n + t.readExpGolomb() + 256) % 256),
                          (n = 0 === r ? n : r);
                    }),
                    (r = function (e) {
                      for (
                        var t, i, n = e.byteLength, r = [], s = 1;
                        s < n - 2;

                      )
                        0 === e[s] && 0 === e[s + 1] && 3 === e[s + 2]
                          ? (r.push(s + 2), (s += 2))
                          : s++;
                      if (0 === r.length) return e;
                      (t = n - r.length), (i = new Uint8Array(t));
                      var a = 0;
                      for (s = 0; s < t; a++, s++)
                        a === r[0] && (a++, r.shift()), (i[s] = e[a]);
                      return i;
                    }),
                    (s = function (e) {
                      var t,
                        i,
                        n,
                        r,
                        s,
                        o,
                        l,
                        u,
                        d,
                        c,
                        h,
                        p,
                        f,
                        m = 0,
                        g = 0,
                        v = 0,
                        y = 0,
                        A = 1;
                      if (
                        ((i = (t = new gt(e)).readUnsignedByte()),
                        (r = t.readUnsignedByte()),
                        (n = t.readUnsignedByte()),
                        t.skipUnsignedExpGolomb(),
                        ft[i] &&
                          (3 === (s = t.readUnsignedExpGolomb()) &&
                            t.skipBits(1),
                          t.skipUnsignedExpGolomb(),
                          t.skipUnsignedExpGolomb(),
                          t.skipBits(1),
                          t.readBoolean()))
                      )
                        for (h = 3 !== s ? 8 : 12, f = 0; f < h; f++)
                          t.readBoolean() && a(f < 6 ? 16 : 64, t);
                      if (
                        (t.skipUnsignedExpGolomb(),
                        0 === (o = t.readUnsignedExpGolomb()))
                      )
                        t.readUnsignedExpGolomb();
                      else if (1 === o)
                        for (
                          t.skipBits(1),
                            t.skipExpGolomb(),
                            t.skipExpGolomb(),
                            l = t.readUnsignedExpGolomb(),
                            f = 0;
                          f < l;
                          f++
                        )
                          t.skipExpGolomb();
                      if (
                        (t.skipUnsignedExpGolomb(),
                        t.skipBits(1),
                        (u = t.readUnsignedExpGolomb()),
                        (d = t.readUnsignedExpGolomb()),
                        0 === (c = t.readBits(1)) && t.skipBits(1),
                        t.skipBits(1),
                        t.readBoolean() &&
                          ((m = t.readUnsignedExpGolomb()),
                          (g = t.readUnsignedExpGolomb()),
                          (v = t.readUnsignedExpGolomb()),
                          (y = t.readUnsignedExpGolomb())),
                        t.readBoolean() && t.readBoolean())
                      ) {
                        switch (t.readUnsignedByte()) {
                          case 1:
                            p = [1, 1];
                            break;
                          case 2:
                            p = [12, 11];
                            break;
                          case 3:
                            p = [10, 11];
                            break;
                          case 4:
                            p = [16, 11];
                            break;
                          case 5:
                            p = [40, 33];
                            break;
                          case 6:
                            p = [24, 11];
                            break;
                          case 7:
                            p = [20, 11];
                            break;
                          case 8:
                            p = [32, 11];
                            break;
                          case 9:
                            p = [80, 33];
                            break;
                          case 10:
                            p = [18, 11];
                            break;
                          case 11:
                            p = [15, 11];
                            break;
                          case 12:
                            p = [64, 33];
                            break;
                          case 13:
                            p = [160, 99];
                            break;
                          case 14:
                            p = [4, 3];
                            break;
                          case 15:
                            p = [3, 2];
                            break;
                          case 16:
                            p = [2, 1];
                            break;
                          case 255:
                            p = [
                              (t.readUnsignedByte() << 8) |
                                t.readUnsignedByte(),
                              (t.readUnsignedByte() << 8) |
                                t.readUnsignedByte(),
                            ];
                        }
                        p && (A = p[0] / p[1]);
                      }
                      return {
                        profileIdc: i,
                        levelIdc: n,
                        profileCompatibility: r,
                        width: Math.ceil((16 * (u + 1) - 2 * m - 2 * g) * A),
                        height: (2 - c) * (d + 1) * 16 - 2 * v - 2 * y,
                        sarRatio: p,
                      };
                    });
                }),
                (ht.prototype = new W());
              var vt,
                yt = { H264Stream: ht, NalByteStream: pt },
                At = function (e, t) {
                  var i =
                    (e[t + 6] << 21) |
                    (e[t + 7] << 14) |
                    (e[t + 8] << 7) |
                    e[t + 9];
                  return (
                    (i = i >= 0 ? i : 0), (16 & e[t + 5]) >> 4 ? i + 20 : i + 10
                  );
                },
                bt = function e(t, i) {
                  return t.length - i < 10 ||
                    t[i] !== 'I'.charCodeAt(0) ||
                    t[i + 1] !== 'D'.charCodeAt(0) ||
                    t[i + 2] !== '3'.charCodeAt(0)
                    ? i
                    : e(t, (i += At(t, i)));
                },
                Tt = function (e) {
                  var t = bt(e, 0);
                  return (
                    e.length >= t + 2 &&
                    255 == (255 & e[t]) &&
                    240 == (240 & e[t + 1]) &&
                    16 == (22 & e[t + 1])
                  );
                },
                St = At,
                wt = function (e, t) {
                  var i = (224 & e[t + 5]) >> 5,
                    n = e[t + 4] << 3;
                  return (6144 & e[t + 3]) | n | i;
                };
              (vt = function () {
                var e = new Uint8Array(),
                  t = 0;
                vt.prototype.init.call(this),
                  (this.setTimestamp = function (e) {
                    t = e;
                  }),
                  (this.push = function (i) {
                    var n,
                      r,
                      s,
                      a,
                      o = 0,
                      l = 0;
                    for (
                      e.length
                        ? ((a = e.length),
                          (e = new Uint8Array(i.byteLength + a)).set(
                            e.subarray(0, a),
                          ),
                          e.set(i, a))
                        : (e = i);
                      e.length - l >= 3;

                    )
                      if (
                        e[l] !== 'I'.charCodeAt(0) ||
                        e[l + 1] !== 'D'.charCodeAt(0) ||
                        e[l + 2] !== '3'.charCodeAt(0)
                      )
                        if (255 != (255 & e[l]) || 240 != (240 & e[l + 1])) l++;
                        else {
                          if (e.length - l < 7) break;
                          if (l + (o = wt(e, l)) > e.length) break;
                          (s = {
                            type: 'audio',
                            data: e.subarray(l, l + o),
                            pts: t,
                            dts: t,
                          }),
                            this.trigger('data', s),
                            (l += o);
                        }
                      else {
                        if (e.length - l < 10) break;
                        if (l + (o = St(e, l)) > e.length) break;
                        (r = {
                          type: 'timed-metadata',
                          data: e.subarray(l, l + o),
                        }),
                          this.trigger('data', r),
                          (l += o);
                      }
                    (n = e.length - l),
                      (e = n > 0 ? e.subarray(l) : new Uint8Array());
                  }),
                  (this.reset = function () {
                    (e = new Uint8Array()), this.trigger('reset');
                  }),
                  (this.endTimeline = function () {
                    (e = new Uint8Array()), this.trigger('endedtimeline');
                  });
              }).prototype = new W();
              var kt,
                _t,
                Ct,
                Et,
                jt = vt,
                Pt = [
                  'audioobjecttype',
                  'channelcount',
                  'samplerate',
                  'samplingfrequencyindex',
                  'samplesize',
                ],
                It = [
                  'width',
                  'height',
                  'profileIdc',
                  'levelIdc',
                  'profileCompatibility',
                  'sarRatio',
                ],
                xt = yt.H264Stream,
                Lt = Tt,
                Dt = pe,
                Rt = function (e, t) {
                  var i;
                  if (e.length !== t.length) return !1;
                  for (i = 0; i < e.length; i++) if (e[i] !== t[i]) return !1;
                  return !0;
                },
                Ot = function (e, t, i, n, r, s) {
                  return {
                    start: { dts: e, pts: e + (i - t) },
                    end: { dts: e + (n - t), pts: e + (r - i) },
                    prependedContentDuration: s,
                    baseMediaDecodeTime: e,
                  };
                };
              (_t = function (e, t) {
                var i = [],
                  n = 0,
                  r = 0,
                  s = 0,
                  a = 1 / 0;
                (t = t || {}),
                  _t.prototype.init.call(this),
                  (this.push = function (t) {
                    Ce(e, t),
                      e &&
                        Pt.forEach(function (i) {
                          e[i] = t[i];
                        }),
                      i.push(t);
                  }),
                  (this.setEarliestDts = function (e) {
                    r = e;
                  }),
                  (this.setVideoBaseMediaDecodeTime = function (e) {
                    a = e;
                  }),
                  (this.setAudioAppendStart = function (e) {
                    s = e;
                  }),
                  (this.flush = function () {
                    var o, l, u, d, c, h, p;
                    0 !== i.length
                      ? ((o = be(i, e, r)),
                        (e.baseMediaDecodeTime = _e(
                          e,
                          t.keepOriginalTimestamps,
                        )),
                        (p = Ae(e, o, s, a)),
                        (e.samples = Te(o)),
                        (u = J(Se(o))),
                        (i = []),
                        (l = Z(n, [e])),
                        (d = new Uint8Array(l.byteLength + u.byteLength)),
                        n++,
                        d.set(l),
                        d.set(u, l.byteLength),
                        ke(e),
                        (c = Math.ceil((1024 * Dt) / e.samplerate)),
                        o.length &&
                          ((h = o.length * c),
                          this.trigger(
                            'segmentTimingInfo',
                            Ot(
                              ge(e.baseMediaDecodeTime, e.samplerate),
                              o[0].dts,
                              o[0].pts,
                              o[0].dts + h,
                              o[0].pts + h,
                              p || 0,
                            ),
                          ),
                          this.trigger('timingInfo', {
                            start: o[0].pts,
                            end: o[0].pts + h,
                          })),
                        this.trigger('data', { track: e, boxes: d }),
                        this.trigger('done', 'AudioSegmentStream'))
                      : this.trigger('done', 'AudioSegmentStream');
                  }),
                  (this.reset = function () {
                    ke(e), (i = []), this.trigger('reset');
                  });
              }),
                (_t.prototype = new W()),
                (kt = function (e, t) {
                  var i,
                    n,
                    r = 0,
                    s = [],
                    a = [];
                  (t = t || {}),
                    kt.prototype.init.call(this),
                    delete e.minPTS,
                    (this.gopCache_ = []),
                    (this.push = function (t) {
                      Ce(e, t),
                        'seq_parameter_set_rbsp' !== t.nalUnitType ||
                          i ||
                          ((i = t.config),
                          (e.sps = [t.data]),
                          It.forEach(function (t) {
                            e[t] = i[t];
                          }, this)),
                        'pic_parameter_set_rbsp' !== t.nalUnitType ||
                          n ||
                          ((n = t.data), (e.pps = [t.data])),
                        s.push(t);
                    }),
                    (this.flush = function () {
                      for (
                        var i, n, o, l, u, d, c, h, p = 0;
                        s.length &&
                        'access_unit_delimiter_rbsp' !== s[0].nalUnitType;

                      )
                        s.shift();
                      if (0 === s.length)
                        return (
                          this.resetStream_(),
                          void this.trigger('done', 'VideoSegmentStream')
                        );
                      if (
                        ((i = te(s)),
                        (o = ie(i))[0][0].keyFrame ||
                          ((n = this.getGopForFusion_(s[0], e))
                            ? ((p = n.duration),
                              o.unshift(n),
                              (o.byteLength += n.byteLength),
                              (o.nalCount += n.nalCount),
                              (o.pts = n.pts),
                              (o.dts = n.dts),
                              (o.duration += n.duration))
                            : (o = ne(o))),
                        a.length)
                      ) {
                        var f;
                        if (
                          !(f = t.alignGopsAtEnd
                            ? this.alignGopsAtEnd_(o)
                            : this.alignGopsAtStart_(o))
                        )
                          return (
                            this.gopCache_.unshift({
                              gop: o.pop(),
                              pps: e.pps,
                              sps: e.sps,
                            }),
                            (this.gopCache_.length = Math.min(
                              6,
                              this.gopCache_.length,
                            )),
                            (s = []),
                            this.resetStream_(),
                            void this.trigger('done', 'VideoSegmentStream')
                          );
                        ke(e), (o = f);
                      }
                      Ce(e, o),
                        (e.samples = re(o)),
                        (u = J(se(o))),
                        (e.baseMediaDecodeTime = _e(
                          e,
                          t.keepOriginalTimestamps,
                        )),
                        this.trigger(
                          'processedGopsInfo',
                          o.map(function (e) {
                            return {
                              pts: e.pts,
                              dts: e.dts,
                              byteLength: e.byteLength,
                            };
                          }),
                        ),
                        (c = o[0]),
                        (h = o[o.length - 1]),
                        this.trigger(
                          'segmentTimingInfo',
                          Ot(
                            e.baseMediaDecodeTime,
                            c.dts,
                            c.pts,
                            h.dts + h.duration,
                            h.pts + h.duration,
                            p,
                          ),
                        ),
                        this.trigger('timingInfo', {
                          start: o[0].pts,
                          end: o[o.length - 1].pts + o[o.length - 1].duration,
                        }),
                        this.gopCache_.unshift({
                          gop: o.pop(),
                          pps: e.pps,
                          sps: e.sps,
                        }),
                        (this.gopCache_.length = Math.min(
                          6,
                          this.gopCache_.length,
                        )),
                        (s = []),
                        this.trigger(
                          'baseMediaDecodeTime',
                          e.baseMediaDecodeTime,
                        ),
                        this.trigger('timelineStartInfo', e.timelineStartInfo),
                        (l = Z(r, [e])),
                        (d = new Uint8Array(l.byteLength + u.byteLength)),
                        r++,
                        d.set(l),
                        d.set(u, l.byteLength),
                        this.trigger('data', { track: e, boxes: d }),
                        this.resetStream_(),
                        this.trigger('done', 'VideoSegmentStream');
                    }),
                    (this.reset = function () {
                      this.resetStream_(),
                        (s = []),
                        (this.gopCache_.length = 0),
                        (a.length = 0),
                        this.trigger('reset');
                    }),
                    (this.resetStream_ = function () {
                      ke(e), (i = void 0), (n = void 0);
                    }),
                    (this.getGopForFusion_ = function (t) {
                      var i,
                        n,
                        r,
                        s,
                        a,
                        o = 1 / 0;
                      for (a = 0; a < this.gopCache_.length; a++)
                        (r = (s = this.gopCache_[a]).gop),
                          e.pps &&
                            Rt(e.pps[0], s.pps[0]) &&
                            e.sps &&
                            Rt(e.sps[0], s.sps[0]) &&
                            (r.dts < e.timelineStartInfo.dts ||
                              ((i = t.dts - r.dts - r.duration) >= -1e4 &&
                                i <= 45e3 &&
                                (!n || o > i) &&
                                ((n = s), (o = i))));
                      return n ? n.gop : null;
                    }),
                    (this.alignGopsAtStart_ = function (e) {
                      var t, i, n, r, s, o, l, u;
                      for (
                        s = e.byteLength,
                          o = e.nalCount,
                          l = e.duration,
                          t = i = 0;
                        t < a.length &&
                        i < e.length &&
                        ((n = a[t]), (r = e[i]), n.pts !== r.pts);

                      )
                        r.pts > n.pts
                          ? t++
                          : (i++,
                            (s -= r.byteLength),
                            (o -= r.nalCount),
                            (l -= r.duration));
                      return 0 === i
                        ? e
                        : i === e.length
                          ? null
                          : (((u = e.slice(i)).byteLength = s),
                            (u.duration = l),
                            (u.nalCount = o),
                            (u.pts = u[0].pts),
                            (u.dts = u[0].dts),
                            u);
                    }),
                    (this.alignGopsAtEnd_ = function (e) {
                      var t, i, n, r, s, o, l;
                      for (
                        t = a.length - 1, i = e.length - 1, s = null, o = !1;
                        t >= 0 && i >= 0;

                      ) {
                        if (((n = a[t]), (r = e[i]), n.pts === r.pts)) {
                          o = !0;
                          break;
                        }
                        n.pts > r.pts
                          ? t--
                          : (t === a.length - 1 && (s = i), i--);
                      }
                      if (!o && null === s) return null;
                      if (0 === (l = o ? i : s)) return e;
                      var u = e.slice(l),
                        d = u.reduce(
                          function (e, t) {
                            return (
                              (e.byteLength += t.byteLength),
                              (e.duration += t.duration),
                              (e.nalCount += t.nalCount),
                              e
                            );
                          },
                          { byteLength: 0, duration: 0, nalCount: 0 },
                        );
                      return (
                        (u.byteLength = d.byteLength),
                        (u.duration = d.duration),
                        (u.nalCount = d.nalCount),
                        (u.pts = u[0].pts),
                        (u.dts = u[0].dts),
                        u
                      );
                    }),
                    (this.alignGopsWith = function (e) {
                      a = e;
                    });
                }),
                (kt.prototype = new W()),
                (Et = function (e, t) {
                  (this.numberOfTracks = 0),
                    (this.metadataStream = t),
                    void 0 !== (e = e || {}).remux
                      ? (this.remuxTracks = !!e.remux)
                      : (this.remuxTracks = !0),
                    'boolean' == typeof e.keepOriginalTimestamps
                      ? (this.keepOriginalTimestamps = e.keepOriginalTimestamps)
                      : (this.keepOriginalTimestamps = !1),
                    (this.pendingTracks = []),
                    (this.videoTrack = null),
                    (this.pendingBoxes = []),
                    (this.pendingCaptions = []),
                    (this.pendingMetadata = []),
                    (this.pendingBytes = 0),
                    (this.emittedTracks = 0),
                    Et.prototype.init.call(this),
                    (this.push = function (e) {
                      return e.text
                        ? this.pendingCaptions.push(e)
                        : e.frames
                          ? this.pendingMetadata.push(e)
                          : (this.pendingTracks.push(e.track),
                            (this.pendingBytes += e.boxes.byteLength),
                            'video' === e.track.type &&
                              ((this.videoTrack = e.track),
                              this.pendingBoxes.push(e.boxes)),
                            void (
                              'audio' === e.track.type &&
                              ((this.audioTrack = e.track),
                              this.pendingBoxes.unshift(e.boxes))
                            ));
                    });
                }),
                (Et.prototype = new W()),
                (Et.prototype.flush = function (e) {
                  var t,
                    i,
                    n,
                    r,
                    s = 0,
                    a = {
                      captions: [],
                      captionStreams: {},
                      metadata: [],
                      info: {},
                    },
                    o = 0;
                  if (this.pendingTracks.length < this.numberOfTracks) {
                    if (
                      'VideoSegmentStream' !== e &&
                      'AudioSegmentStream' !== e
                    )
                      return;
                    if (this.remuxTracks) return;
                    if (0 === this.pendingTracks.length)
                      return (
                        this.emittedTracks++,
                        void (
                          this.emittedTracks >= this.numberOfTracks &&
                          (this.trigger('done'), (this.emittedTracks = 0))
                        )
                      );
                  }
                  if (
                    (this.videoTrack
                      ? ((o = this.videoTrack.timelineStartInfo.pts),
                        It.forEach(function (e) {
                          a.info[e] = this.videoTrack[e];
                        }, this))
                      : this.audioTrack &&
                        ((o = this.audioTrack.timelineStartInfo.pts),
                        Pt.forEach(function (e) {
                          a.info[e] = this.audioTrack[e];
                        }, this)),
                    this.videoTrack || this.audioTrack)
                  ) {
                    for (
                      1 === this.pendingTracks.length
                        ? (a.type = this.pendingTracks[0].type)
                        : (a.type = 'combined'),
                        this.emittedTracks += this.pendingTracks.length,
                        n = $(this.pendingTracks),
                        a.initSegment = new Uint8Array(n.byteLength),
                        a.initSegment.set(n),
                        a.data = new Uint8Array(this.pendingBytes),
                        r = 0;
                      r < this.pendingBoxes.length;
                      r++
                    )
                      a.data.set(this.pendingBoxes[r], s),
                        (s += this.pendingBoxes[r].byteLength);
                    for (r = 0; r < this.pendingCaptions.length; r++)
                      ((t = this.pendingCaptions[r]).startTime = ye(
                        t.startPts,
                        o,
                        this.keepOriginalTimestamps,
                      )),
                        (t.endTime = ye(
                          t.endPts,
                          o,
                          this.keepOriginalTimestamps,
                        )),
                        (a.captionStreams[t.stream] = !0),
                        a.captions.push(t);
                    for (r = 0; r < this.pendingMetadata.length; r++)
                      ((i = this.pendingMetadata[r]).cueTime = ye(
                        i.pts,
                        o,
                        this.keepOriginalTimestamps,
                      )),
                        a.metadata.push(i);
                    for (
                      a.metadata.dispatchType =
                        this.metadataStream.dispatchType,
                        this.pendingTracks.length = 0,
                        this.videoTrack = null,
                        this.pendingBoxes.length = 0,
                        this.pendingCaptions.length = 0,
                        this.pendingBytes = 0,
                        this.pendingMetadata.length = 0,
                        this.trigger('data', a),
                        r = 0;
                      r < a.captions.length;
                      r++
                    )
                      (t = a.captions[r]), this.trigger('caption', t);
                    for (r = 0; r < a.metadata.length; r++)
                      (i = a.metadata[r]), this.trigger('id3Frame', i);
                  }
                  this.emittedTracks >= this.numberOfTracks &&
                    (this.trigger('done'), (this.emittedTracks = 0));
                }),
                (Et.prototype.setRemux = function (e) {
                  this.remuxTracks = e;
                }),
                (Ct = function (e) {
                  var t,
                    i,
                    n = this,
                    r = !0;
                  Ct.prototype.init.call(this),
                    (e = e || {}),
                    (this.baseMediaDecodeTime = e.baseMediaDecodeTime || 0),
                    (this.transmuxPipeline_ = {}),
                    (this.setupAacPipeline = function () {
                      var r = {};
                      (this.transmuxPipeline_ = r),
                        (r.type = 'aac'),
                        (r.metadataStream = new ut.MetadataStream()),
                        (r.aacStream = new jt()),
                        (r.audioTimestampRolloverStream =
                          new ut.TimestampRolloverStream('audio')),
                        (r.timedMetadataTimestampRolloverStream =
                          new ut.TimestampRolloverStream('timed-metadata')),
                        (r.adtsStream = new mt()),
                        (r.coalesceStream = new Et(e, r.metadataStream)),
                        (r.headOfPipeline = r.aacStream),
                        r.aacStream
                          .pipe(r.audioTimestampRolloverStream)
                          .pipe(r.adtsStream),
                        r.aacStream
                          .pipe(r.timedMetadataTimestampRolloverStream)
                          .pipe(r.metadataStream)
                          .pipe(r.coalesceStream),
                        r.metadataStream.on('timestamp', function (e) {
                          r.aacStream.setTimestamp(e.timeStamp);
                        }),
                        r.aacStream.on('data', function (s) {
                          ('timed-metadata' !== s.type && 'audio' !== s.type) ||
                            r.audioSegmentStream ||
                            ((i = i || {
                              timelineStartInfo: {
                                baseMediaDecodeTime: n.baseMediaDecodeTime,
                              },
                              codec: 'adts',
                              type: 'audio',
                            }),
                            r.coalesceStream.numberOfTracks++,
                            (r.audioSegmentStream = new _t(i, e)),
                            r.audioSegmentStream.on(
                              'timingInfo',
                              n.trigger.bind(n, 'audioTimingInfo'),
                            ),
                            r.adtsStream
                              .pipe(r.audioSegmentStream)
                              .pipe(r.coalesceStream),
                            n.trigger('trackinfo', {
                              hasAudio: !!i,
                              hasVideo: !!t,
                            }));
                        }),
                        r.coalesceStream.on(
                          'data',
                          this.trigger.bind(this, 'data'),
                        ),
                        r.coalesceStream.on(
                          'done',
                          this.trigger.bind(this, 'done'),
                        );
                    }),
                    (this.setupTsPipeline = function () {
                      var r = {};
                      (this.transmuxPipeline_ = r),
                        (r.type = 'ts'),
                        (r.metadataStream = new ut.MetadataStream()),
                        (r.packetStream = new ut.TransportPacketStream()),
                        (r.parseStream = new ut.TransportParseStream()),
                        (r.elementaryStream = new ut.ElementaryStream()),
                        (r.timestampRolloverStream =
                          new ut.TimestampRolloverStream()),
                        (r.adtsStream = new mt()),
                        (r.h264Stream = new xt()),
                        (r.captionStream = new ut.CaptionStream(e)),
                        (r.coalesceStream = new Et(e, r.metadataStream)),
                        (r.headOfPipeline = r.packetStream),
                        r.packetStream
                          .pipe(r.parseStream)
                          .pipe(r.elementaryStream)
                          .pipe(r.timestampRolloverStream),
                        r.timestampRolloverStream.pipe(r.h264Stream),
                        r.timestampRolloverStream.pipe(r.adtsStream),
                        r.timestampRolloverStream
                          .pipe(r.metadataStream)
                          .pipe(r.coalesceStream),
                        r.h264Stream
                          .pipe(r.captionStream)
                          .pipe(r.coalesceStream),
                        r.elementaryStream.on('data', function (s) {
                          var a;
                          if ('metadata' === s.type) {
                            for (a = s.tracks.length; a--; )
                              t || 'video' !== s.tracks[a].type
                                ? i ||
                                  'audio' !== s.tracks[a].type ||
                                  ((i =
                                    s.tracks[
                                      a
                                    ]).timelineStartInfo.baseMediaDecodeTime =
                                    n.baseMediaDecodeTime)
                                : ((t =
                                    s.tracks[
                                      a
                                    ]).timelineStartInfo.baseMediaDecodeTime =
                                    n.baseMediaDecodeTime);
                            t &&
                              !r.videoSegmentStream &&
                              (r.coalesceStream.numberOfTracks++,
                              (r.videoSegmentStream = new kt(t, e)),
                              r.videoSegmentStream.on(
                                'timelineStartInfo',
                                function (t) {
                                  i &&
                                    !e.keepOriginalTimestamps &&
                                    ((i.timelineStartInfo = t),
                                    r.audioSegmentStream.setEarliestDts(
                                      t.dts - n.baseMediaDecodeTime,
                                    ));
                                },
                              ),
                              r.videoSegmentStream.on(
                                'processedGopsInfo',
                                n.trigger.bind(n, 'gopInfo'),
                              ),
                              r.videoSegmentStream.on(
                                'segmentTimingInfo',
                                n.trigger.bind(n, 'videoSegmentTimingInfo'),
                              ),
                              r.videoSegmentStream.on(
                                'baseMediaDecodeTime',
                                function (e) {
                                  i &&
                                    r.audioSegmentStream.setVideoBaseMediaDecodeTime(
                                      e,
                                    );
                                },
                              ),
                              r.videoSegmentStream.on(
                                'timingInfo',
                                n.trigger.bind(n, 'videoTimingInfo'),
                              ),
                              r.h264Stream
                                .pipe(r.videoSegmentStream)
                                .pipe(r.coalesceStream)),
                              i &&
                                !r.audioSegmentStream &&
                                (r.coalesceStream.numberOfTracks++,
                                (r.audioSegmentStream = new _t(i, e)),
                                r.audioSegmentStream.on(
                                  'timingInfo',
                                  n.trigger.bind(n, 'audioTimingInfo'),
                                ),
                                r.audioSegmentStream.on(
                                  'segmentTimingInfo',
                                  n.trigger.bind(n, 'audioSegmentTimingInfo'),
                                ),
                                r.adtsStream
                                  .pipe(r.audioSegmentStream)
                                  .pipe(r.coalesceStream)),
                              n.trigger('trackinfo', {
                                hasAudio: !!i,
                                hasVideo: !!t,
                              });
                          }
                        }),
                        r.coalesceStream.on(
                          'data',
                          this.trigger.bind(this, 'data'),
                        ),
                        r.coalesceStream.on('id3Frame', function (e) {
                          (e.dispatchType = r.metadataStream.dispatchType),
                            n.trigger('id3Frame', e);
                        }),
                        r.coalesceStream.on(
                          'caption',
                          this.trigger.bind(this, 'caption'),
                        ),
                        r.coalesceStream.on(
                          'done',
                          this.trigger.bind(this, 'done'),
                        );
                    }),
                    (this.setBaseMediaDecodeTime = function (n) {
                      var r = this.transmuxPipeline_;
                      e.keepOriginalTimestamps ||
                        (this.baseMediaDecodeTime = n),
                        i &&
                          ((i.timelineStartInfo.dts = void 0),
                          (i.timelineStartInfo.pts = void 0),
                          ke(i),
                          r.audioTimestampRolloverStream &&
                            r.audioTimestampRolloverStream.discontinuity()),
                        t &&
                          (r.videoSegmentStream &&
                            (r.videoSegmentStream.gopCache_ = []),
                          (t.timelineStartInfo.dts = void 0),
                          (t.timelineStartInfo.pts = void 0),
                          ke(t),
                          r.captionStream.reset()),
                        r.timestampRolloverStream &&
                          r.timestampRolloverStream.discontinuity();
                    }),
                    (this.setAudioAppendStart = function (e) {
                      i &&
                        this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(
                          e,
                        );
                    }),
                    (this.setRemux = function (t) {
                      var i = this.transmuxPipeline_;
                      (e.remux = t),
                        i && i.coalesceStream && i.coalesceStream.setRemux(t);
                    }),
                    (this.alignGopsWith = function (e) {
                      t &&
                        this.transmuxPipeline_.videoSegmentStream &&
                        this.transmuxPipeline_.videoSegmentStream.alignGopsWith(
                          e,
                        );
                    }),
                    (this.push = function (e) {
                      if (r) {
                        var t = Lt(e);
                        t && 'aac' !== this.transmuxPipeline_.type
                          ? this.setupAacPipeline()
                          : t ||
                            'ts' === this.transmuxPipeline_.type ||
                            this.setupTsPipeline(),
                          (r = !1);
                      }
                      this.transmuxPipeline_.headOfPipeline.push(e);
                    }),
                    (this.flush = function () {
                      (r = !0), this.transmuxPipeline_.headOfPipeline.flush();
                    }),
                    (this.endTimeline = function () {
                      this.transmuxPipeline_.headOfPipeline.endTimeline();
                    }),
                    (this.reset = function () {
                      this.transmuxPipeline_.headOfPipeline &&
                        this.transmuxPipeline_.headOfPipeline.reset();
                    }),
                    (this.resetCaptions = function () {
                      this.transmuxPipeline_.captionStream &&
                        this.transmuxPipeline_.captionStream.reset();
                    });
                }),
                (Ct.prototype = new W());
              var Mt = {
                  Transmuxer: Ct,
                  VideoSegmentStream: kt,
                  AudioSegmentStream: _t,
                  AUDIO_PROPERTIES: Pt,
                  VIDEO_PROPERTIES: It,
                  generateSegmentTimingInfo: Ot,
                },
                Nt = { Adts: mt, h264: yt },
                Bt = pe,
                Ut = function e(t, i) {
                  var n = [],
                    r = 0,
                    s = 0,
                    a = 0,
                    o = 1 / 0,
                    l = null,
                    u = null;
                  (i = i || {}),
                    e.prototype.init.call(this),
                    (this.push = function (e) {
                      Ce(t, e),
                        t &&
                          Pt.forEach(function (i) {
                            t[i] = e[i];
                          }),
                        n.push(e);
                    }),
                    (this.setEarliestDts = function (e) {
                      s = e;
                    }),
                    (this.setVideoBaseMediaDecodeTime = function (e) {
                      o = e;
                    }),
                    (this.setAudioAppendStart = function (e) {
                      a = e;
                    }),
                    (this.processFrames_ = function () {
                      var e, d, c, h, p;
                      0 !== n.length &&
                        0 !== (e = be(n, t, s)).length &&
                        ((t.baseMediaDecodeTime = _e(
                          t,
                          i.keepOriginalTimestamps,
                        )),
                        Ae(t, e, a, o),
                        (t.samples = Te(e)),
                        (c = J(Se(e))),
                        (n = []),
                        (d = Z(r, [t])),
                        r++,
                        (t.initSegment = $([t])),
                        (h = new Uint8Array(d.byteLength + c.byteLength)).set(
                          d,
                        ),
                        h.set(c, d.byteLength),
                        ke(t),
                        null === l && (u = l = e[0].pts),
                        (u += e.length * ((1024 * Bt) / t.samplerate)),
                        (p = { start: l }),
                        this.trigger('timingInfo', p),
                        this.trigger('data', { track: t, boxes: h }));
                    }),
                    (this.flush = function () {
                      this.processFrames_(),
                        this.trigger('timingInfo', { start: l, end: u }),
                        this.resetTiming_(),
                        this.trigger('done', 'AudioSegmentStream');
                    }),
                    (this.partialFlush = function () {
                      this.processFrames_(),
                        this.trigger('partialdone', 'AudioSegmentStream');
                    }),
                    (this.endTimeline = function () {
                      this.flush(),
                        this.trigger('endedtimeline', 'AudioSegmentStream');
                    }),
                    (this.resetTiming_ = function () {
                      ke(t), (l = null), (u = null);
                    }),
                    (this.reset = function () {
                      this.resetTiming_(), (n = []), this.trigger('reset');
                    });
                };
              Ut.prototype = new W();
              var Ft = Ut,
                Wt = function e(t, i) {
                  var n,
                    r,
                    s,
                    a = 0,
                    o = [],
                    l = [],
                    u = null,
                    d = null,
                    c = !0;
                  (i = i || {}),
                    e.prototype.init.call(this),
                    (this.push = function (e) {
                      Ce(t, e),
                        void 0 === t.timelineStartInfo.dts &&
                          (t.timelineStartInfo.dts = e.dts),
                        'seq_parameter_set_rbsp' !== e.nalUnitType ||
                          n ||
                          ((n = e.config),
                          (t.sps = [e.data]),
                          It.forEach(function (e) {
                            t[e] = n[e];
                          }, this)),
                        'pic_parameter_set_rbsp' !== e.nalUnitType ||
                          r ||
                          ((r = e.data), (t.pps = [e.data])),
                        o.push(e);
                    }),
                    (this.processNals_ = function (e) {
                      var n;
                      for (
                        o = l.concat(o);
                        o.length &&
                        'access_unit_delimiter_rbsp' !== o[0].nalUnitType;

                      )
                        o.shift();
                      if (0 !== o.length) {
                        var r = te(o);
                        if (r.length)
                          if (
                            ((l = r[r.length - 1]),
                            e &&
                              (r.pop(),
                              (r.duration -= l.duration),
                              (r.nalCount -= l.length),
                              (r.byteLength -= l.byteLength)),
                            r.length)
                          ) {
                            if (
                              (this.trigger(
                                'timelineStartInfo',
                                t.timelineStartInfo,
                              ),
                              c)
                            ) {
                              if (!(s = ie(r))[0][0].keyFrame) {
                                if (!(s = ne(s))[0][0].keyFrame)
                                  return (
                                    (o = [].concat.apply([], r).concat(l)),
                                    void (l = [])
                                  );
                                (r = [].concat.apply([], s)).duration =
                                  s.duration;
                              }
                              c = !1;
                            }
                            for (
                              null === u && ((u = r[0].pts), (d = u)),
                                d += r.duration,
                                this.trigger('timingInfo', {
                                  start: u,
                                  end: d,
                                }),
                                n = 0;
                              n < r.length;
                              n++
                            ) {
                              var h = r[n];
                              t.samples = ae(h);
                              var p = J(oe(h));
                              ke(t),
                                Ce(t, h),
                                (t.baseMediaDecodeTime = _e(
                                  t,
                                  i.keepOriginalTimestamps,
                                ));
                              var f = Z(a, [t]);
                              a++, (t.initSegment = $([t]));
                              var m = new Uint8Array(
                                f.byteLength + p.byteLength,
                              );
                              m.set(f),
                                m.set(p, f.byteLength),
                                this.trigger('data', {
                                  track: t,
                                  boxes: m,
                                  sequence: a,
                                  videoFrameDts: h.dts,
                                  videoFramePts: h.pts,
                                });
                            }
                            o = [];
                          } else o = [];
                      }
                    }),
                    (this.resetTimingAndConfig_ = function () {
                      (n = void 0), (r = void 0), (u = null), (d = null);
                    }),
                    (this.partialFlush = function () {
                      this.processNals_(!0),
                        this.trigger('partialdone', 'VideoSegmentStream');
                    }),
                    (this.flush = function () {
                      this.processNals_(!1),
                        this.resetTimingAndConfig_(),
                        this.trigger('done', 'VideoSegmentStream');
                    }),
                    (this.endTimeline = function () {
                      this.flush(),
                        this.trigger('endedtimeline', 'VideoSegmentStream');
                    }),
                    (this.reset = function () {
                      this.resetTimingAndConfig_(),
                        (l = []),
                        (o = []),
                        (c = !0),
                        this.trigger('reset');
                    });
                };
              Wt.prototype = new W();
              var Vt = Wt,
                Ht = Tt,
                qt = function (e) {
                  return (e.prototype = new W()), e.prototype.init.call(e), e;
                },
                zt = function (e, t) {
                  e.on('data', t.trigger.bind(t, 'data')),
                    e.on('done', t.trigger.bind(t, 'done')),
                    e.on('partialdone', t.trigger.bind(t, 'partialdone')),
                    e.on('endedtimeline', t.trigger.bind(t, 'endedtimeline')),
                    e.on(
                      'audioTimingInfo',
                      t.trigger.bind(t, 'audioTimingInfo'),
                    ),
                    e.on(
                      'videoTimingInfo',
                      t.trigger.bind(t, 'videoTimingInfo'),
                    ),
                    e.on('trackinfo', t.trigger.bind(t, 'trackinfo')),
                    e.on('id3Frame', function (i) {
                      (i.dispatchType = e.metadataStream.dispatchType),
                        (i.cueTime = me(i.pts)),
                        t.trigger('id3Frame', i);
                    }),
                    e.on('caption', function (e) {
                      t.trigger('caption', e);
                    });
                },
                Kt = function e(t) {
                  var i = null,
                    n = !0;
                  (t = t || {}),
                    e.prototype.init.call(this),
                    (t.baseMediaDecodeTime = t.baseMediaDecodeTime || 0),
                    (this.push = function (e) {
                      if (n) {
                        var r = Ht(e);
                        !r || (i && 'aac' === i.type)
                          ? r ||
                            (i && 'ts' === i.type) ||
                            ((i = (function (e) {
                              var t = {
                                type: 'ts',
                                tracks: { audio: null, video: null },
                                packet: new ut.TransportPacketStream(),
                                parse: new ut.TransportParseStream(),
                                elementary: new ut.ElementaryStream(),
                                timestampRollover:
                                  new ut.TimestampRolloverStream(),
                                adts: new Nt.Adts(),
                                h264: new Nt.h264.H264Stream(),
                                captionStream: new ut.CaptionStream(e),
                                metadataStream: new ut.MetadataStream(),
                              };
                              return (
                                (t.headOfPipeline = t.packet),
                                t.packet
                                  .pipe(t.parse)
                                  .pipe(t.elementary)
                                  .pipe(t.timestampRollover),
                                t.timestampRollover.pipe(t.h264),
                                t.h264.pipe(t.captionStream),
                                t.timestampRollover.pipe(t.metadataStream),
                                t.timestampRollover.pipe(t.adts),
                                t.elementary.on('data', function (i) {
                                  if ('metadata' === i.type) {
                                    for (var n = 0; n < i.tracks.length; n++)
                                      t.tracks[i.tracks[n].type] ||
                                        ((t.tracks[i.tracks[n].type] =
                                          i.tracks[n]),
                                        (t.tracks[
                                          i.tracks[n].type
                                        ].timelineStartInfo.baseMediaDecodeTime =
                                          e.baseMediaDecodeTime));
                                    t.tracks.video &&
                                      !t.videoSegmentStream &&
                                      ((t.videoSegmentStream = new Vt(
                                        t.tracks.video,
                                        e,
                                      )),
                                      t.videoSegmentStream.on(
                                        'timelineStartInfo',
                                        function (i) {
                                          t.tracks.audio &&
                                            !e.keepOriginalTimestamps &&
                                            t.audioSegmentStream.setEarliestDts(
                                              i.dts - e.baseMediaDecodeTime,
                                            );
                                        },
                                      ),
                                      t.videoSegmentStream.on(
                                        'timingInfo',
                                        t.trigger.bind(t, 'videoTimingInfo'),
                                      ),
                                      t.videoSegmentStream.on(
                                        'data',
                                        function (e) {
                                          t.trigger('data', {
                                            type: 'video',
                                            data: e,
                                          });
                                        },
                                      ),
                                      t.videoSegmentStream.on(
                                        'done',
                                        t.trigger.bind(t, 'done'),
                                      ),
                                      t.videoSegmentStream.on(
                                        'partialdone',
                                        t.trigger.bind(t, 'partialdone'),
                                      ),
                                      t.videoSegmentStream.on(
                                        'endedtimeline',
                                        t.trigger.bind(t, 'endedtimeline'),
                                      ),
                                      t.h264.pipe(t.videoSegmentStream)),
                                      t.tracks.audio &&
                                        !t.audioSegmentStream &&
                                        ((t.audioSegmentStream = new Ft(
                                          t.tracks.audio,
                                          e,
                                        )),
                                        t.audioSegmentStream.on(
                                          'data',
                                          function (e) {
                                            t.trigger('data', {
                                              type: 'audio',
                                              data: e,
                                            });
                                          },
                                        ),
                                        t.audioSegmentStream.on(
                                          'done',
                                          t.trigger.bind(t, 'done'),
                                        ),
                                        t.audioSegmentStream.on(
                                          'partialdone',
                                          t.trigger.bind(t, 'partialdone'),
                                        ),
                                        t.audioSegmentStream.on(
                                          'endedtimeline',
                                          t.trigger.bind(t, 'endedtimeline'),
                                        ),
                                        t.audioSegmentStream.on(
                                          'timingInfo',
                                          t.trigger.bind(t, 'audioTimingInfo'),
                                        ),
                                        t.adts.pipe(t.audioSegmentStream)),
                                      t.trigger('trackinfo', {
                                        hasAudio: !!t.tracks.audio,
                                        hasVideo: !!t.tracks.video,
                                      });
                                  }
                                }),
                                t.captionStream.on('data', function (i) {
                                  var n;
                                  (n =
                                    (t.tracks.video &&
                                      t.tracks.video.timelineStartInfo.pts) ||
                                    0),
                                    (i.startTime = ye(
                                      i.startPts,
                                      n,
                                      e.keepOriginalTimestamps,
                                    )),
                                    (i.endTime = ye(
                                      i.endPts,
                                      n,
                                      e.keepOriginalTimestamps,
                                    )),
                                    t.trigger('caption', i);
                                }),
                                (t = qt(t)).metadataStream.on(
                                  'data',
                                  t.trigger.bind(t, 'id3Frame'),
                                ),
                                t
                              );
                            })(t)),
                            zt(i, this))
                          : ((i = (function (e) {
                              var t = {
                                type: 'aac',
                                tracks: { audio: null },
                                metadataStream: new ut.MetadataStream(),
                                aacStream: new jt(),
                                audioRollover: new ut.TimestampRolloverStream(
                                  'audio',
                                ),
                                timedMetadataRollover:
                                  new ut.TimestampRolloverStream(
                                    'timed-metadata',
                                  ),
                                adtsStream: new mt(!0),
                              };
                              return (
                                (t.headOfPipeline = t.aacStream),
                                t.aacStream
                                  .pipe(t.audioRollover)
                                  .pipe(t.adtsStream),
                                t.aacStream
                                  .pipe(t.timedMetadataRollover)
                                  .pipe(t.metadataStream),
                                t.metadataStream.on('timestamp', function (e) {
                                  t.aacStream.setTimestamp(e.timeStamp);
                                }),
                                t.aacStream.on('data', function (i) {
                                  ('timed-metadata' !== i.type &&
                                    'audio' !== i.type) ||
                                    t.audioSegmentStream ||
                                    ((t.tracks.audio = t.tracks.audio || {
                                      timelineStartInfo: {
                                        baseMediaDecodeTime:
                                          e.baseMediaDecodeTime,
                                      },
                                      codec: 'adts',
                                      type: 'audio',
                                    }),
                                    (t.audioSegmentStream = new Ft(
                                      t.tracks.audio,
                                      e,
                                    )),
                                    t.audioSegmentStream.on(
                                      'data',
                                      function (e) {
                                        t.trigger('data', {
                                          type: 'audio',
                                          data: e,
                                        });
                                      },
                                    ),
                                    t.audioSegmentStream.on(
                                      'partialdone',
                                      t.trigger.bind(t, 'partialdone'),
                                    ),
                                    t.audioSegmentStream.on(
                                      'done',
                                      t.trigger.bind(t, 'done'),
                                    ),
                                    t.audioSegmentStream.on(
                                      'endedtimeline',
                                      t.trigger.bind(t, 'endedtimeline'),
                                    ),
                                    t.audioSegmentStream.on(
                                      'timingInfo',
                                      t.trigger.bind(t, 'audioTimingInfo'),
                                    ),
                                    t.adtsStream.pipe(t.audioSegmentStream),
                                    t.trigger('trackinfo', {
                                      hasAudio: !!t.tracks.audio,
                                      hasVideo: !!t.tracks.video,
                                    }));
                                }),
                                (t = qt(t)).metadataStream.on(
                                  'data',
                                  t.trigger.bind(t, 'id3Frame'),
                                ),
                                t
                              );
                            })(t)),
                            zt(i, this)),
                          (n = !1);
                      }
                      i.headOfPipeline.push(e);
                    }),
                    (this.flush = function () {
                      i && ((n = !0), i.headOfPipeline.flush());
                    }),
                    (this.partialFlush = function () {
                      i && i.headOfPipeline.partialFlush();
                    }),
                    (this.endTimeline = function () {
                      i && i.headOfPipeline.endTimeline();
                    }),
                    (this.reset = function () {
                      i && i.headOfPipeline.reset();
                    }),
                    (this.setBaseMediaDecodeTime = function (e) {
                      t.keepOriginalTimestamps || (t.baseMediaDecodeTime = e),
                        i &&
                          (i.tracks.audio &&
                            ((i.tracks.audio.timelineStartInfo.dts = void 0),
                            (i.tracks.audio.timelineStartInfo.pts = void 0),
                            ke(i.tracks.audio),
                            i.audioRollover && i.audioRollover.discontinuity()),
                          i.tracks.video &&
                            (i.videoSegmentStream &&
                              (i.videoSegmentStream.gopCache_ = []),
                            (i.tracks.video.timelineStartInfo.dts = void 0),
                            (i.tracks.video.timelineStartInfo.pts = void 0),
                            ke(i.tracks.video)),
                          i.timestampRollover &&
                            i.timestampRollover.discontinuity());
                    }),
                    (this.setRemux = function (e) {
                      (t.remux = e),
                        i && i.coalesceStream && i.coalesceStream.setRemux(e);
                    }),
                    (this.setAudioAppendStart = function (e) {
                      i &&
                        i.tracks.audio &&
                        i.audioSegmentStream &&
                        i.audioSegmentStream.setAudioAppendStart(e);
                    }),
                    (this.alignGopsWith = function (e) {});
                };
              Kt.prototype = new W();
              var Xt = Kt,
                Qt = function (e) {
                  return e >>> 0;
                },
                Gt = function (e) {
                  var t = '';
                  return (
                    (t += String.fromCharCode(e[0])),
                    (t += String.fromCharCode(e[1])),
                    (t += String.fromCharCode(e[2])),
                    (t += String.fromCharCode(e[3]))
                  );
                },
                Yt = Qt,
                Jt = function e(t, i) {
                  var n,
                    r,
                    s,
                    a,
                    o,
                    l = [];
                  if (!i.length) return null;
                  for (n = 0; n < t.byteLength; )
                    (r = Yt(
                      (t[n] << 24) |
                        (t[n + 1] << 16) |
                        (t[n + 2] << 8) |
                        t[n + 3],
                    )),
                      (s = Gt(t.subarray(n + 4, n + 8))),
                      (a = r > 1 ? n + r : t.byteLength),
                      s === i[0] &&
                        (1 === i.length
                          ? l.push(t.subarray(n + 8, a))
                          : (o = e(t.subarray(n + 8, a), i.slice(1))).length &&
                            (l = l.concat(o))),
                      (n = a);
                  return l;
                },
                Zt = Qt,
                $t = function (e) {
                  var t = {
                    version: e[0],
                    flags: new Uint8Array(e.subarray(1, 4)),
                    baseMediaDecodeTime: Zt(
                      (e[4] << 24) | (e[5] << 16) | (e[6] << 8) | e[7],
                    ),
                  };
                  return (
                    1 === t.version &&
                      ((t.baseMediaDecodeTime *= Math.pow(2, 32)),
                      (t.baseMediaDecodeTime += Zt(
                        (e[8] << 24) | (e[9] << 16) | (e[10] << 8) | e[11],
                      ))),
                    t
                  );
                },
                ei = function (e) {
                  return {
                    isLeading: (12 & e[0]) >>> 2,
                    dependsOn: 3 & e[0],
                    isDependedOn: (192 & e[1]) >>> 6,
                    hasRedundancy: (48 & e[1]) >>> 4,
                    paddingValue: (14 & e[1]) >>> 1,
                    isNonSyncSample: 1 & e[1],
                    degradationPriority: (e[2] << 8) | e[3],
                  };
                },
                ti = function (e) {
                  var t,
                    i = {
                      version: e[0],
                      flags: new Uint8Array(e.subarray(1, 4)),
                      samples: [],
                    },
                    n = new DataView(e.buffer, e.byteOffset, e.byteLength),
                    r = 1 & i.flags[2],
                    s = 4 & i.flags[2],
                    a = 1 & i.flags[1],
                    o = 2 & i.flags[1],
                    l = 4 & i.flags[1],
                    u = 8 & i.flags[1],
                    d = n.getUint32(4),
                    c = 8;
                  for (
                    r && ((i.dataOffset = n.getInt32(c)), (c += 4)),
                      s &&
                        d &&
                        ((t = { flags: ei(e.subarray(c, c + 4)) }),
                        (c += 4),
                        a && ((t.duration = n.getUint32(c)), (c += 4)),
                        o && ((t.size = n.getUint32(c)), (c += 4)),
                        u &&
                          (1 === i.version
                            ? (t.compositionTimeOffset = n.getInt32(c))
                            : (t.compositionTimeOffset = n.getUint32(c)),
                          (c += 4)),
                        i.samples.push(t),
                        d--);
                    d--;

                  )
                    (t = {}),
                      a && ((t.duration = n.getUint32(c)), (c += 4)),
                      o && ((t.size = n.getUint32(c)), (c += 4)),
                      l && ((t.flags = ei(e.subarray(c, c + 4))), (c += 4)),
                      u &&
                        (1 === i.version
                          ? (t.compositionTimeOffset = n.getInt32(c))
                          : (t.compositionTimeOffset = n.getUint32(c)),
                        (c += 4)),
                      i.samples.push(t);
                  return i;
                },
                ii = function (e) {
                  var t,
                    i = new DataView(e.buffer, e.byteOffset, e.byteLength),
                    n = {
                      version: e[0],
                      flags: new Uint8Array(e.subarray(1, 4)),
                      trackId: i.getUint32(4),
                    },
                    r = 1 & n.flags[2],
                    s = 2 & n.flags[2],
                    a = 8 & n.flags[2],
                    o = 16 & n.flags[2],
                    l = 32 & n.flags[2],
                    u = 65536 & n.flags[0],
                    d = 131072 & n.flags[0];
                  return (
                    (t = 8),
                    r &&
                      ((t += 4),
                      (n.baseDataOffset = i.getUint32(12)),
                      (t += 4)),
                    s &&
                      ((n.sampleDescriptionIndex = i.getUint32(t)), (t += 4)),
                    a && ((n.defaultSampleDuration = i.getUint32(t)), (t += 4)),
                    o && ((n.defaultSampleSize = i.getUint32(t)), (t += 4)),
                    l && (n.defaultSampleFlags = i.getUint32(t)),
                    u && (n.durationIsEmpty = !0),
                    !r && d && (n.baseDataOffsetIsMoof = !0),
                    n
                  );
                },
                ni = Ie,
                ri = He.CaptionStream,
                si = function (e, t) {
                  for (var i = e, n = 0; n < t.length; n++) {
                    var r = t[n];
                    if (i < r.size) return r;
                    i -= r.size;
                  }
                  return null;
                },
                ai = function (e, t) {
                  var i = Jt(e, ['moof', 'traf']),
                    n = Jt(e, ['mdat']),
                    r = {},
                    s = [];
                  return (
                    n.forEach(function (e, t) {
                      var n = i[t];
                      s.push({ mdat: e, traf: n });
                    }),
                    s.forEach(function (e) {
                      var i,
                        n,
                        s = e.mdat,
                        a = e.traf,
                        o = Jt(a, ['tfhd']),
                        l = ii(o[0]),
                        u = l.trackId,
                        d = Jt(a, ['tfdt']),
                        c = d.length > 0 ? $t(d[0]).baseMediaDecodeTime : 0,
                        h = Jt(a, ['trun']);
                      t === u &&
                        h.length > 0 &&
                        ((i = (function (e, t, i) {
                          var n = t,
                            r = i.defaultSampleDuration || 0,
                            s = i.defaultSampleSize || 0,
                            a = i.trackId,
                            o = [];
                          return (
                            e.forEach(function (e) {
                              var t = ti(e).samples;
                              t.forEach(function (e) {
                                void 0 === e.duration && (e.duration = r),
                                  void 0 === e.size && (e.size = s),
                                  (e.trackId = a),
                                  (e.dts = n),
                                  void 0 === e.compositionTimeOffset &&
                                    (e.compositionTimeOffset = 0),
                                  (e.pts = n + e.compositionTimeOffset),
                                  (n += e.duration);
                              }),
                                (o = o.concat(t));
                            }),
                            o
                          );
                        })(h, c, l)),
                        (n = (function (e, t, i) {
                          var n,
                            r,
                            s,
                            a,
                            o = new DataView(
                              e.buffer,
                              e.byteOffset,
                              e.byteLength,
                            ),
                            l = [];
                          for (r = 0; r + 4 < e.length; r += s)
                            if (((s = o.getUint32(r)), (r += 4), !(s <= 0)))
                              switch (31 & e[r]) {
                                case 6:
                                  var u = e.subarray(r + 1, r + 1 + s),
                                    d = si(r, t);
                                  if (
                                    ((n = {
                                      nalUnitType: 'sei_rbsp',
                                      size: s,
                                      data: u,
                                      escapedRBSP: ni(u),
                                      trackId: i,
                                    }),
                                    d)
                                  )
                                    (n.pts = d.pts), (n.dts = d.dts), (a = d);
                                  else {
                                    if (!a) {
                                      console.log(
                                        "We've encountered a nal unit without data. See mux.js#233.",
                                      );
                                      break;
                                    }
                                    (n.pts = a.pts), (n.dts = a.dts);
                                  }
                                  l.push(n);
                              }
                          return l;
                        })(s, i, u)),
                        r[u] || (r[u] = []),
                        (r[u] = r[u].concat(n)));
                    }),
                    r
                  );
                },
                oi = function () {
                  var e,
                    t,
                    i,
                    n,
                    r,
                    s,
                    a = !1;
                  (this.isInitialized = function () {
                    return a;
                  }),
                    (this.init = function (t) {
                      (e = new ri()),
                        (a = !0),
                        (s = !!t && t.isPartial),
                        e.on('data', function (e) {
                          (e.startTime = e.startPts / n),
                            (e.endTime = e.endPts / n),
                            r.captions.push(e),
                            (r.captionStreams[e.stream] = !0);
                        });
                    }),
                    (this.isNewInit = function (e, t) {
                      return (
                        !(
                          (e && 0 === e.length) ||
                          (t &&
                            'object' == typeof t &&
                            0 === Object.keys(t).length)
                        ) &&
                        (i !== e[0] || n !== t[i])
                      );
                    }),
                    (this.parse = function (e, s, a) {
                      var o;
                      if (!this.isInitialized()) return null;
                      if (!s || !a) return null;
                      if (this.isNewInit(s, a)) (i = s[0]), (n = a[i]);
                      else if (null === i || !n) return t.push(e), null;
                      for (; t.length > 0; ) {
                        var l = t.shift();
                        this.parse(l, s, a);
                      }
                      return (
                        (o = (function (e, t, i) {
                          return null === t
                            ? null
                            : { seiNals: ai(e, t)[t], timescale: i };
                        })(e, i, n)),
                        null !== o && o.seiNals
                          ? (this.pushNals(o.seiNals), this.flushStream(), r)
                          : null
                      );
                    }),
                    (this.pushNals = function (t) {
                      if (!this.isInitialized() || !t || 0 === t.length)
                        return null;
                      t.forEach(function (t) {
                        e.push(t);
                      });
                    }),
                    (this.flushStream = function () {
                      if (!this.isInitialized()) return null;
                      s ? e.partialFlush() : e.flush();
                    }),
                    (this.clearParsedCaptions = function () {
                      (r.captions = []), (r.captionStreams = {});
                    }),
                    (this.resetCaptionStream = function () {
                      if (!this.isInitialized()) return null;
                      e.reset();
                    }),
                    (this.clearAllCaptions = function () {
                      this.clearParsedCaptions(), this.resetCaptionStream();
                    }),
                    (this.reset = function () {
                      (t = []),
                        (i = null),
                        (n = null),
                        r
                          ? this.clearParsedCaptions()
                          : (r = { captions: [], captionStreams: {} }),
                        this.resetCaptionStream();
                    }),
                    this.reset();
                },
                li = function (e) {
                  return 'AudioSegmentStream' === e
                    ? 'audio'
                    : 'VideoSegmentStream' === e
                      ? 'video'
                      : '';
                },
                ui = (function () {
                  function e(e, t) {
                    (this.options = t || {}), (this.self = e), this.init();
                  }
                  var t = e.prototype;
                  return (
                    (t.init = function () {
                      this.transmuxer && this.transmuxer.dispose(),
                        (this.transmuxer = this.options.handlePartialData
                          ? new Xt(this.options)
                          : new Mt.Transmuxer(this.options)),
                        this.options.handlePartialData
                          ? (function (e, t) {
                              t.on('data', function (t) {
                                var i = {
                                    data: t.data.track.initSegment.buffer,
                                    byteOffset:
                                      t.data.track.initSegment.byteOffset,
                                    byteLength:
                                      t.data.track.initSegment.byteLength,
                                  },
                                  n = {
                                    boxes: {
                                      data: t.data.boxes.buffer,
                                      byteOffset: t.data.boxes.byteOffset,
                                      byteLength: t.data.boxes.byteLength,
                                    },
                                    initSegment: i,
                                    type: t.type,
                                    sequence: t.data.sequence,
                                  };
                                void 0 !== t.data.videoFrameDts &&
                                  (n.videoFrameDtsTime = me(
                                    t.data.videoFrameDts,
                                  )),
                                  void 0 !== t.data.videoFramePts &&
                                    (n.videoFramePtsTime = me(
                                      t.data.videoFramePts,
                                    )),
                                  e.postMessage(
                                    { action: 'data', segment: n },
                                    [n.boxes.data, n.initSegment.data],
                                  );
                              }),
                                t.on('id3Frame', function (t) {
                                  e.postMessage({
                                    action: 'id3Frame',
                                    id3Frame: t,
                                  });
                                }),
                                t.on('caption', function (t) {
                                  e.postMessage({
                                    action: 'caption',
                                    caption: t,
                                  });
                                }),
                                t.on('done', function (t) {
                                  e.postMessage({
                                    action: 'done',
                                    type: li(t),
                                  });
                                }),
                                t.on('partialdone', function (t) {
                                  e.postMessage({
                                    action: 'partialdone',
                                    type: li(t),
                                  });
                                }),
                                t.on('endedsegment', function (t) {
                                  e.postMessage({
                                    action: 'endedSegment',
                                    type: li(t),
                                  });
                                }),
                                t.on('trackinfo', function (t) {
                                  e.postMessage({
                                    action: 'trackinfo',
                                    trackInfo: t,
                                  });
                                }),
                                t.on('audioTimingInfo', function (t) {
                                  if (null !== t.start) {
                                    var i = { start: me(t.start) };
                                    t.end && (i.end = me(t.end)),
                                      e.postMessage({
                                        action: 'audioTimingInfo',
                                        audioTimingInfo: i,
                                      });
                                  } else
                                    e.postMessage({
                                      action: 'audioTimingInfo',
                                      audioTimingInfo: t,
                                    });
                                }),
                                t.on('videoTimingInfo', function (t) {
                                  var i = { start: me(t.start) };
                                  t.end && (i.end = me(t.end)),
                                    e.postMessage({
                                      action: 'videoTimingInfo',
                                      videoTimingInfo: i,
                                    });
                                });
                            })(this.self, this.transmuxer)
                          : (function (e, t) {
                              t.on('data', function (t) {
                                var i = t.initSegment;
                                t.initSegment = {
                                  data: i.buffer,
                                  byteOffset: i.byteOffset,
                                  byteLength: i.byteLength,
                                };
                                var n = t.data;
                                (t.data = n.buffer),
                                  e.postMessage(
                                    {
                                      action: 'data',
                                      segment: t,
                                      byteOffset: n.byteOffset,
                                      byteLength: n.byteLength,
                                    },
                                    [t.data],
                                  );
                              }),
                                t.on('done', function (t) {
                                  e.postMessage({ action: 'done' });
                                }),
                                t.on('gopInfo', function (t) {
                                  e.postMessage({
                                    action: 'gopInfo',
                                    gopInfo: t,
                                  });
                                }),
                                t.on('videoSegmentTimingInfo', function (t) {
                                  var i = {
                                    start: {
                                      decode: me(t.start.dts),
                                      presentation: me(t.start.pts),
                                    },
                                    end: {
                                      decode: me(t.end.dts),
                                      presentation: me(t.end.pts),
                                    },
                                    baseMediaDecodeTime: me(
                                      t.baseMediaDecodeTime,
                                    ),
                                  };
                                  t.prependedContentDuration &&
                                    (i.prependedContentDuration = me(
                                      t.prependedContentDuration,
                                    )),
                                    e.postMessage({
                                      action: 'videoSegmentTimingInfo',
                                      videoSegmentTimingInfo: i,
                                    });
                                }),
                                t.on('audioSegmentTimingInfo', function (t) {
                                  var i = {
                                    start: {
                                      decode: me(t.start.dts),
                                      presentation: me(t.start.pts),
                                    },
                                    end: {
                                      decode: me(t.end.dts),
                                      presentation: me(t.end.pts),
                                    },
                                    baseMediaDecodeTime: me(
                                      t.baseMediaDecodeTime,
                                    ),
                                  };
                                  t.prependedContentDuration &&
                                    (i.prependedContentDuration = me(
                                      t.prependedContentDuration,
                                    )),
                                    e.postMessage({
                                      action: 'audioSegmentTimingInfo',
                                      audioSegmentTimingInfo: i,
                                    });
                                }),
                                t.on('id3Frame', function (t) {
                                  e.postMessage({
                                    action: 'id3Frame',
                                    id3Frame: t,
                                  });
                                }),
                                t.on('caption', function (t) {
                                  e.postMessage({
                                    action: 'caption',
                                    caption: t,
                                  });
                                }),
                                t.on('trackinfo', function (t) {
                                  e.postMessage({
                                    action: 'trackinfo',
                                    trackInfo: t,
                                  });
                                }),
                                t.on('audioTimingInfo', function (t) {
                                  e.postMessage({
                                    action: 'audioTimingInfo',
                                    audioTimingInfo: {
                                      start: me(t.start),
                                      end: me(t.end),
                                    },
                                  });
                                }),
                                t.on('videoTimingInfo', function (t) {
                                  e.postMessage({
                                    action: 'videoTimingInfo',
                                    videoTimingInfo: {
                                      start: me(t.start),
                                      end: me(t.end),
                                    },
                                  });
                                });
                            })(this.self, this.transmuxer);
                    }),
                    (t.pushMp4Captions = function (e) {
                      this.captionParser ||
                        ((this.captionParser = new oi()),
                        this.captionParser.init());
                      var t = new Uint8Array(
                          e.data,
                          e.byteOffset,
                          e.byteLength,
                        ),
                        i = this.captionParser.parse(
                          t,
                          e.trackIds,
                          e.timescales,
                        );
                      this.self.postMessage(
                        {
                          action: 'mp4Captions',
                          captions: (i && i.captions) || [],
                          data: t.buffer,
                        },
                        [t.buffer],
                      );
                    }),
                    (t.clearAllMp4Captions = function () {
                      this.captionParser &&
                        this.captionParser.clearAllCaptions();
                    }),
                    (t.clearParsedMp4Captions = function () {
                      this.captionParser &&
                        this.captionParser.clearParsedCaptions();
                    }),
                    (t.push = function (e) {
                      var t = new Uint8Array(
                        e.data,
                        e.byteOffset,
                        e.byteLength,
                      );
                      this.transmuxer.push(t);
                    }),
                    (t.reset = function () {
                      this.transmuxer.reset();
                    }),
                    (t.setTimestampOffset = function (e) {
                      var t = e.timestampOffset || 0;
                      this.transmuxer.setBaseMediaDecodeTime(Math.round(fe(t)));
                    }),
                    (t.setAudioAppendStart = function (e) {
                      this.transmuxer.setAudioAppendStart(
                        Math.ceil(fe(e.appendStart)),
                      );
                    }),
                    (t.setRemux = function (e) {
                      this.transmuxer.setRemux(e.remux);
                    }),
                    (t.flush = function (e) {
                      this.transmuxer.flush(),
                        self.postMessage({
                          action: 'done',
                          type: 'transmuxed',
                        });
                    }),
                    (t.partialFlush = function (e) {
                      this.transmuxer.partialFlush(),
                        self.postMessage({
                          action: 'partialdone',
                          type: 'transmuxed',
                        });
                    }),
                    (t.endTimeline = function () {
                      this.transmuxer.endTimeline(),
                        self.postMessage({
                          action: 'endedtimeline',
                          type: 'transmuxed',
                        });
                    }),
                    (t.alignGopsWith = function (e) {
                      this.transmuxer.alignGopsWith(e.gopsToAlignWith.slice());
                    }),
                    e
                  );
                })();
              self.onmessage = function (e) {
                'init' === e.data.action && e.data.options
                  ? (this.messageHandlers = new ui(self, e.data.options))
                  : (this.messageHandlers ||
                      (this.messageHandlers = new ui(self)),
                    e.data &&
                      e.data.action &&
                      'init' !== e.data.action &&
                      this.messageHandlers[e.data.action] &&
                      this.messageHandlers[e.data.action](e.data));
              };
            }),
          ),
          sl = tl(rl),
          al = function (e) {
            var t = e.transmuxer,
              i = e.bytes,
              n = e.audioAppendStart,
              r = e.gopsToAlignWith,
              s = e.isPartial,
              a = e.remux,
              o = e.onData,
              l = e.onTrackInfo,
              u = e.onAudioTimingInfo,
              d = e.onVideoTimingInfo,
              c = e.onVideoSegmentTimingInfo,
              h = e.onAudioSegmentTimingInfo,
              p = e.onId3,
              f = e.onCaptions,
              m = e.onDone,
              g = e.onEndedTimeline,
              v = e.isEndOfTimeline,
              y = { isPartial: s, buffer: [] },
              A = v;
            if (
              ((t.onmessage = function (i) {
                t.currentTransmux === e &&
                  ('data' === i.data.action &&
                    (function (e, t, i) {
                      var n = e.data.segment,
                        r = n.type,
                        s = n.initSegment,
                        a = n.captions,
                        o = n.captionStreams,
                        l = n.metadata,
                        u = n.videoFrameDtsTime,
                        d = n.videoFramePtsTime;
                      t.buffer.push({
                        captions: a,
                        captionStreams: o,
                        metadata: l,
                      });
                      var c = e.data.segment.boxes || {
                          data: e.data.segment.data,
                        },
                        h = {
                          type: r,
                          data: new Uint8Array(
                            c.data,
                            c.data.byteOffset,
                            c.data.byteLength,
                          ),
                          initSegment: new Uint8Array(
                            s.data,
                            s.byteOffset,
                            s.byteLength,
                          ),
                        };
                      void 0 !== u && (h.videoFrameDtsTime = u),
                        void 0 !== d && (h.videoFramePtsTime = d),
                        i(h);
                    })(i, y, o),
                  'trackinfo' === i.data.action && l(i.data.trackInfo),
                  'gopInfo' === i.data.action &&
                    (function (e, t) {
                      t.gopInfo = e.data.gopInfo;
                    })(i, y),
                  'audioTimingInfo' === i.data.action &&
                    u(i.data.audioTimingInfo),
                  'videoTimingInfo' === i.data.action &&
                    d(i.data.videoTimingInfo),
                  'videoSegmentTimingInfo' === i.data.action &&
                    c(i.data.videoSegmentTimingInfo),
                  'audioSegmentTimingInfo' === i.data.action &&
                    h(i.data.audioSegmentTimingInfo),
                  'id3Frame' === i.data.action &&
                    p([i.data.id3Frame], i.data.id3Frame.dispatchType),
                  'caption' === i.data.action && f(i.data.caption),
                  'endedtimeline' === i.data.action && ((A = !1), g()),
                  'transmuxed' === i.data.type &&
                    (A ||
                      ((t.onmessage = null),
                      (function (e) {
                        var t = e.transmuxedData,
                          i = e.callback;
                        (t.buffer = []), i(t);
                      })({ transmuxedData: y, callback: m }),
                      ol(t))));
              }),
              n &&
                t.postMessage({
                  action: 'setAudioAppendStart',
                  appendStart: n,
                }),
              Array.isArray(r) &&
                t.postMessage({ action: 'alignGopsWith', gopsToAlignWith: r }),
              void 0 !== a && t.postMessage({ action: 'setRemux', remux: a }),
              i.byteLength)
            ) {
              var b = i instanceof ArrayBuffer ? i : i.buffer,
                T = i instanceof ArrayBuffer ? 0 : i.byteOffset;
              t.postMessage(
                {
                  action: 'push',
                  data: b,
                  byteOffset: T,
                  byteLength: i.byteLength,
                },
                [b],
              );
            }
            t.postMessage({ action: s ? 'partialFlush' : 'flush' }),
              v && t.postMessage({ action: 'endTimeline' });
          },
          ol = function (e) {
            (e.currentTransmux = null),
              e.transmuxQueue.length &&
                ((e.currentTransmux = e.transmuxQueue.shift()),
                'function' == typeof e.currentTransmux
                  ? e.currentTransmux()
                  : al(e.currentTransmux));
          },
          ll = function (e, t) {
            e.postMessage({ action: t }), ol(e);
          },
          ul = function (e, t) {
            if (!t.currentTransmux)
              return (t.currentTransmux = e), void ll(t, e);
            t.transmuxQueue.push(ll.bind(null, t, e));
          },
          dl = function (e) {
            if (!e.transmuxer.currentTransmux)
              return (e.transmuxer.currentTransmux = e), void al(e);
            e.transmuxer.transmuxQueue.push(e);
          },
          cl = function (e) {
            ul('reset', e);
          },
          hl = function (e) {
            var t = new sl();
            (t.currentTransmux = null), (t.transmuxQueue = []);
            var i = t.terminate;
            return (
              (t.terminate = function () {
                return (
                  (t.currentTransmux = null),
                  (t.transmuxQueue.length = 0),
                  i.call(t)
                );
              }),
              t.postMessage({ action: 'init', options: e }),
              t
            );
          },
          pl = 2,
          fl = -101,
          ml = -102,
          gl = function (e) {
            e.forEach(function (e) {
              e.abort();
            });
          },
          vl = function (e, t) {
            return t.timedout
              ? {
                  status: t.status,
                  message: 'HLS request timed-out at URL: ' + t.uri,
                  code: fl,
                  xhr: t,
                }
              : t.aborted
                ? {
                    status: t.status,
                    message: 'HLS request aborted at URL: ' + t.uri,
                    code: ml,
                    xhr: t,
                  }
                : e
                  ? {
                      status: t.status,
                      message: 'HLS request errored at URL: ' + t.uri,
                      code: pl,
                      xhr: t,
                    }
                  : null;
          },
          yl = function (e) {
            var t = e.segment,
              i = e.bytes,
              n = e.isPartial,
              r = e.trackInfoFn,
              s = e.timingInfoFn,
              a = e.videoSegmentTimingInfoFn,
              o = e.audioSegmentTimingInfoFn,
              l = e.id3Fn,
              u = e.captionsFn,
              d = e.isEndOfTimeline,
              c = e.endedTimelineFn,
              h = e.dataFn,
              p = e.doneFn,
              f = (t.map && t.map.tracks) || {},
              m = Boolean(f.audio && f.video),
              g = s.bind(null, t, 'audio', 'start'),
              v = s.bind(null, t, 'audio', 'end'),
              y = s.bind(null, t, 'video', 'start'),
              A = s.bind(null, t, 'video', 'end');
            if (!n && !t.lastReachedChar) {
              var b = (function (e, t) {
                var i =
                    'number' != typeof t || isNaN(t)
                      ? void 0
                      : t * Ct.ONE_SECOND_IN_TS,
                  n = _t().inspect(e, i);
                if (!n) return null;
                var r = {
                  hasVideo: (n.video && 2 === n.video.length) || !1,
                  hasAudio: (n.audio && 2 === n.audio.length) || !1,
                };
                return (
                  r.hasVideo && (r.videoStart = n.video[0].ptsTime),
                  r.hasAudio && (r.audioStart = n.audio[0].ptsTime),
                  r
                );
              })(i, t.baseStartTime);
              b &&
                (r(t, {
                  hasAudio: b.hasAudio,
                  hasVideo: b.hasVideo,
                  isMuxed: m,
                }),
                (r = null),
                b.hasAudio && !m && g(b.audioStart),
                b.hasVideo && y(b.videoStart),
                (g = null),
                (y = null));
            }
            dl({
              bytes: i,
              transmuxer: t.transmuxer,
              audioAppendStart: t.audioAppendStart,
              gopsToAlignWith: t.gopsToAlignWith,
              isPartial: n,
              remux: m,
              onData: function (e) {
                (e.type = 'combined' === e.type ? 'video' : e.type), h(t, e);
              },
              onTrackInfo: function (e) {
                r && (m && (e.isMuxed = !0), r(t, e));
              },
              onAudioTimingInfo: function (e) {
                g && void 0 !== e.start && (g(e.start), (g = null)),
                  v && void 0 !== e.end && v(e.end);
              },
              onVideoTimingInfo: function (e) {
                y && void 0 !== e.start && (y(e.start), (y = null)),
                  A && void 0 !== e.end && A(e.end);
              },
              onVideoSegmentTimingInfo: function (e) {
                a(e);
              },
              onAudioSegmentTimingInfo: function (e) {
                o(e);
              },
              onId3: function (e, i) {
                l(t, e, i);
              },
              onCaptions: function (e) {
                u(t, [e]);
              },
              isEndOfTimeline: d && !n,
              onEndedTimeline: function () {
                c();
              },
              onDone: function (e) {
                p &&
                  !n &&
                  ((e.type = 'combined' === e.type ? 'video' : e.type),
                  p(null, t, e));
              },
            });
          },
          Al = function (e) {
            var t = e.segment,
              i = e.bytes,
              n = e.isPartial,
              r = e.trackInfoFn,
              s = e.timingInfoFn,
              a = e.videoSegmentTimingInfoFn,
              o = e.audioSegmentTimingInfoFn,
              l = e.id3Fn,
              u = e.captionsFn,
              d = e.isEndOfTimeline,
              c = e.endedTimelineFn,
              h = e.dataFn,
              p = e.doneFn,
              f = new Uint8Array(i);
            if (wt(f)) {
              t.isFmp4 = !0;
              var m = t.map.tracks,
                g = { isFmp4: !0, hasVideo: !!m.video, hasAudio: !!m.audio };
              m.audio &&
                m.audio.codec &&
                'enca' !== m.audio.codec &&
                (g.audioCodec = m.audio.codec),
                m.video &&
                  m.video.codec &&
                  'encv' !== m.video.codec &&
                  (g.videoCodec = m.video.codec),
                m.video && m.audio && (g.isMuxed = !0),
                r(t, g);
              var v = jt().startTime(t.map.timescales, f);
              g.hasAudio && !g.isMuxed && s(t, 'audio', 'start', v),
                g.hasVideo && s(t, 'video', 'start', v);
              var y = function (e) {
                h(t, {
                  data: i,
                  type: g.hasAudio && !g.isMuxed ? 'audio' : 'video',
                }),
                  e && e.length && u(t, e),
                  p(null, t, {});
              };
              if (!m.video || !i.byteLength || !t.transmuxer) return void y();
              var A = i instanceof ArrayBuffer ? i : i.buffer,
                b = i instanceof ArrayBuffer ? 0 : i.byteOffset;
              return (
                t.transmuxer.addEventListener('message', function e(n) {
                  if ('mp4Captions' === n.data.action) {
                    t.transmuxer.removeEventListener('message', e);
                    var r = n.data.data;
                    (t.bytes = i =
                      new Uint8Array(r, r.byteOffset || 0, r.byteLength)),
                      y(n.data.captions);
                  }
                }),
                void t.transmuxer.postMessage(
                  {
                    action: 'pushMp4Captions',
                    timescales: t.map.timescales,
                    trackIds: [m.video.id],
                    data: A,
                    byteOffset: b,
                    byteLength: i.byteLength,
                  },
                  [A],
                )
              );
            }
            if (t.transmuxer) {
              if (
                (void 0 === t.container && (t.container = St(f)),
                'ts' !== t.container && 'aac' !== t.container)
              )
                return (
                  r(t, { hasAudio: !1, hasVideo: !1 }), void p(null, t, {})
                );
              yl({
                segment: t,
                bytes: i,
                isPartial: n,
                trackInfoFn: r,
                timingInfoFn: s,
                videoSegmentTimingInfoFn: a,
                audioSegmentTimingInfoFn: o,
                id3Fn: l,
                captionsFn: u,
                isEndOfTimeline: d,
                endedTimelineFn: c,
                dataFn: h,
                doneFn: p,
              });
            } else p(null, t, {});
          },
          bl = function (e) {
            var t = e.activeXhrs,
              i = e.decryptionWorker,
              n = e.trackInfoFn,
              r = e.timingInfoFn,
              s = e.videoSegmentTimingInfoFn,
              a = e.audioSegmentTimingInfoFn,
              o = e.id3Fn,
              l = e.captionsFn,
              u = e.isEndOfTimeline,
              d = e.endedTimelineFn,
              c = e.dataFn,
              h = e.doneFn,
              p = 0,
              f = !1;
            return function (e, m) {
              if (!f) {
                if (e) return (f = !0), gl(t), h(e, m);
                if ((p += 1) === t.length) {
                  if (((m.endOfAllRequests = Date.now()), m.encryptedBytes))
                    return (function (e) {
                      var t,
                        i = e.decryptionWorker,
                        n = e.segment,
                        r = e.trackInfoFn,
                        s = e.timingInfoFn,
                        a = e.videoSegmentTimingInfoFn,
                        o = e.audioSegmentTimingInfoFn,
                        l = e.id3Fn,
                        u = e.captionsFn,
                        d = e.isEndOfTimeline,
                        c = e.endedTimelineFn,
                        h = e.dataFn,
                        p = e.doneFn;
                      i.addEventListener('message', function e(t) {
                        if (t.data.source === n.requestId) {
                          i.removeEventListener('message', e);
                          var f = t.data.decrypted;
                          (n.bytes = new Uint8Array(
                            f.bytes,
                            f.byteOffset,
                            f.byteLength,
                          )),
                            Al({
                              segment: n,
                              bytes: n.bytes,
                              isPartial: !1,
                              trackInfoFn: r,
                              timingInfoFn: s,
                              videoSegmentTimingInfoFn: a,
                              audioSegmentTimingInfoFn: o,
                              id3Fn: l,
                              captionsFn: u,
                              isEndOfTimeline: d,
                              endedTimelineFn: c,
                              dataFn: h,
                              doneFn: p,
                            });
                        }
                      }),
                        (t = n.key.bytes.slice
                          ? n.key.bytes.slice()
                          : new Uint32Array(
                              Array.prototype.slice.call(n.key.bytes),
                            )),
                        i.postMessage(
                          No({
                            source: n.requestId,
                            encrypted: n.encryptedBytes,
                            key: t,
                            iv: n.key.iv,
                          }),
                          [n.encryptedBytes.buffer, t.buffer],
                        );
                    })({
                      decryptionWorker: i,
                      segment: m,
                      trackInfoFn: n,
                      timingInfoFn: r,
                      videoSegmentTimingInfoFn: s,
                      audioSegmentTimingInfoFn: a,
                      id3Fn: o,
                      captionsFn: l,
                      isEndOfTimeline: u,
                      endedTimelineFn: d,
                      dataFn: c,
                      doneFn: h,
                    });
                  Al({
                    segment: m,
                    bytes: m.bytes,
                    isPartial: !1,
                    trackInfoFn: n,
                    timingInfoFn: r,
                    videoSegmentTimingInfoFn: s,
                    audioSegmentTimingInfoFn: a,
                    id3Fn: o,
                    captionsFn: l,
                    isEndOfTimeline: u,
                    endedTimelineFn: d,
                    dataFn: c,
                    doneFn: h,
                  });
                }
              }
            };
          },
          Tl = function (e) {
            var t = e.segment,
              i = e.progressFn,
              n = e.trackInfoFn,
              r = e.timingInfoFn,
              s = e.videoSegmentTimingInfoFn,
              a = e.audioSegmentTimingInfoFn,
              o = e.id3Fn,
              l = e.captionsFn,
              u = e.isEndOfTimeline,
              d = e.endedTimelineFn,
              c = e.dataFn,
              h = e.handlePartialData;
            return function (e) {
              var p = e.target;
              if (!p.aborted) {
                if (
                  h &&
                  !t.key &&
                  p.responseText &&
                  p.responseText.length >= 8
                ) {
                  var f = $o(p.responseText.substring(t.lastReachedChar || 0));
                  (!t.lastReachedChar && wt(new Uint8Array(f))) ||
                    ((t.lastReachedChar = p.responseText.length),
                    Al({
                      segment: t,
                      bytes: f,
                      isPartial: !0,
                      trackInfoFn: n,
                      timingInfoFn: r,
                      videoSegmentTimingInfoFn: s,
                      audioSegmentTimingInfoFn: a,
                      id3Fn: o,
                      captionsFn: l,
                      isEndOfTimeline: u,
                      endedTimelineFn: d,
                      dataFn: c,
                    }));
                }
                return (
                  (t.stats = Ua.mergeOptions(
                    t.stats,
                    (function (e) {
                      var t = e.target,
                        i = {
                          bandwidth: 1 / 0,
                          bytesReceived: 0,
                          roundTripTime: Date.now() - t.requestTime || 0,
                        };
                      return (
                        (i.bytesReceived = e.loaded),
                        (i.bandwidth = Math.floor(
                          (i.bytesReceived / i.roundTripTime) * 8 * 1e3,
                        )),
                        i
                      );
                    })(e),
                  )),
                  !t.stats.firstBytesReceivedAt &&
                    t.stats.bytesReceived &&
                    (t.stats.firstBytesReceivedAt = Date.now()),
                  i(e, t)
                );
              }
            };
          },
          Sl = function (e) {
            var t = e.xhr,
              i = e.xhrOptions,
              n = e.decryptionWorker,
              r = e.segment,
              s = e.abortFn,
              a = e.progressFn,
              o = e.trackInfoFn,
              l = e.timingInfoFn,
              u = e.videoSegmentTimingInfoFn,
              d = e.audioSegmentTimingInfoFn,
              c = e.id3Fn,
              h = e.captionsFn,
              p = e.isEndOfTimeline,
              f = e.endedTimelineFn,
              m = e.dataFn,
              g = e.doneFn,
              v = e.handlePartialData,
              y = [],
              A = bl({
                activeXhrs: y,
                decryptionWorker: n,
                trackInfoFn: o,
                timingInfoFn: l,
                videoSegmentTimingInfoFn: u,
                audioSegmentTimingInfoFn: d,
                id3Fn: c,
                captionsFn: h,
                isEndOfTimeline: p,
                endedTimelineFn: f,
                dataFn: m,
                doneFn: g,
              });
            if (r.key && !r.key.bytes) {
              var b = Ua.mergeOptions(i, {
                  uri: r.key.resolvedUri,
                  responseType: 'arraybuffer',
                }),
                T = (function (e, t) {
                  return function (i, n) {
                    var r = n.response,
                      s = vl(i, n);
                    if (s) return t(s, e);
                    if (16 !== r.byteLength)
                      return t(
                        {
                          status: n.status,
                          message: 'Invalid HLS key at URL: ' + n.uri,
                          code: pl,
                          xhr: n,
                        },
                        e,
                      );
                    var a = new DataView(r);
                    return (
                      (e.key.bytes = new Uint32Array([
                        a.getUint32(0),
                        a.getUint32(4),
                        a.getUint32(8),
                        a.getUint32(12),
                      ])),
                      t(null, e)
                    );
                  };
                })(r, A),
                S = t(b, T);
              y.push(S);
            }
            if (r.map && !r.map.bytes) {
              var w = Ua.mergeOptions(i, {
                  uri: r.map.resolvedUri,
                  responseType: 'arraybuffer',
                  headers: Do(r.map),
                }),
                k = (function (e) {
                  var t = e.segment,
                    i = e.finishProcessingFn;
                  return function (e, n) {
                    var r = n.response,
                      s = vl(e, n);
                    if (s) return i(s, t);
                    if (0 === r.byteLength)
                      return i(
                        {
                          status: n.status,
                          message: 'Empty HLS segment content at URL: ' + n.uri,
                          code: pl,
                          xhr: n,
                        },
                        t,
                      );
                    t.map.bytes = new Uint8Array(n.response);
                    var a = St(t.map.bytes);
                    return 'mp4' !== a
                      ? i(
                          {
                            status: n.status,
                            message:
                              'Found unsupported ' +
                              (a || 'unknown') +
                              ' container for initialization segment at URL: ' +
                              n.uri,
                            code: pl,
                            internal: !0,
                            xhr: n,
                          },
                          t,
                        )
                      : (jt()
                          .tracks(t.map.bytes)
                          .forEach(function (e) {
                            (t.map.tracks = t.map.tracks || {}),
                              t.map.tracks[e.type] ||
                                ((t.map.tracks[e.type] = e),
                                'number' == typeof e.id &&
                                  e.timescale &&
                                  ((t.map.timescales = t.map.timescales || {}),
                                  (t.map.timescales[e.id] = e.timescale)));
                          }),
                        i(null, t));
                  };
                })({ segment: r, finishProcessingFn: A }),
                _ = t(w, k);
              y.push(_);
            }
            var C = Ua.mergeOptions(i, {
              uri: (r.part && r.part.resolvedUri) || r.resolvedUri,
              responseType: 'arraybuffer',
              headers: Do(r),
            });
            v &&
              ((C.responseType = 'text'),
              (C.beforeSend = function (e) {
                e.overrideMimeType('text/plain; charset=x-user-defined');
              }));
            var E = (function (e) {
                var t = e.segment,
                  i = e.finishProcessingFn,
                  n = e.responseType;
                return function (e, r) {
                  var s = r.response,
                    a = vl(e, r);
                  if (a) return i(a, t);
                  var o =
                    'arraybuffer' !== n && r.responseText
                      ? $o(r.responseText.substring(t.lastReachedChar || 0))
                      : r.response;
                  return 0 === s.byteLength
                    ? i(
                        {
                          status: r.status,
                          message: 'Empty HLS segment content at URL: ' + r.uri,
                          code: pl,
                          xhr: r,
                        },
                        t,
                      )
                    : ((t.stats = (function (e) {
                        return {
                          bandwidth: e.bandwidth,
                          bytesReceived: e.bytesReceived || 0,
                          roundTripTime: e.roundTripTime || 0,
                        };
                      })(r)),
                      t.key
                        ? (t.encryptedBytes = new Uint8Array(o))
                        : (t.bytes = new Uint8Array(o)),
                      i(null, t));
                };
              })({
                segment: r,
                finishProcessingFn: A,
                responseType: C.responseType,
              }),
              j = t(C, E);
            j.addEventListener(
              'progress',
              Tl({
                segment: r,
                progressFn: a,
                trackInfoFn: o,
                timingInfoFn: l,
                videoSegmentTimingInfoFn: u,
                audioSegmentTimingInfoFn: d,
                id3Fn: c,
                captionsFn: h,
                isEndOfTimeline: p,
                endedTimelineFn: f,
                dataFn: m,
                handlePartialData: v,
              }),
            ),
              y.push(j);
            var P = {};
            return (
              y.forEach(function (e) {
                e.addEventListener(
                  'loadend',
                  (function (e) {
                    var t = e.loadendState,
                      i = e.abortFn;
                    return function (e) {
                      e.target.aborted &&
                        i &&
                        !t.calledAbortFn &&
                        (i(), (t.calledAbortFn = !0));
                    };
                  })({ loadendState: P, abortFn: s }),
                );
              }),
              function () {
                return gl(y);
              }
            );
          },
          wl = qa('CodecUtils'),
          kl = function (e, t) {
            var i = t.attributes || {};
            return (
              e &&
              e.mediaGroups &&
              e.mediaGroups.AUDIO &&
              i.AUDIO &&
              e.mediaGroups.AUDIO[i.AUDIO]
            );
          },
          _l = function (e) {
            var t = {};
            return (
              e.forEach(function (e) {
                var i = e.mediaType,
                  n = e.type,
                  r = e.details;
                (t[i] = t[i] || []), t[i].push(H('' + n + r));
              }),
              Object.keys(t).forEach(function (e) {
                if (t[e].length > 1)
                  return (
                    wl(
                      'multiple ' +
                        e +
                        ' codecs found as attributes: ' +
                        t[e].join(', ') +
                        '. Setting playlist codecs to null so that we wait for mux.js to probe segments for real codecs.',
                    ),
                    void (t[e] = null)
                  );
                t[e] = t[e][0];
              }),
              t
            );
          },
          Cl = function (e) {
            var t = 0;
            return e.audio && t++, e.video && t++, t;
          },
          El = function (e, t) {
            var i = t.attributes || {},
              n = _l(
                (function (e) {
                  var t = e.attributes || {};
                  if (t.CODECS) return q(t.CODECS);
                })(t) || [],
              );
            if (
              kl(e, t) &&
              !n.audio &&
              !(function (e, t) {
                if (!kl(e, t)) return !0;
                var i = t.attributes || {},
                  n = e.mediaGroups.AUDIO[i.AUDIO];
                for (var r in n) if (!n[r].uri && !n[r].playlists) return !0;
                return !1;
              })(e, t)
            ) {
              var r = _l(
                (function (e, t) {
                  if (!e.mediaGroups.AUDIO || !t) return null;
                  var i = e.mediaGroups.AUDIO[t];
                  if (!i) return null;
                  for (var n in i) {
                    var r = i[n];
                    if (r.default && r.playlists)
                      return q(r.playlists[0].attributes.CODECS);
                  }
                  return null;
                })(e, i.AUDIO) || [],
              );
              r.audio && (n.audio = r.audio);
            }
            return n;
          },
          jl = qa('PlaylistSelector'),
          Pl = function (e) {
            if (e && e.playlist) {
              var t = e.playlist;
              return JSON.stringify({
                id: t.id,
                bandwidth: e.bandwidth,
                width: e.width,
                height: e.height,
                codecs: (t.attributes && t.attributes.CODECS) || '',
              });
            }
          },
          Il = function (e, t) {
            if (!e) return '';
            var i = r().getComputedStyle(e);
            return i ? i[t] : '';
          },
          xl = function (e, t) {
            var i = e.slice();
            e.sort(function (e, n) {
              var r = t(e, n);
              return 0 === r ? i.indexOf(e) - i.indexOf(n) : r;
            });
          },
          Ll = function (e, t) {
            var i, n;
            return (
              e.attributes.BANDWIDTH && (i = e.attributes.BANDWIDTH),
              (i = i || r().Number.MAX_VALUE),
              t.attributes.BANDWIDTH && (n = t.attributes.BANDWIDTH),
              i - (n = n || r().Number.MAX_VALUE)
            );
          },
          Dl = function (e, t, i, n, s, a) {
            if (e) {
              var o = {
                  bandwidth: t,
                  width: i,
                  height: n,
                  limitRenditionByPlayerDimensions: s,
                },
                l = e.playlists;
              jo.isAudioOnly(e) &&
                ((l = a.getAudioTrackPlaylists_()), (o.audioOnly = !0));
              var u = l.map(function (e) {
                var t =
                    e.attributes &&
                    e.attributes.RESOLUTION &&
                    e.attributes.RESOLUTION.width,
                  i =
                    e.attributes &&
                    e.attributes.RESOLUTION &&
                    e.attributes.RESOLUTION.height;
                return {
                  bandwidth:
                    (e.attributes && e.attributes.BANDWIDTH) ||
                    r().Number.MAX_VALUE,
                  width: t,
                  height: i,
                  playlist: e,
                };
              });
              xl(u, function (e, t) {
                return e.bandwidth - t.bandwidth;
              });
              var d = (u = u.filter(function (e) {
                return !jo.isIncompatible(e.playlist);
              })).filter(function (e) {
                return jo.isEnabled(e.playlist);
              });
              d.length ||
                (d = u.filter(function (e) {
                  return !jo.isDisabled(e.playlist);
                }));
              var c = d.filter(function (e) {
                  return e.bandwidth * Zo.BANDWIDTH_VARIANCE < t;
                }),
                h = c[c.length - 1],
                p = c.filter(function (e) {
                  return e.bandwidth === h.bandwidth;
                })[0];
              if (!1 === s) {
                var f = p || d[0] || u[0];
                if (f && f.playlist) {
                  var m = 'sortedPlaylistReps';
                  return (
                    p && (m = 'bandwidthBestRep'),
                    d[0] && (m = 'enabledPlaylistReps'),
                    jl(
                      'choosing ' + Pl(f) + ' using ' + m + ' with options',
                      o,
                    ),
                    f.playlist
                  );
                }
                return jl('could not choose a playlist with options', o), null;
              }
              var g = c.filter(function (e) {
                return e.width && e.height;
              });
              xl(g, function (e, t) {
                return e.width - t.width;
              });
              var v = g.filter(function (e) {
                return e.width === i && e.height === n;
              });
              h = v[v.length - 1];
              var y,
                A,
                b,
                T = v.filter(function (e) {
                  return e.bandwidth === h.bandwidth;
                })[0];
              T ||
                ((A = (y = g.filter(function (e) {
                  return e.width > i || e.height > n;
                })).filter(function (e) {
                  return e.width === y[0].width && e.height === y[0].height;
                })),
                (h = A[A.length - 1]),
                (b = A.filter(function (e) {
                  return e.bandwidth === h.bandwidth;
                })[0]));
              var S = b || T || p || d[0] || u[0];
              if (S && S.playlist) {
                var w = 'sortedPlaylistReps';
                return (
                  b
                    ? (w = 'resolutionPlusOneRep')
                    : T
                      ? (w = 'resolutionBestRep')
                      : p
                        ? (w = 'bandwidthBestRep')
                        : d[0] && (w = 'enabledPlaylistReps'),
                  jl('choosing ' + Pl(S) + ' using ' + w + ' with options', o),
                  S.playlist
                );
              }
              return jl('could not choose a playlist with options', o), null;
            }
          },
          Rl = function () {
            var e = (this.useDevicePixelRatio && r().devicePixelRatio) || 1;
            return Dl(
              this.playlists.master,
              this.systemBandwidth,
              parseInt(Il(this.tech_.el(), 'width'), 10) * e,
              parseInt(Il(this.tech_.el(), 'height'), 10) * e,
              this.limitRenditionByPlayerDimensions,
              this.masterPlaylistController_,
            );
          },
          Ol = function (e) {
            var t = e.inbandTextTracks,
              i = e.metadataArray,
              n = e.timestampOffset,
              s = e.videoDuration;
            if (i) {
              var a = r().WebKitDataCue || r().VTTCue,
                o = t.metadataTrack_;
              if (
                o &&
                (i.forEach(function (e) {
                  var t = e.cueTime + n;
                  !('number' != typeof t || r().isNaN(t) || t < 0) &&
                    t < 1 / 0 &&
                    e.frames.forEach(function (e) {
                      var i = new a(t, t, e.value || e.url || e.data || '');
                      (i.frame = e),
                        (i.value = e),
                        (function (e) {
                          Object.defineProperties(e.frame, {
                            id: {
                              get: function () {
                                return (
                                  Ua.log.warn(
                                    'cue.frame.id is deprecated. Use cue.value.key instead.',
                                  ),
                                  e.value.key
                                );
                              },
                            },
                            value: {
                              get: function () {
                                return (
                                  Ua.log.warn(
                                    'cue.frame.value is deprecated. Use cue.value.data instead.',
                                  ),
                                  e.value.data
                                );
                              },
                            },
                            privateData: {
                              get: function () {
                                return (
                                  Ua.log.warn(
                                    'cue.frame.privateData is deprecated. Use cue.value.data instead.',
                                  ),
                                  e.value.data
                                );
                              },
                            },
                          });
                        })(i),
                        o.addCue(i);
                    });
                }),
                o.cues && o.cues.length)
              ) {
                for (var l = o.cues, u = [], d = 0; d < l.length; d++)
                  l[d] && u.push(l[d]);
                var c = u.reduce(function (e, t) {
                    var i = e[t.startTime] || [];
                    return i.push(t), (e[t.startTime] = i), e;
                  }, {}),
                  h = Object.keys(c).sort(function (e, t) {
                    return Number(e) - Number(t);
                  });
                h.forEach(function (e, t) {
                  var i = c[e],
                    n = Number(h[t + 1]) || s;
                  i.forEach(function (e) {
                    e.endTime = n;
                  });
                });
              }
            }
          },
          Ml = function (e, t, i) {
            var n, r;
            if (i && i.cues)
              for (n = i.cues.length; n--; )
                (r = i.cues[n]).startTime >= e &&
                  r.endTime <= t &&
                  i.removeCue(r);
          },
          Nl = function (e) {
            return 'number' == typeof e && isFinite(e);
          },
          Bl = 1 / 60,
          Ul = function (e) {
            var t = e.segment,
              i = t.start,
              n = t.end,
              r = t.parts,
              s = e.playlist,
              a = s.mediaSequence,
              o = s.id,
              l = s.segments,
              u = void 0 === l ? [] : l,
              d = e.mediaIndex,
              c = e.partIndex,
              h = e.timeline;
            return [
              (e.segment.uri ? 'segment' : 'pre-segment') +
                ' [' +
                d +
                '/' +
                (u.length - 1) +
                ']',
              c ? 'part [' + c + '/' + (r.length - 1) + ']' : '',
              'mediaSequenceNumber [' + a + '/' + (a + u.length - 1) + ']',
              'playlist [' + o + ']',
              'start/end [' + i + ' => ' + n + ']',
              'timeline [' + h + ']',
            ].join(' ');
          },
          Fl = function (e) {
            return e + 'TimingInfo';
          },
          Wl = function (e) {
            var t = e.segmentTimeline,
              i = e.currentTimeline,
              n = e.startOfSegment,
              r = e.buffered;
            return e.overrideCheck || t !== i
              ? t < i
                ? n
                : r.length
                  ? r.end(r.length - 1)
                  : n
              : null;
          },
          Vl = function (e) {
            var t = e.timelineChangeController,
              i = e.currentTimeline,
              n = e.segmentTimeline,
              r = e.loaderType,
              s = e.audioDisabled;
            if (i === n) return !1;
            if ('audio' === r) {
              var a = t.lastTimelineChange({ type: 'main' });
              return !a || a.to !== n;
            }
            if ('main' === r && s) {
              var o = t.pendingTimelineChange({ type: 'audio' });
              return !o || o.to !== n;
            }
            return !1;
          },
          Hl = function (e) {
            var t = e.segmentDuration,
              i = e.maxDuration;
            return !!t && Math.round(t) > i + ao;
          },
          ql = function (e, t) {
            if ('hls' !== t) return null;
            var i,
              n,
              r,
              s,
              a =
                ((i = e.audioTimingInfo),
                (n = e.videoTimingInfo),
                (r =
                  i && 'number' == typeof i.start && 'number' == typeof i.end
                    ? i.end - i.start
                    : 0),
                (s =
                  n && 'number' == typeof n.start && 'number' == typeof n.end
                    ? n.end - n.start
                    : 0),
                Math.max(r, s));
            if (!a) return null;
            var o = e.playlist.targetDuration,
              l = Hl({ segmentDuration: a, maxDuration: 2 * o }),
              u = Hl({ segmentDuration: a, maxDuration: o }),
              d =
                'Segment with index ' +
                e.mediaIndex +
                ' from playlist ' +
                e.playlist.id +
                ' has a duration of ' +
                a +
                ' when the reported duration is ' +
                e.duration +
                ' and the target duration is ' +
                o +
                '. For HLS content, a duration in excess of the target duration may result in playback issues. See the HLS specification section on EXT-X-TARGETDURATION for more details: https://tools.ietf.org/html/draft-pantos-http-live-streaming-23#section-4.3.3.1';
            return l || u
              ? { severity: l ? 'warn' : 'info', message: d }
              : null;
          },
          zl = (function (e) {
            function t(t, i) {
              var n;
              if (((n = e.call(this) || this), !t))
                throw new TypeError('Initialization settings are required');
              if ('function' != typeof t.currentTime)
                throw new TypeError('No currentTime getter specified');
              if (!t.mediaSource)
                throw new TypeError('No MediaSource specified');
              return (
                (n.bandwidth = t.bandwidth),
                (n.throughput = { rate: 0, count: 0 }),
                (n.roundTrip = NaN),
                n.resetStats_(),
                (n.mediaIndex = null),
                (n.partIndex = null),
                (n.hasPlayed_ = t.hasPlayed),
                (n.currentTime_ = t.currentTime),
                (n.seekable_ = t.seekable),
                (n.seeking_ = t.seeking),
                (n.duration_ = t.duration),
                (n.mediaSource_ = t.mediaSource),
                (n.vhs_ = t.vhs),
                (n.loaderType_ = t.loaderType),
                (n.currentMediaInfo_ = void 0),
                (n.startingMediaInfo_ = void 0),
                (n.segmentMetadataTrack_ = t.segmentMetadataTrack),
                (n.goalBufferLength_ = t.goalBufferLength),
                (n.sourceType_ = t.sourceType),
                (n.sourceUpdater_ = t.sourceUpdater),
                (n.inbandTextTracks_ = t.inbandTextTracks),
                (n.state_ = 'INIT'),
                (n.handlePartialData_ = t.handlePartialData),
                (n.timelineChangeController_ = t.timelineChangeController),
                (n.shouldSaveSegmentTimingInfo_ = !0),
                (n.parse708captions_ = t.parse708captions),
                (n.checkBufferTimeout_ = null),
                (n.error_ = void 0),
                (n.currentTimeline_ = -1),
                (n.pendingSegment_ = null),
                (n.xhrOptions_ = null),
                (n.pendingSegments_ = []),
                (n.audioDisabled_ = !1),
                (n.isPendingTimestampOffset_ = !1),
                (n.gopBuffer_ = []),
                (n.timeMapping_ = 0),
                (n.safeAppend_ = Ua.browser.IE_VERSION >= 11),
                (n.appendInitSegment_ = { audio: !0, video: !0 }),
                (n.playlistOfLastInitSegment_ = { audio: null, video: null }),
                (n.callQueue_ = []),
                (n.loadQueue_ = []),
                (n.metadataQueue_ = { id3: [], caption: [] }),
                (n.waitingOnRemove_ = !1),
                (n.quotaExceededErrorRetryTimeout_ = null),
                (n.activeInitSegmentId_ = null),
                (n.initSegments_ = {}),
                (n.cacheEncryptionKeys_ = t.cacheEncryptionKeys),
                (n.keyCache_ = {}),
                (n.decrypter_ = t.decrypter),
                (n.syncController_ = t.syncController),
                (n.syncPoint_ = { segmentIndex: 0, time: 0 }),
                (n.transmuxer_ = n.createTransmuxer_()),
                (n.triggerSyncInfoUpdate_ = function () {
                  return n.trigger('syncinfoupdate');
                }),
                n.syncController_.on(
                  'syncinfoupdate',
                  n.triggerSyncInfoUpdate_,
                ),
                n.mediaSource_.addEventListener('sourceopen', function () {
                  n.isEndOfStream_() || (n.ended_ = !1);
                }),
                (n.fetchAtBuffer_ = !1),
                (n.logger_ = qa('SegmentLoader[' + n.loaderType_ + ']')),
                Object.defineProperty(l(n), 'state', {
                  get: function () {
                    return this.state_;
                  },
                  set: function (e) {
                    e !== this.state_ &&
                      (this.logger_(this.state_ + ' -> ' + e),
                      (this.state_ = e),
                      this.trigger('statechange'));
                  },
                }),
                n.sourceUpdater_.on('ready', function () {
                  n.hasEnoughInfoToAppend_() && n.processCallQueue_();
                }),
                'main' === n.loaderType_ &&
                  n.timelineChangeController_.on(
                    'pendingtimelinechange',
                    function () {
                      n.hasEnoughInfoToAppend_() && n.processCallQueue_();
                    },
                  ),
                'audio' === n.loaderType_ &&
                  n.timelineChangeController_.on('timelinechange', function () {
                    n.hasEnoughInfoToLoad_() && n.processLoadQueue_(),
                      n.hasEnoughInfoToAppend_() && n.processCallQueue_();
                  }),
                n
              );
            }
            d(t, e);
            var i = t.prototype;
            return (
              (i.createTransmuxer_ = function () {
                return hl({
                  remux: !1,
                  alignGopsAtEnd: this.safeAppend_,
                  keepOriginalTimestamps: !0,
                  handlePartialData: this.handlePartialData_,
                  parse708captions: this.parse708captions_,
                });
              }),
              (i.resetStats_ = function () {
                (this.mediaBytesTransferred = 0),
                  (this.mediaRequests = 0),
                  (this.mediaRequestsAborted = 0),
                  (this.mediaRequestsTimedout = 0),
                  (this.mediaRequestsErrored = 0),
                  (this.mediaTransferDuration = 0),
                  (this.mediaSecondsLoaded = 0);
              }),
              (i.dispose = function () {
                this.trigger('dispose'),
                  (this.state = 'DISPOSED'),
                  this.pause(),
                  this.abort_(),
                  this.transmuxer_ && this.transmuxer_.terminate(),
                  this.resetStats_(),
                  this.checkBufferTimeout_ &&
                    r().clearTimeout(this.checkBufferTimeout_),
                  this.syncController_ &&
                    this.triggerSyncInfoUpdate_ &&
                    this.syncController_.off(
                      'syncinfoupdate',
                      this.triggerSyncInfoUpdate_,
                    ),
                  this.off();
              }),
              (i.setAudio = function (e) {
                (this.audioDisabled_ = !e),
                  e
                    ? (this.appendInitSegment_.audio = !0)
                    : this.sourceUpdater_.removeAudio(0, this.duration_());
              }),
              (i.abort = function () {
                'WAITING' === this.state
                  ? (this.abort_(),
                    (this.state = 'READY'),
                    this.paused() || this.monitorBuffer_())
                  : this.pendingSegment_ && (this.pendingSegment_ = null);
              }),
              (i.abort_ = function () {
                this.pendingSegment_ &&
                  this.pendingSegment_.abortRequests &&
                  this.pendingSegment_.abortRequests(),
                  (this.pendingSegment_ = null),
                  (this.callQueue_ = []),
                  (this.loadQueue_ = []),
                  (this.metadataQueue_.id3 = []),
                  (this.metadataQueue_.caption = []),
                  this.timelineChangeController_.clearPendingTimelineChange(
                    this.loaderType_,
                  ),
                  (this.waitingOnRemove_ = !1),
                  r().clearTimeout(this.quotaExceededErrorRetryTimeout_),
                  (this.quotaExceededErrorRetryTimeout_ = null);
              }),
              (i.checkForAbort_ = function (e) {
                return 'APPENDING' !== this.state || this.pendingSegment_
                  ? !this.pendingSegment_ ||
                      this.pendingSegment_.requestId !== e
                  : ((this.state = 'READY'), !0);
              }),
              (i.error = function (e) {
                return (
                  void 0 !== e &&
                    (this.logger_('error occurred:', e), (this.error_ = e)),
                  (this.pendingSegment_ = null),
                  this.error_
                );
              }),
              (i.endOfStream = function () {
                (this.ended_ = !0),
                  this.transmuxer_ && cl(this.transmuxer_),
                  (this.gopBuffer_.length = 0),
                  this.pause(),
                  this.trigger('ended');
              }),
              (i.buffered_ = function () {
                if (!this.sourceUpdater_ || !this.startingMediaInfo_)
                  return Ua.createTimeRanges();
                if ('main' === this.loaderType_) {
                  var e = this.startingMediaInfo_,
                    t = e.hasAudio,
                    i = e.hasVideo,
                    n = e.isMuxed;
                  if (i && t && !this.audioDisabled_ && !n)
                    return this.sourceUpdater_.buffered();
                  if (i) return this.sourceUpdater_.videoBuffered();
                }
                return this.sourceUpdater_.audioBuffered();
              }),
              (i.initSegmentForMap = function (e, t) {
                if ((void 0 === t && (t = !1), !e)) return null;
                var i = Bo(e),
                  n = this.initSegments_[i];
                return (
                  t &&
                    !n &&
                    e.bytes &&
                    (this.initSegments_[i] = n =
                      {
                        resolvedUri: e.resolvedUri,
                        byterange: e.byterange,
                        bytes: e.bytes,
                        tracks: e.tracks,
                        timescales: e.timescales,
                      }),
                  n || e
                );
              }),
              (i.segmentKey = function (e, t) {
                if ((void 0 === t && (t = !1), !e)) return null;
                var i = Uo(e),
                  n = this.keyCache_[i];
                this.cacheEncryptionKeys_ &&
                  t &&
                  !n &&
                  e.bytes &&
                  (this.keyCache_[i] = n =
                    { resolvedUri: e.resolvedUri, bytes: e.bytes });
                var r = { resolvedUri: (n || e).resolvedUri };
                return n && (r.bytes = n.bytes), r;
              }),
              (i.couldBeginLoading_ = function () {
                return this.playlist_ && !this.paused();
              }),
              (i.load = function () {
                if ((this.monitorBuffer_(), this.playlist_))
                  return 'INIT' === this.state && this.couldBeginLoading_()
                    ? this.init_()
                    : void (
                        !this.couldBeginLoading_() ||
                        ('READY' !== this.state && 'INIT' !== this.state) ||
                        (this.state = 'READY')
                      );
              }),
              (i.init_ = function () {
                return (
                  (this.state = 'READY'),
                  this.resetEverything(),
                  this.monitorBuffer_()
                );
              }),
              (i.playlist = function (e, t) {
                if ((void 0 === t && (t = {}), e)) {
                  var i = this.playlist_,
                    n = this.pendingSegment_;
                  (this.playlist_ = e),
                    (this.xhrOptions_ = t),
                    'INIT' === this.state &&
                      ((e.syncInfo = {
                        mediaSequence: e.mediaSequence,
                        time: 0,
                      }),
                      'main' === this.loaderType_ &&
                        this.syncController_.setDateTimeMappingForStart(e));
                  var r = null;
                  if (
                    (i && (i.id ? (r = i.id) : i.uri && (r = i.uri)),
                    this.logger_(
                      'playlist update [' + r + ' => ' + (e.id || e.uri) + ']',
                    ),
                    this.trigger('syncinfoupdate'),
                    'INIT' === this.state && this.couldBeginLoading_())
                  )
                    return this.init_();
                  if (!i || i.uri !== e.uri)
                    return (
                      (null !== this.mediaIndex || this.handlePartialData_) &&
                        this.resyncLoader(),
                      (this.currentMediaInfo_ = void 0),
                      void this.trigger('playlistupdate')
                    );
                  var s = e.mediaSequence - i.mediaSequence;
                  if (
                    (this.logger_('live window shift [' + s + ']'),
                    null !== this.mediaIndex)
                  )
                    if (((this.mediaIndex -= s), this.mediaIndex < 0))
                      (this.mediaIndex = null), (this.partIndex = null);
                    else {
                      var a = this.playlist_.segments[this.mediaIndex];
                      if (
                        this.partIndex &&
                        (!a.parts ||
                          !a.parts.length ||
                          !a.parts[this.partIndex])
                      ) {
                        var o = this.mediaIndex;
                        this.logger_(
                          'currently processing part (index ' +
                            this.partIndex +
                            ') no longer exists.',
                        ),
                          this.resetLoader(),
                          (this.mediaIndex = o);
                      }
                    }
                  n &&
                    ((n.mediaIndex -= s),
                    n.mediaIndex < 0
                      ? ((n.mediaIndex = null), (n.partIndex = null))
                      : (n.mediaIndex >= 0 &&
                          (n.segment = e.segments[n.mediaIndex]),
                        n.partIndex >= 0 &&
                          n.segment.parts &&
                          (n.part = n.segment.parts[n.partIndex]))),
                    this.syncController_.saveExpiredSegmentInfo(i, e);
                }
              }),
              (i.pause = function () {
                this.checkBufferTimeout_ &&
                  (r().clearTimeout(this.checkBufferTimeout_),
                  (this.checkBufferTimeout_ = null));
              }),
              (i.paused = function () {
                return null === this.checkBufferTimeout_;
              }),
              (i.resetEverything = function (e) {
                (this.ended_ = !1),
                  (this.appendInitSegment_ = { audio: !0, video: !0 }),
                  this.resetLoader(),
                  this.remove(0, 1 / 0, e),
                  this.transmuxer_ &&
                    this.transmuxer_.postMessage({
                      action: 'clearAllMp4Captions',
                    });
              }),
              (i.resetLoader = function () {
                (this.fetchAtBuffer_ = !1), this.resyncLoader();
              }),
              (i.resyncLoader = function () {
                this.transmuxer_ && cl(this.transmuxer_),
                  (this.mediaIndex = null),
                  (this.partIndex = null),
                  (this.syncPoint_ = null),
                  (this.isPendingTimestampOffset_ = !1),
                  (this.callQueue_ = []),
                  (this.loadQueue_ = []),
                  (this.metadataQueue_.id3 = []),
                  (this.metadataQueue_.caption = []),
                  this.abort(),
                  this.transmuxer_ &&
                    this.transmuxer_.postMessage({
                      action: 'clearParsedMp4Captions',
                    });
              }),
              (i.remove = function (e, t, i, n) {
                if (
                  (void 0 === i && (i = function () {}),
                  void 0 === n && (n = !1),
                  t === 1 / 0 && (t = this.duration_()),
                  this.sourceUpdater_ && this.startingMediaInfo_)
                ) {
                  var r = 1,
                    s = function () {
                      0 === --r && i();
                    };
                  for (var a in ((!n && this.audioDisabled_) ||
                    (r++, this.sourceUpdater_.removeAudio(e, t, s)),
                  (n || 'main' === this.loaderType_) &&
                    ((this.gopBuffer_ = (function (e, t, i, n) {
                      for (
                        var r = Math.ceil((t - n) * Ct.ONE_SECOND_IN_TS),
                          s = Math.ceil((i - n) * Ct.ONE_SECOND_IN_TS),
                          a = e.slice(),
                          o = e.length;
                        o-- && !(e[o].pts <= s);

                      );
                      if (-1 === o) return a;
                      for (var l = o + 1; l-- && !(e[l].pts <= r); );
                      return (l = Math.max(l, 0)), a.splice(l, o - l + 1), a;
                    })(this.gopBuffer_, e, t, this.timeMapping_)),
                    r++,
                    this.sourceUpdater_.removeVideo(e, t, s)),
                  this.inbandTextTracks_))
                    Ml(e, t, this.inbandTextTracks_[a]);
                  Ml(e, t, this.segmentMetadataTrack_), s();
                } else
                  this.logger_(
                    'skipping remove because no source updater or starting media info',
                  );
              }),
              (i.monitorBuffer_ = function () {
                this.checkBufferTimeout_ &&
                  r().clearTimeout(this.checkBufferTimeout_),
                  (this.checkBufferTimeout_ = r().setTimeout(
                    this.monitorBufferTick_.bind(this),
                    1,
                  ));
              }),
              (i.monitorBufferTick_ = function () {
                'READY' === this.state && this.fillBuffer_(),
                  this.checkBufferTimeout_ &&
                    r().clearTimeout(this.checkBufferTimeout_),
                  (this.checkBufferTimeout_ = r().setTimeout(
                    this.monitorBufferTick_.bind(this),
                    500,
                  ));
              }),
              (i.fillBuffer_ = function () {
                if (!this.sourceUpdater_.updating()) {
                  this.syncPoint_ ||
                    (this.syncPoint_ = this.syncController_.getSyncPoint(
                      this.playlist_,
                      this.duration_(),
                      this.currentTimeline_,
                      this.currentTime_(),
                    ));
                  var e = this.buffered_(),
                    t = this.checkBuffer_(
                      e,
                      this.playlist_,
                      this.mediaIndex,
                      this.hasPlayed_(),
                      this.currentTime_(),
                      this.syncPoint_,
                      this.partIndex,
                    );
                  t &&
                    ((t.timestampOffset = Wl({
                      segmentTimeline: t.timeline,
                      currentTimeline: this.currentTimeline_,
                      startOfSegment: t.startOfSegment,
                      buffered: e,
                      overrideCheck: this.isPendingTimestampOffset_,
                    })),
                    (this.isPendingTimestampOffset_ = !1),
                    'number' == typeof t.timestampOffset &&
                      this.timelineChangeController_.pendingTimelineChange({
                        type: this.loaderType_,
                        from: this.currentTimeline_,
                        to: t.timeline,
                      }),
                    this.loadSegment_(t));
                }
              }),
              (i.isEndOfStream_ = function (e, t, i) {
                if (
                  (void 0 === e && (e = this.mediaIndex),
                  void 0 === t && (t = this.playlist_),
                  void 0 === i && (i = this.partIndex),
                  !t || !this.mediaSource_)
                )
                  return !1;
                var n = 'number' == typeof e && t.segments[e],
                  r = e + 1 === t.segments.length,
                  s = !n || !n.parts || i + 1 === n.parts.length;
                return (
                  t.endList && 'open' === this.mediaSource_.readyState && r && s
                );
              }),
              (i.checkBuffer_ = function (e, t, i, n, r, s, a) {
                var o = 0;
                e.length && (o = e.end(e.length - 1));
                var l = Math.max(0, o - r);
                if (!t.segments.length) return null;
                if (l >= this.goalBufferLength_()) return null;
                if (!n && l >= 1) return null;
                var u,
                  d = null,
                  c = null,
                  h = !1;
                if (null === s)
                  (c = this.getSyncSegmentCandidate_(t)), (h = !0);
                else if (null !== i) {
                  var p = t.segments[i],
                    f = 'number' == typeof a ? a : -1;
                  (u = p.end ? p.end : o),
                    p.parts && p.parts[f + 1]
                      ? ((c = i), (d = f + 1))
                      : (c = i + 1);
                } else {
                  var m = jo.getMediaInfoForTime(
                    t,
                    this.fetchAtBuffer_ ? o : r,
                    s.segmentIndex,
                    s.time,
                  );
                  (c = m.mediaIndex), (u = m.startTime), (d = m.partIndex);
                }
                'number' != typeof d &&
                  t.segments[c] &&
                  t.segments[c].parts &&
                  (d = 0);
                var g = this.generateSegmentInfo_(t, c, u, h, d);
                return !g ||
                  (this.mediaSource_ &&
                    this.playlist_ &&
                    g.mediaIndex === this.playlist_.segments.length - 1 &&
                    'ended' === this.mediaSource_.readyState &&
                    !this.seeking_())
                  ? void 0
                  : (this.logger_('checkBuffer_ returning ' + g.uri, {
                      segmentInfo: g,
                      playlist: t,
                      currentMediaIndex: i,
                      currentPartIndex: a,
                      nextPartIndex: d,
                      nextMediaIndex: c,
                      startOfSegment: u,
                      isSyncRequest: h,
                    }),
                    g);
              }),
              (i.getSyncSegmentCandidate_ = function (e) {
                var t = this;
                if (-1 === this.currentTimeline_) return 0;
                var i = e.segments
                  .map(function (e, t) {
                    return { timeline: e.timeline, segmentIndex: t };
                  })
                  .filter(function (e) {
                    return e.timeline === t.currentTimeline_;
                  });
                return i.length
                  ? i[Math.min(i.length - 1, 1)].segmentIndex
                  : Math.max(e.segments.length - 1, 0);
              }),
              (i.generateSegmentInfo_ = function (e, t, i, n, r) {
                if (t < 0 || t >= e.segments.length) return null;
                var s = e.segments[t];
                if (s.parts && s.parts.length && r >= s.parts.length)
                  return null;
                var a,
                  o,
                  l = s.parts && s.parts.length && s.parts[r],
                  u = this.sourceUpdater_.audioBuffered(),
                  d = this.sourceUpdater_.videoBuffered();
                return (
                  u.length &&
                    (a =
                      u.end(u.length - 1) -
                      this.sourceUpdater_.audioTimestampOffset()),
                  d.length &&
                    (o = (function (e, t, i) {
                      if (null == t || !e.length) return [];
                      var n,
                        r = Math.ceil((t - i + 3) * Ct.ONE_SECOND_IN_TS);
                      for (n = 0; n < e.length && !(e[n].pts > r); n++);
                      return e.slice(n);
                    })(
                      this.gopBuffer_,
                      this.currentTime_() -
                        this.sourceUpdater_.videoTimestampOffset(),
                      this.timeMapping_,
                    )),
                  {
                    requestId: 'segment-loader-' + Math.random(),
                    uri: (l && l.resolvedUri) || s.resolvedUri,
                    mediaIndex: t,
                    partIndex: l ? r : null,
                    isSyncRequest: n,
                    startOfSegment: i,
                    playlist: e,
                    bytes: null,
                    encryptedBytes: null,
                    timestampOffset: null,
                    timeline: s.timeline,
                    duration: s.duration,
                    segment: s,
                    part: l,
                    byteLength: 0,
                    transmuxer: this.transmuxer_,
                    audioAppendStart: a,
                    gopsToAlignWith: o,
                  }
                );
              }),
              (i.earlyAbortWhenNeeded_ = function (e) {
                if (
                  !this.vhs_.tech_.paused() &&
                  this.xhrOptions_.timeout &&
                  this.playlist_.attributes.BANDWIDTH &&
                  !(Date.now() - (e.firstBytesReceivedAt || Date.now()) < 1e3)
                ) {
                  var t = this.currentTime_(),
                    i = e.bandwidth,
                    n = this.pendingSegment_.duration,
                    r = jo.estimateSegmentRequestTime(
                      n,
                      i,
                      this.playlist_,
                      e.bytesReceived,
                    ),
                    s =
                      (function (e, t, i) {
                        return (
                          void 0 === i && (i = 1),
                          ((e.length ? e.end(e.length - 1) : 0) - t) / i
                        );
                      })(this.buffered_(), t, this.vhs_.tech_.playbackRate()) -
                      1;
                  if (!(r <= s)) {
                    var a = (function (e) {
                      var t = e.master,
                        i = e.currentTime,
                        n = e.bandwidth,
                        r = e.duration,
                        s = e.segmentDuration,
                        a = e.timeUntilRebuffer,
                        o = e.currentTimeline,
                        l = e.syncController,
                        u = t.playlists.filter(function (e) {
                          return !jo.isIncompatible(e);
                        }),
                        d = u.filter(jo.isEnabled);
                      d.length ||
                        (d = u.filter(function (e) {
                          return !jo.isDisabled(e);
                        }));
                      var c = d
                          .filter(jo.hasAttribute.bind(null, 'BANDWIDTH'))
                          .map(function (e) {
                            var t = l.getSyncPoint(e, r, o, i) ? 1 : 2;
                            return {
                              playlist: e,
                              rebufferingImpact:
                                jo.estimateSegmentRequestTime(s, n, e) * t - a,
                            };
                          }),
                        h = c.filter(function (e) {
                          return e.rebufferingImpact <= 0;
                        });
                      return (
                        xl(h, function (e, t) {
                          return Ll(t.playlist, e.playlist);
                        }),
                        h.length
                          ? h[0]
                          : (xl(c, function (e, t) {
                              return e.rebufferingImpact - t.rebufferingImpact;
                            }),
                            c[0] || null)
                      );
                    })({
                      master: this.vhs_.playlists.master,
                      currentTime: t,
                      bandwidth: i,
                      duration: this.duration_(),
                      segmentDuration: n,
                      timeUntilRebuffer: s,
                      currentTimeline: this.currentTimeline_,
                      syncController: this.syncController_,
                    });
                    if (a) {
                      var o = r - s - a.rebufferingImpact,
                        l = 0.5;
                      s <= ao && (l = 1),
                        !a.playlist ||
                          a.playlist.uri === this.playlist_.uri ||
                          o < l ||
                          ((this.bandwidth =
                            a.playlist.attributes.BANDWIDTH *
                              Zo.BANDWIDTH_VARIANCE +
                            1),
                          this.trigger('earlyabort'));
                    }
                  }
                }
              }),
              (i.handleAbort_ = function (e) {
                this.logger_('Aborting ' + Ul(e)),
                  (this.mediaRequestsAborted += 1);
              }),
              (i.handleProgress_ = function (e, t) {
                this.earlyAbortWhenNeeded_(t.stats),
                  this.checkForAbort_(t.requestId) || this.trigger('progress');
              }),
              (i.handleTrackInfo_ = function (e, t) {
                this.earlyAbortWhenNeeded_(e.stats),
                  this.checkForAbort_(e.requestId) ||
                    this.checkForIllegalMediaSwitch(t) ||
                    ((t = t || {}),
                    (function (e, t) {
                      if ((!e && !t) || (!e && t) || (e && !t)) return !1;
                      if (e === t) return !0;
                      var i = Object.keys(e).sort(),
                        n = Object.keys(t).sort();
                      if (i.length !== n.length) return !1;
                      for (var r = 0; r < i.length; r++) {
                        var s = i[r];
                        if (s !== n[r]) return !1;
                        if (e[s] !== t[s]) return !1;
                      }
                      return !0;
                    })(this.currentMediaInfo_, t) ||
                      ((this.appendInitSegment_ = { audio: !0, video: !0 }),
                      (this.startingMediaInfo_ = t),
                      (this.currentMediaInfo_ = t),
                      this.logger_('trackinfo update', t),
                      this.trigger('trackinfo')),
                    this.checkForAbort_(e.requestId) ||
                      ((this.pendingSegment_.trackInfo = t),
                      this.hasEnoughInfoToAppend_() &&
                        this.processCallQueue_()));
              }),
              (i.handleTimingInfo_ = function (e, t, i, n) {
                if (
                  (this.earlyAbortWhenNeeded_(e.stats),
                  !this.checkForAbort_(e.requestId))
                ) {
                  var r = this.pendingSegment_,
                    s = Fl(t);
                  (r[s] = r[s] || {}),
                    (r[s][i] = n),
                    this.logger_('timinginfo: ' + t + ' - ' + i + ' - ' + n),
                    this.hasEnoughInfoToAppend_() && this.processCallQueue_();
                }
              }),
              (i.handleCaptions_ = function (e, t) {
                var i = this;
                if (
                  (this.earlyAbortWhenNeeded_(e.stats),
                  !this.checkForAbort_(e.requestId))
                )
                  if (0 !== t.length)
                    if (this.pendingSegment_.hasAppendedData_) {
                      var n =
                          null === this.sourceUpdater_.videoTimestampOffset()
                            ? this.sourceUpdater_.audioTimestampOffset()
                            : this.sourceUpdater_.videoTimestampOffset(),
                        s = {};
                      t.forEach(function (e) {
                        s[e.stream] = s[e.stream] || {
                          startTime: 1 / 0,
                          captions: [],
                          endTime: 0,
                        };
                        var t = s[e.stream];
                        (t.startTime = Math.min(t.startTime, e.startTime + n)),
                          (t.endTime = Math.max(t.endTime, e.endTime + n)),
                          t.captions.push(e);
                      }),
                        Object.keys(s).forEach(function (e) {
                          var t = s[e],
                            a = t.startTime,
                            o = t.endTime,
                            l = t.captions,
                            u = i.inbandTextTracks_;
                          i.logger_(
                            'adding cues from ' + a + ' -> ' + o + ' for ' + e,
                          ),
                            (function (e, t, i) {
                              if (!e[i]) {
                                t.trigger({ type: 'usage', name: 'vhs-608' }),
                                  t.trigger({ type: 'usage', name: 'hls-608' });
                                var n = t.textTracks().getTrackById(i);
                                e[i] =
                                  n ||
                                  t.addRemoteTextTrack(
                                    { kind: 'captions', id: i, label: i },
                                    !1,
                                  ).track;
                              }
                            })(u, i.vhs_.tech_, e),
                            Ml(a, o, u[e]),
                            (function (e) {
                              var t = e.inbandTextTracks,
                                i = e.captionArray,
                                n = e.timestampOffset;
                              if (i) {
                                var s = r().WebKitDataCue || r().VTTCue;
                                i.forEach(function (e) {
                                  var i = e.stream;
                                  t[i].addCue(
                                    new s(
                                      e.startTime + n,
                                      e.endTime + n,
                                      e.text,
                                    ),
                                  );
                                });
                              }
                            })({
                              captionArray: l,
                              inbandTextTracks: u,
                              timestampOffset: n,
                            });
                        }),
                        this.transmuxer_ &&
                          this.transmuxer_.postMessage({
                            action: 'clearParsedMp4Captions',
                          });
                    } else
                      this.metadataQueue_.caption.push(
                        this.handleCaptions_.bind(this, e, t),
                      );
                  else
                    this.logger_(
                      'SegmentLoader received no captions from a caption event',
                    );
              }),
              (i.handleId3_ = function (e, t, i) {
                if (
                  (this.earlyAbortWhenNeeded_(e.stats),
                  !this.checkForAbort_(e.requestId))
                )
                  if (this.pendingSegment_.hasAppendedData_) {
                    var n =
                      null === this.sourceUpdater_.videoTimestampOffset()
                        ? this.sourceUpdater_.audioTimestampOffset()
                        : this.sourceUpdater_.videoTimestampOffset();
                    !(function (e, t, i) {
                      e.metadataTrack_ ||
                        ((e.metadataTrack_ = i.addRemoteTextTrack(
                          { kind: 'metadata', label: 'Timed Metadata' },
                          !1,
                        ).track),
                        (e.metadataTrack_.inBandMetadataTrackDispatchType = t));
                    })(this.inbandTextTracks_, i, this.vhs_.tech_),
                      Ol({
                        inbandTextTracks: this.inbandTextTracks_,
                        metadataArray: t,
                        timestampOffset: n,
                        videoDuration: this.duration_(),
                      });
                  } else
                    this.metadataQueue_.id3.push(
                      this.handleId3_.bind(this, e, t, i),
                    );
              }),
              (i.processMetadataQueue_ = function () {
                this.metadataQueue_.id3.forEach(function (e) {
                  return e();
                }),
                  this.metadataQueue_.caption.forEach(function (e) {
                    return e();
                  }),
                  (this.metadataQueue_.id3 = []),
                  (this.metadataQueue_.caption = []);
              }),
              (i.processCallQueue_ = function () {
                var e = this.callQueue_;
                (this.callQueue_ = []),
                  e.forEach(function (e) {
                    return e();
                  });
              }),
              (i.processLoadQueue_ = function () {
                var e = this.loadQueue_;
                (this.loadQueue_ = []),
                  e.forEach(function (e) {
                    return e();
                  });
              }),
              (i.hasEnoughInfoToLoad_ = function () {
                if ('audio' !== this.loaderType_) return !0;
                var e = this.pendingSegment_;
                return (
                  !!e &&
                  (!this.currentMediaInfo_ ||
                    !Vl({
                      timelineChangeController: this.timelineChangeController_,
                      currentTimeline: this.currentTimeline_,
                      segmentTimeline: e.timeline,
                      loaderType: this.loaderType_,
                      audioDisabled: this.audioDisabled_,
                    }))
                );
              }),
              (i.hasEnoughInfoToAppend_ = function () {
                if (!this.sourceUpdater_.ready()) return !1;
                if (
                  this.waitingOnRemove_ ||
                  this.quotaExceededErrorRetryTimeout_
                )
                  return !1;
                var e = this.pendingSegment_;
                if (!e || !e.trackInfo) return !1;
                if (!this.handlePartialData_) {
                  var t = this.currentMediaInfo_,
                    i = t.hasAudio,
                    n = t.hasVideo,
                    r = t.isMuxed;
                  if (n && !e.videoTimingInfo) return !1;
                  if (i && !this.audioDisabled_ && !r && !e.audioTimingInfo)
                    return !1;
                }
                return !Vl({
                  timelineChangeController: this.timelineChangeController_,
                  currentTimeline: this.currentTimeline_,
                  segmentTimeline: e.timeline,
                  loaderType: this.loaderType_,
                  audioDisabled: this.audioDisabled_,
                });
              }),
              (i.handleData_ = function (e, t) {
                if (
                  (this.earlyAbortWhenNeeded_(e.stats),
                  !this.checkForAbort_(e.requestId))
                )
                  if (
                    !this.callQueue_.length &&
                    this.hasEnoughInfoToAppend_()
                  ) {
                    var i = this.pendingSegment_;
                    if (
                      (this.setTimeMapping_(i.timeline),
                      this.updateMediaSecondsLoaded_(i.segment),
                      'closed' !== this.mediaSource_.readyState)
                    ) {
                      if (
                        (e.map &&
                          ((e.map = this.initSegmentForMap(e.map, !0)),
                          (i.segment.map = e.map)),
                        e.key && this.segmentKey(e.key, !0),
                        (i.isFmp4 = e.isFmp4),
                        (i.timingInfo = i.timingInfo || {}),
                        i.isFmp4)
                      )
                        this.trigger('fmp4'),
                          (i.timingInfo.start = i[Fl(t.type)].start);
                      else {
                        var n,
                          r =
                            'main' === this.loaderType_ &&
                            this.currentMediaInfo_.hasVideo;
                        r &&
                          (n = this.handlePartialData_
                            ? t.videoFramePtsTime
                            : i.videoTimingInfo.start),
                          (i.timingInfo.start = this.trueSegmentStart_({
                            currentStart: i.timingInfo.start,
                            playlist: i.playlist,
                            mediaIndex: i.mediaIndex,
                            currentVideoTimestampOffset:
                              this.sourceUpdater_.videoTimestampOffset(),
                            useVideoTimingInfo: r,
                            firstVideoFrameTimeForData: n,
                            videoTimingInfo: i.videoTimingInfo,
                            audioTimingInfo: i.audioTimingInfo,
                          }));
                      }
                      this.updateAppendInitSegmentStatus(i, t.type),
                        this.updateSourceBufferTimestampOffset_(i),
                        (i.hasAppendedData_ = !0),
                        this.processMetadataQueue_(),
                        this.appendData_(i, t);
                    }
                  } else
                    this.callQueue_.push(this.handleData_.bind(this, e, t));
              }),
              (i.updateAppendInitSegmentStatus = function (e, t) {
                'main' !== this.loaderType_ ||
                  'number' != typeof e.timestampOffset ||
                  e.changedTimestampOffset ||
                  (this.appendInitSegment_ = { audio: !0, video: !0 }),
                  this.playlistOfLastInitSegment_[t] !== e.playlist &&
                    (this.appendInitSegment_[t] = !0);
              }),
              (i.getInitSegmentAndUpdateState_ = function (e) {
                var t = e.type,
                  i = e.initSegment,
                  n = e.map,
                  r = e.playlist;
                if (n) {
                  var s = Bo(n);
                  if (this.activeInitSegmentId_ === s) return null;
                  (i = this.initSegmentForMap(n, !0).bytes),
                    (this.activeInitSegmentId_ = s);
                }
                return i && this.appendInitSegment_[t]
                  ? ((this.playlistOfLastInitSegment_[t] = r),
                    (this.appendInitSegment_[t] = !!n),
                    (this.activeInitSegmentId_ = null),
                    i)
                  : null;
              }),
              (i.handleQuotaExceededError_ = function (e, t) {
                var i = this,
                  n = e.segmentInfo,
                  s = e.type,
                  a = e.bytes,
                  o = this.sourceUpdater_.audioBuffered(),
                  l = this.sourceUpdater_.videoBuffered();
                o.length > 1 &&
                  this.logger_(
                    'On QUOTA_EXCEEDED_ERR, found gaps in the audio buffer: ' +
                      po(o).join(', '),
                  ),
                  l.length > 1 &&
                    this.logger_(
                      'On QUOTA_EXCEEDED_ERR, found gaps in the video buffer: ' +
                        po(l).join(', '),
                    );
                var u = o.length ? o.start(0) : 0,
                  d = o.length ? o.end(o.length - 1) : 0,
                  c = l.length ? l.start(0) : 0,
                  h = l.length ? l.end(l.length - 1) : 0;
                if (d - u <= 1 && h - c <= 1)
                  return (
                    this.logger_(
                      'On QUOTA_EXCEEDED_ERR, single segment too large to append to buffer, triggering an error. Appended byte length: ' +
                        a.byteLength +
                        ', audio buffer: ' +
                        po(o).join(', ') +
                        ', video buffer: ' +
                        po(l).join(', ') +
                        ', ',
                    ),
                    this.error({
                      message:
                        'Quota exceeded error with append of a single segment of content',
                      blacklistDuration: 1 / 0,
                    }),
                    void this.trigger('error')
                  );
                (this.waitingOnRemove_ = !0),
                  this.callQueue_.push(
                    this.appendToSourceBuffer_.bind(this, {
                      segmentInfo: n,
                      type: s,
                      bytes: a,
                    }),
                  );
                var p = this.currentTime_() - 1;
                this.logger_(
                  'On QUOTA_EXCEEDED_ERR, removing audio/video from 0 to ' + p,
                ),
                  this.remove(
                    0,
                    p,
                    function () {
                      i.logger_('On QUOTA_EXCEEDED_ERR, retrying append in 1s'),
                        (i.waitingOnRemove_ = !1),
                        (i.quotaExceededErrorRetryTimeout_ = r().setTimeout(
                          function () {
                            i.logger_(
                              'On QUOTA_EXCEEDED_ERR, re-processing call queue',
                            ),
                              (i.quotaExceededErrorRetryTimeout_ = null),
                              i.processCallQueue_();
                          },
                          1e3,
                        ));
                    },
                    !0,
                  );
              }),
              (i.handleAppendError_ = function (e, t) {
                var i = e.segmentInfo,
                  n = e.type,
                  r = e.bytes;
                t &&
                  (22 !== t.code
                    ? (this.logger_(
                        'Received non QUOTA_EXCEEDED_ERR on append',
                        t,
                      ),
                      this.error(
                        n +
                          ' append of ' +
                          r.length +
                          'b failed for segment #' +
                          i.mediaIndex +
                          ' in playlist ' +
                          i.playlist.id,
                      ),
                      this.trigger('appenderror'))
                    : this.handleQuotaExceededError_({
                        segmentInfo: i,
                        type: n,
                        bytes: r,
                      }));
              }),
              (i.appendToSourceBuffer_ = function (e) {
                var t,
                  i,
                  n,
                  r = e.segmentInfo,
                  s = e.type,
                  a = e.initSegment,
                  o = e.data,
                  l = e.bytes;
                if (!l) {
                  var u = [o],
                    d = o.byteLength;
                  a && (u.unshift(a), (d += a.byteLength)),
                    (n = 0),
                    (t = { bytes: d, segments: u }).bytes &&
                      ((i = new Uint8Array(t.bytes)),
                      t.segments.forEach(function (e) {
                        i.set(e, n), (n += e.byteLength);
                      })),
                    (l = i);
                }
                this.sourceUpdater_.appendBuffer(
                  { segmentInfo: r, type: s, bytes: l },
                  this.handleAppendError_.bind(this, {
                    segmentInfo: r,
                    type: s,
                    bytes: l,
                  }),
                );
              }),
              (i.handleSegmentTimingInfo_ = function (e, t, i) {
                if (
                  this.pendingSegment_ &&
                  t === this.pendingSegment_.requestId
                ) {
                  var n = this.pendingSegment_.segment,
                    r = e + 'TimingInfo';
                  n[r] || (n[r] = {}),
                    (n[r].transmuxerPrependedSeconds =
                      i.prependedContentDuration || 0),
                    (n[r].transmuxedPresentationStart = i.start.presentation),
                    (n[r].transmuxedDecodeStart = i.start.decode),
                    (n[r].transmuxedPresentationEnd = i.end.presentation),
                    (n[r].transmuxedDecodeEnd = i.end.decode),
                    (n[r].baseMediaDecodeTime = i.baseMediaDecodeTime);
                }
              }),
              (i.appendData_ = function (e, t) {
                var i = t.type,
                  n = t.data;
                if (
                  n &&
                  n.byteLength &&
                  ('audio' !== i || !this.audioDisabled_)
                ) {
                  var r = this.getInitSegmentAndUpdateState_({
                    type: i,
                    initSegment: t.initSegment,
                    playlist: e.playlist,
                    map: e.isFmp4 ? e.segment.map : null,
                  });
                  this.appendToSourceBuffer_({
                    segmentInfo: e,
                    type: i,
                    initSegment: r,
                    data: n,
                  });
                }
              }),
              (i.loadSegment_ = function (e) {
                var t = this;
                (this.state = 'WAITING'),
                  (this.pendingSegment_ = e),
                  this.trimBackBuffer_(e),
                  'number' == typeof e.timestampOffset &&
                    this.transmuxer_ &&
                    this.transmuxer_.postMessage({
                      action: 'clearAllMp4Captions',
                    }),
                  this.hasEnoughInfoToLoad_()
                    ? this.updateTransmuxerAndRequestSegment_(e)
                    : this.loadQueue_.push(function () {
                        var i = t.buffered_();
                        'number' == typeof e.timestampOffset &&
                          (e.timestampOffset = Wl({
                            segmentTimeline: e.timeline,
                            currentTimeline: t.currentTimeline_,
                            startOfSegment: e.startOfSegment,
                            buffered: i,
                            overrideCheck: !0,
                          })),
                          delete e.audioAppendStart;
                        var n = t.sourceUpdater_.audioBuffered();
                        n.length &&
                          (e.audioAppendStart =
                            n.end(n.length - 1) -
                            t.sourceUpdater_.audioTimestampOffset()),
                          t.updateTransmuxerAndRequestSegment_(e);
                      });
              }),
              (i.updateTransmuxerAndRequestSegment_ = function (e) {
                var t = this;
                this.shouldUpdateTransmuxerTimestampOffset_(
                  e.timestampOffset,
                ) &&
                  ((this.gopBuffer_.length = 0),
                  (e.gopsToAlignWith = []),
                  (this.timeMapping_ = 0),
                  this.transmuxer_.postMessage({ action: 'reset' }),
                  this.transmuxer_.postMessage({
                    action: 'setTimestampOffset',
                    timestampOffset: e.timestampOffset,
                  }));
                var i = this.createSimplifiedSegmentObj_(e),
                  n = this.isEndOfStream_(
                    e.mediaIndex,
                    e.playlist,
                    e.partIndex,
                  ),
                  r = null !== this.mediaIndex,
                  s = e.timeline !== this.currentTimeline_ && e.timeline > 0,
                  a = n || (r && s);
                this.logger_('Requesting ' + Ul(e)),
                  (e.abortRequests = Sl({
                    xhr: this.vhs_.xhr,
                    xhrOptions: this.xhrOptions_,
                    decryptionWorker: this.decrypter_,
                    segment: i,
                    handlePartialData: this.handlePartialData_,
                    abortFn: this.handleAbort_.bind(this, e),
                    progressFn: this.handleProgress_.bind(this),
                    trackInfoFn: this.handleTrackInfo_.bind(this),
                    timingInfoFn: this.handleTimingInfo_.bind(this),
                    videoSegmentTimingInfoFn:
                      this.handleSegmentTimingInfo_.bind(
                        this,
                        'video',
                        e.requestId,
                      ),
                    audioSegmentTimingInfoFn:
                      this.handleSegmentTimingInfo_.bind(
                        this,
                        'audio',
                        e.requestId,
                      ),
                    captionsFn: this.handleCaptions_.bind(this),
                    isEndOfTimeline: a,
                    endedTimelineFn: function () {
                      t.logger_('received endedtimeline callback');
                    },
                    id3Fn: this.handleId3_.bind(this),
                    dataFn: this.handleData_.bind(this),
                    doneFn: this.segmentRequestFinished_.bind(this),
                  }));
              }),
              (i.trimBackBuffer_ = function (e) {
                var t = (function (e, t, i) {
                  var n = t - Zo.BACK_BUFFER_LENGTH;
                  e.length && (n = Math.max(n, e.start(0)));
                  var r = t - i;
                  return Math.min(r, n);
                })(
                  this.seekable_(),
                  this.currentTime_(),
                  this.playlist_.targetDuration || 10,
                );
                t > 0 && this.remove(0, t);
              }),
              (i.createSimplifiedSegmentObj_ = function (e) {
                var t = e.segment,
                  i = e.part,
                  n = {
                    resolvedUri: i ? i.resolvedUri : t.resolvedUri,
                    byterange: i ? i.byterange : t.byterange,
                    requestId: e.requestId,
                    transmuxer: e.transmuxer,
                    audioAppendStart: e.audioAppendStart,
                    gopsToAlignWith: e.gopsToAlignWith,
                    part: e.part,
                  },
                  r = e.playlist.segments[e.mediaIndex - 1];
                if (
                  (r &&
                    r.timeline === t.timeline &&
                    (r.videoTimingInfo
                      ? (n.baseStartTime =
                          r.videoTimingInfo.transmuxedDecodeEnd)
                      : r.audioTimingInfo &&
                        (n.baseStartTime =
                          r.audioTimingInfo.transmuxedDecodeEnd)),
                  t.key)
                ) {
                  var s =
                    t.key.iv ||
                    new Uint32Array([
                      0,
                      0,
                      0,
                      e.mediaIndex + e.playlist.mediaSequence,
                    ]);
                  (n.key = this.segmentKey(t.key)), (n.key.iv = s);
                }
                return t.map && (n.map = this.initSegmentForMap(t.map)), n;
              }),
              (i.saveTransferStats_ = function (e) {
                (this.mediaRequests += 1),
                  e &&
                    ((this.mediaBytesTransferred += e.bytesReceived),
                    (this.mediaTransferDuration += e.roundTripTime));
              }),
              (i.saveBandwidthRelatedStats_ = function (e, t) {
                (this.pendingSegment_.byteLength = t.bytesReceived),
                  e < Bl
                    ? this.logger_(
                        "Ignoring segment's bandwidth because its duration of " +
                          e +
                          ' is less than the min to record 0.016666666666666666',
                      )
                    : ((this.bandwidth = t.bandwidth),
                      (this.roundTrip = t.roundTripTime));
              }),
              (i.handleTimeout_ = function () {
                (this.mediaRequestsTimedout += 1),
                  (this.bandwidth = 1),
                  (this.roundTrip = NaN),
                  this.trigger('bandwidthupdate');
              }),
              (i.segmentRequestFinished_ = function (e, t, i) {
                if (this.callQueue_.length)
                  this.callQueue_.push(
                    this.segmentRequestFinished_.bind(this, e, t, i),
                  );
                else if (
                  (this.saveTransferStats_(t.stats),
                  this.pendingSegment_ &&
                    t.requestId === this.pendingSegment_.requestId)
                ) {
                  if (e) {
                    if (
                      ((this.pendingSegment_ = null),
                      (this.state = 'READY'),
                      e.code === ml)
                    )
                      return;
                    return (
                      this.pause(),
                      e.code === fl
                        ? void this.handleTimeout_()
                        : ((this.mediaRequestsErrored += 1),
                          this.error(e),
                          void this.trigger('error'))
                    );
                  }
                  var n = this.pendingSegment_;
                  this.saveBandwidthRelatedStats_(n.duration, t.stats),
                    (n.endOfAllRequests = t.endOfAllRequests),
                    i.gopInfo &&
                      (this.gopBuffer_ = (function (e, t, i) {
                        if (!t.length) return e;
                        if (i) return t.slice();
                        for (
                          var n = t[0].pts, r = 0;
                          r < e.length && !(e[r].pts >= n);
                          r++
                        );
                        return e.slice(0, r).concat(t);
                      })(this.gopBuffer_, i.gopInfo, this.safeAppend_)),
                    (this.state = 'APPENDING'),
                    this.trigger('appending'),
                    this.waitForAppendsToComplete_(n);
                }
              }),
              (i.setTimeMapping_ = function (e) {
                var t = this.syncController_.mappingForTimeline(e);
                null !== t && (this.timeMapping_ = t);
              }),
              (i.updateMediaSecondsLoaded_ = function (e) {
                'number' == typeof e.start && 'number' == typeof e.end
                  ? (this.mediaSecondsLoaded += e.end - e.start)
                  : (this.mediaSecondsLoaded += e.duration);
              }),
              (i.shouldUpdateTransmuxerTimestampOffset_ = function (e) {
                return (
                  null !== e &&
                  (('main' === this.loaderType_ &&
                    e !== this.sourceUpdater_.videoTimestampOffset()) ||
                    (!this.audioDisabled_ &&
                      e !== this.sourceUpdater_.audioTimestampOffset()))
                );
              }),
              (i.trueSegmentStart_ = function (e) {
                var t = e.currentStart,
                  i = e.playlist,
                  n = e.mediaIndex,
                  r = e.firstVideoFrameTimeForData,
                  s = e.currentVideoTimestampOffset,
                  a = e.useVideoTimingInfo,
                  o = e.videoTimingInfo,
                  l = e.audioTimingInfo;
                if (void 0 !== t) return t;
                if (!a) return l.start;
                var u = i.segments[n - 1];
                return 0 !== n && u && void 0 !== u.start && u.end === r + s
                  ? o.start
                  : r;
              }),
              (i.waitForAppendsToComplete_ = function (e) {
                if (!this.currentMediaInfo_)
                  return (
                    this.error({
                      message:
                        'No starting media returned, likely due to an unsupported media format.',
                      blacklistDuration: 1 / 0,
                    }),
                    void this.trigger('error')
                  );
                var t = this.currentMediaInfo_,
                  i = t.hasAudio,
                  n = t.hasVideo,
                  r = t.isMuxed,
                  s = 'main' === this.loaderType_ && n,
                  a = !this.audioDisabled_ && i && !r;
                if (((e.waitingOnAppends = 0), !e.hasAppendedData_))
                  return (
                    e.timingInfo ||
                      'number' != typeof e.timestampOffset ||
                      (this.isPendingTimestampOffset_ = !0),
                    (e.timingInfo = { start: 0 }),
                    e.waitingOnAppends++,
                    this.isPendingTimestampOffset_ ||
                      (this.updateSourceBufferTimestampOffset_(e),
                      this.processMetadataQueue_()),
                    void this.checkAppendsDone_(e)
                  );
                s && e.waitingOnAppends++,
                  a && e.waitingOnAppends++,
                  s &&
                    this.sourceUpdater_.videoQueueCallback(
                      this.checkAppendsDone_.bind(this, e),
                    ),
                  a &&
                    this.sourceUpdater_.audioQueueCallback(
                      this.checkAppendsDone_.bind(this, e),
                    );
              }),
              (i.checkAppendsDone_ = function (e) {
                this.checkForAbort_(e.requestId) ||
                  (e.waitingOnAppends--,
                  0 === e.waitingOnAppends && this.handleAppendsDone_());
              }),
              (i.checkForIllegalMediaSwitch = function (e) {
                var t = (function (e, t, i) {
                  return 'main' === e && t && i
                    ? i.hasAudio || i.hasVideo
                      ? t.hasVideo && !i.hasVideo
                        ? "Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest."
                        : !t.hasVideo && i.hasVideo
                          ? "Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest."
                          : null
                      : 'Neither audio nor video found in segment.'
                    : null;
                })(this.loaderType_, this.currentMediaInfo_, e);
                return (
                  !!t &&
                  (this.error({ message: t, blacklistDuration: 1 / 0 }),
                  this.trigger('error'),
                  !0)
                );
              }),
              (i.updateSourceBufferTimestampOffset_ = function (e) {
                if (
                  null !== e.timestampOffset &&
                  'number' == typeof e.timingInfo.start &&
                  !e.changedTimestampOffset &&
                  'main' === this.loaderType_
                ) {
                  var t = !1;
                  (e.timestampOffset -= e.timingInfo.start),
                    (e.changedTimestampOffset = !0),
                    e.timestampOffset !==
                      this.sourceUpdater_.videoTimestampOffset() &&
                      (this.sourceUpdater_.videoTimestampOffset(
                        e.timestampOffset,
                      ),
                      (t = !0)),
                    e.timestampOffset !==
                      this.sourceUpdater_.audioTimestampOffset() &&
                      (this.sourceUpdater_.audioTimestampOffset(
                        e.timestampOffset,
                      ),
                      (t = !0)),
                    t && this.trigger('timestampoffset');
                }
              }),
              (i.updateTimingInfoEnd_ = function (e) {
                e.timingInfo = e.timingInfo || {};
                var t =
                  'main' === this.loaderType_ &&
                  this.currentMediaInfo_.hasVideo &&
                  e.videoTimingInfo
                    ? e.videoTimingInfo
                    : e.audioTimingInfo;
                t &&
                  (e.timingInfo.end =
                    'number' == typeof t.end ? t.end : t.start + e.duration);
              }),
              (i.handleAppendsDone_ = function () {
                if (
                  (this.pendingSegment_ && this.trigger('appendsdone'),
                  !this.pendingSegment_)
                )
                  return (
                    (this.state = 'READY'),
                    void (this.paused() || this.monitorBuffer_())
                  );
                var e = this.pendingSegment_;
                this.updateTimingInfoEnd_(e),
                  this.shouldSaveSegmentTimingInfo_ &&
                    this.syncController_.saveSegmentTimingInfo({
                      segmentInfo: e,
                      shouldSaveTimelineMapping: 'main' === this.loaderType_,
                    }),
                  this.logger_('Appended ' + Ul(e));
                var t = ql(e, this.sourceType_);
                if (
                  (t &&
                    ('warn' === t.severity
                      ? Ua.log.warn(t.message)
                      : this.logger_(t.message)),
                  this.recordThroughput_(e),
                  (this.pendingSegment_ = null),
                  (this.state = 'READY'),
                  e.isSyncRequest)
                )
                  this.trigger('syncinfoupdate');
                else {
                  this.addSegmentMetadataCue_(e),
                    (this.fetchAtBuffer_ = !0),
                    this.currentTimeline_ !== e.timeline &&
                      (this.timelineChangeController_.lastTimelineChange({
                        type: this.loaderType_,
                        from: this.currentTimeline_,
                        to: e.timeline,
                      }),
                      'main' !== this.loaderType_ ||
                        this.audioDisabled_ ||
                        this.timelineChangeController_.lastTimelineChange({
                          type: 'audio',
                          from: this.currentTimeline_,
                          to: e.timeline,
                        })),
                    (this.currentTimeline_ = e.timeline),
                    this.trigger('syncinfoupdate');
                  var i = e.segment;
                  if (
                    i.end &&
                    this.currentTime_() - i.end > 3 * e.playlist.targetDuration
                  )
                    this.resetEverything();
                  else
                    null !== this.mediaIndex && this.trigger('bandwidthupdate'),
                      this.trigger('progress'),
                      (this.mediaIndex = e.mediaIndex),
                      (this.partIndex = e.partIndex),
                      this.isEndOfStream_(
                        e.mediaIndex,
                        e.playlist,
                        e.partIndex,
                      ) && this.endOfStream(),
                      this.trigger('appended'),
                      this.paused() || this.monitorBuffer_();
                }
              }),
              (i.recordThroughput_ = function (e) {
                if (e.duration < Bl)
                  this.logger_(
                    "Ignoring segment's throughput because its duration of " +
                      e.duration +
                      ' is less than the min to record 0.016666666666666666',
                  );
                else {
                  var t = this.throughput.rate,
                    i = Date.now() - e.endOfAllRequests + 1,
                    n = Math.floor((e.byteLength / i) * 8 * 1e3);
                  this.throughput.rate += (n - t) / ++this.throughput.count;
                }
              }),
              (i.addSegmentMetadataCue_ = function (e) {
                if (this.segmentMetadataTrack_) {
                  var t = e.segment,
                    i = t.start,
                    n = t.end;
                  if (Nl(i) && Nl(n)) {
                    Ml(i, n, this.segmentMetadataTrack_);
                    var s = r().WebKitDataCue || r().VTTCue,
                      a = {
                        custom: t.custom,
                        dateTimeObject: t.dateTimeObject,
                        dateTimeString: t.dateTimeString,
                        bandwidth: e.playlist.attributes.BANDWIDTH,
                        resolution: e.playlist.attributes.RESOLUTION,
                        codecs: e.playlist.attributes.CODECS,
                        byteLength: e.byteLength,
                        uri: e.uri,
                        timeline: e.timeline,
                        playlist: e.playlist.id,
                        start: i,
                        end: n,
                      },
                      o = new s(i, n, JSON.stringify(a));
                    (o.value = a), this.segmentMetadataTrack_.addCue(o);
                  }
                }
              }),
              t
            );
          })(Ua.EventTarget);
        function Kl() {}
        var Xl,
          Ql = function (e) {
            return 'string' != typeof e
              ? e
              : e.replace(/./, function (e) {
                  return e.toUpperCase();
                });
          },
          Gl = ['video', 'audio'],
          Yl = function (e, t) {
            var i = t[e + 'Buffer'];
            return (i && i.updating) || t.queuePending[e];
          },
          Jl = function e(t, i) {
            if (0 !== i.queue.length) {
              var n = 0,
                r = i.queue[n];
              if ('mediaSource' !== r.type) {
                if (
                  'mediaSource' !== t &&
                  i.ready() &&
                  'closed' !== i.mediaSource.readyState &&
                  !Yl(t, i)
                ) {
                  if (r.type !== t) {
                    if (
                      ((n = (function (e, t) {
                        for (var i = 0; i < t.length; i++) {
                          var n = t[i];
                          if ('mediaSource' === n.type) return null;
                          if (n.type === e) return i;
                        }
                        return null;
                      })(t, i.queue)),
                      null === n)
                    )
                      return;
                    r = i.queue[n];
                  }
                  return (
                    i.queue.splice(n, 1),
                    (i.queuePending[t] = r),
                    r.action(t, i),
                    r.doneFn
                      ? void 0
                      : ((i.queuePending[t] = null), void e(t, i))
                  );
                }
              } else
                i.updating() ||
                  'closed' === i.mediaSource.readyState ||
                  (i.queue.shift(),
                  r.action(i),
                  r.doneFn && r.doneFn(),
                  e('audio', i),
                  e('video', i));
            }
          },
          Zl = function (e, t) {
            var i = t[e + 'Buffer'],
              n = Ql(e);
            i &&
              (i.removeEventListener('updateend', t['on' + n + 'UpdateEnd_']),
              i.removeEventListener('error', t['on' + n + 'Error_']),
              (t.codecs[e] = null),
              (t[e + 'Buffer'] = null));
          },
          $l = function (e, t) {
            return (
              e && t && -1 !== Array.prototype.indexOf.call(e.sourceBuffers, t)
            );
          },
          eu = function (e, t, i) {
            return function (n, r) {
              var s = r[n + 'Buffer'];
              if ($l(r.mediaSource, s)) {
                r.logger_(
                  'Appending segment ' +
                    t.mediaIndex +
                    "'s " +
                    e.length +
                    ' bytes to ' +
                    n +
                    'Buffer',
                );
                try {
                  s.appendBuffer(e);
                } catch (e) {
                  r.logger_(
                    'Error with code ' +
                      e.code +
                      ' ' +
                      (22 === e.code ? '(QUOTA_EXCEEDED_ERR) ' : '') +
                      'when appending segment ' +
                      t.mediaIndex +
                      ' to ' +
                      n +
                      'Buffer',
                  ),
                    (r.queuePending[n] = null),
                    i(e);
                }
              }
            };
          },
          tu = function (e, t) {
            return function (i, n) {
              var r = n[i + 'Buffer'];
              if ($l(n.mediaSource, r)) {
                n.logger_(
                  'Removing ' + e + ' to ' + t + ' from ' + i + 'Buffer',
                );
                try {
                  r.remove(e, t);
                } catch (r) {
                  n.logger_(
                    'Remove ' + e + ' to ' + t + ' from ' + i + 'Buffer failed',
                  );
                }
              }
            };
          },
          iu = function (e) {
            return function (t, i) {
              var n = i[t + 'Buffer'];
              $l(i.mediaSource, n) &&
                (i.logger_('Setting ' + t + 'timestampOffset to ' + e),
                (n.timestampOffset = e));
            };
          },
          nu = function (e) {
            return function (t, i) {
              e();
            };
          },
          ru = function (e) {
            return function (t) {
              if ('open' === t.mediaSource.readyState) {
                t.logger_('Calling mediaSource endOfStream(' + (e || '') + ')');
                try {
                  t.mediaSource.endOfStream(e);
                } catch (e) {
                  Ua.log.warn('Failed to call media source endOfStream', e);
                }
              }
            };
          },
          su = function (e) {
            return function (t) {
              t.logger_('Setting mediaSource duration to ' + e);
              try {
                t.mediaSource.duration = e;
              } catch (e) {
                Ua.log.warn('Failed to set media source duration', e);
              }
            };
          },
          au = function () {
            return function (e, t) {
              if ('open' === t.mediaSource.readyState) {
                var i = t[e + 'Buffer'];
                if ($l(t.mediaSource, i)) {
                  t.logger_('calling abort on ' + e + 'Buffer');
                  try {
                    i.abort();
                  } catch (t) {
                    Ua.log.warn('Failed to abort on ' + e + 'Buffer', t);
                  }
                }
              }
            };
          },
          ou = function (e, t) {
            return function (i) {
              var n = Ql(e),
                r = K(t);
              i.logger_(
                'Adding ' + e + 'Buffer with codec ' + t + ' to mediaSource',
              );
              var s = i.mediaSource.addSourceBuffer(r);
              s.addEventListener('updateend', i['on' + n + 'UpdateEnd_']),
                s.addEventListener('error', i['on' + n + 'Error_']),
                (i.codecs[e] = t),
                (i[e + 'Buffer'] = s);
            };
          },
          lu = function (e) {
            return function (t) {
              var i = t[e + 'Buffer'];
              if ((Zl(e, t), $l(t.mediaSource, i))) {
                t.logger_(
                  'Removing ' +
                    e +
                    'Buffer with codec ' +
                    t.codecs[e] +
                    ' from mediaSource',
                );
                try {
                  t.mediaSource.removeSourceBuffer(i);
                } catch (t) {
                  Ua.log.warn(
                    'Failed to removeSourceBuffer ' + e + 'Buffer',
                    t,
                  );
                }
              }
            };
          },
          uu = function (e) {
            return function (t, i) {
              var n = i[t + 'Buffer'],
                r = K(e);
              $l(i.mediaSource, n) &&
                i.codecs[t] !== e &&
                (i.logger_(
                  'changing ' +
                    t +
                    'Buffer codec from ' +
                    i.codecs[t] +
                    ' to ' +
                    e,
                ),
                n.changeType(r),
                (i.codecs[t] = e));
            };
          },
          du = function (e) {
            var t = e.type,
              i = e.sourceUpdater,
              n = e.action,
              r = e.doneFn,
              s = e.name;
            i.queue.push({ type: t, action: n, doneFn: r, name: s }), Jl(t, i);
          },
          cu = function (e, t) {
            return function (i) {
              if (t.queuePending[e]) {
                var n = t.queuePending[e].doneFn;
                (t.queuePending[e] = null), n && n(t[e + 'Error_']);
              }
              Jl(e, t);
            };
          },
          hu = (function (e) {
            function t(t) {
              var i;
              return (
                ((i = e.call(this) || this).mediaSource = t),
                (i.sourceopenListener_ = function () {
                  return Jl('mediaSource', l(i));
                }),
                i.mediaSource.addEventListener(
                  'sourceopen',
                  i.sourceopenListener_,
                ),
                (i.logger_ = qa('SourceUpdater')),
                (i.audioTimestampOffset_ = 0),
                (i.videoTimestampOffset_ = 0),
                (i.queue = []),
                (i.queuePending = { audio: null, video: null }),
                (i.delayedAudioAppendQueue_ = []),
                (i.videoAppendQueued_ = !1),
                (i.codecs = {}),
                (i.onVideoUpdateEnd_ = cu('video', l(i))),
                (i.onAudioUpdateEnd_ = cu('audio', l(i))),
                (i.onVideoError_ = function (e) {
                  i.videoError_ = e;
                }),
                (i.onAudioError_ = function (e) {
                  i.audioError_ = e;
                }),
                (i.createdSourceBuffers_ = !1),
                (i.initializedEme_ = !1),
                (i.triggeredReady_ = !1),
                i
              );
            }
            d(t, e);
            var i = t.prototype;
            return (
              (i.initializedEme = function () {
                (this.initializedEme_ = !0), this.triggerReady();
              }),
              (i.hasCreatedSourceBuffers = function () {
                return this.createdSourceBuffers_;
              }),
              (i.hasInitializedAnyEme = function () {
                return this.initializedEme_;
              }),
              (i.ready = function () {
                return (
                  this.hasCreatedSourceBuffers() && this.hasInitializedAnyEme()
                );
              }),
              (i.createSourceBuffers = function (e) {
                this.hasCreatedSourceBuffers() ||
                  (this.addOrChangeSourceBuffers(e),
                  (this.createdSourceBuffers_ = !0),
                  this.trigger('createdsourcebuffers'),
                  this.triggerReady());
              }),
              (i.triggerReady = function () {
                this.ready() &&
                  !this.triggeredReady_ &&
                  ((this.triggeredReady_ = !0), this.trigger('ready'));
              }),
              (i.addSourceBuffer = function (e, t) {
                du({
                  type: 'mediaSource',
                  sourceUpdater: this,
                  action: ou(e, t),
                  name: 'addSourceBuffer',
                });
              }),
              (i.abort = function (e) {
                du({
                  type: e,
                  sourceUpdater: this,
                  action: au(e),
                  name: 'abort',
                });
              }),
              (i.removeSourceBuffer = function (e) {
                this.canRemoveSourceBuffer()
                  ? du({
                      type: 'mediaSource',
                      sourceUpdater: this,
                      action: lu(e),
                      name: 'removeSourceBuffer',
                    })
                  : Ua.log.error('removeSourceBuffer is not supported!');
              }),
              (i.canRemoveSourceBuffer = function () {
                return (
                  !Ua.browser.IE_VERSION &&
                  !Ua.browser.IS_FIREFOX &&
                  r().MediaSource &&
                  r().MediaSource.prototype &&
                  'function' ==
                    typeof r().MediaSource.prototype.removeSourceBuffer
                );
              }),
              (t.canChangeType = function () {
                return (
                  r().SourceBuffer &&
                  r().SourceBuffer.prototype &&
                  'function' == typeof r().SourceBuffer.prototype.changeType
                );
              }),
              (i.canChangeType = function () {
                return this.constructor.canChangeType();
              }),
              (i.changeType = function (e, t) {
                this.canChangeType()
                  ? du({
                      type: e,
                      sourceUpdater: this,
                      action: uu(t),
                      name: 'changeType',
                    })
                  : Ua.log.error('changeType is not supported!');
              }),
              (i.addOrChangeSourceBuffers = function (e) {
                var t = this;
                if (!e || 'object' != typeof e || 0 === Object.keys(e).length)
                  throw new Error(
                    'Cannot addOrChangeSourceBuffers to undefined codecs',
                  );
                Object.keys(e).forEach(function (i) {
                  var n = e[i];
                  if (!t.hasCreatedSourceBuffers())
                    return t.addSourceBuffer(i, n);
                  t.canChangeType() && t.changeType(i, n);
                });
              }),
              (i.appendBuffer = function (e, t) {
                var i = this,
                  n = e.segmentInfo,
                  r = e.type,
                  s = e.bytes;
                if (
                  ((this.processedAppend_ = !0),
                  'audio' === r && this.videoBuffer && !this.videoAppendQueued_)
                )
                  return (
                    this.delayedAudioAppendQueue_.push([e, t]),
                    void this.logger_(
                      'delayed audio append of ' +
                        s.length +
                        ' until video append',
                    )
                  );
                if (
                  (du({
                    type: r,
                    sourceUpdater: this,
                    action: eu(s, n || { mediaIndex: -1 }, t),
                    doneFn: t,
                    name: 'appendBuffer',
                  }),
                  'video' === r)
                ) {
                  if (
                    ((this.videoAppendQueued_ = !0),
                    !this.delayedAudioAppendQueue_.length)
                  )
                    return;
                  var a = this.delayedAudioAppendQueue_.slice();
                  this.logger_(
                    'queuing delayed audio ' + a.length + ' appendBuffers',
                  ),
                    (this.delayedAudioAppendQueue_.length = 0),
                    a.forEach(function (e) {
                      i.appendBuffer.apply(i, e);
                    });
                }
              }),
              (i.audioBuffered = function () {
                return $l(this.mediaSource, this.audioBuffer) &&
                  this.audioBuffer.buffered
                  ? this.audioBuffer.buffered
                  : Ua.createTimeRange();
              }),
              (i.videoBuffered = function () {
                return $l(this.mediaSource, this.videoBuffer) &&
                  this.videoBuffer.buffered
                  ? this.videoBuffer.buffered
                  : Ua.createTimeRange();
              }),
              (i.buffered = function () {
                var e = $l(this.mediaSource, this.videoBuffer)
                    ? this.videoBuffer
                    : null,
                  t = $l(this.mediaSource, this.audioBuffer)
                    ? this.audioBuffer
                    : null;
                return t && !e
                  ? this.audioBuffered()
                  : e && !t
                    ? this.videoBuffered()
                    : (function (e, t) {
                        var i = null,
                          n = null,
                          r = 0,
                          s = [],
                          a = [];
                        if (!(e && e.length && t && t.length))
                          return Ua.createTimeRange();
                        for (var o = e.length; o--; )
                          s.push({ time: e.start(o), type: 'start' }),
                            s.push({ time: e.end(o), type: 'end' });
                        for (o = t.length; o--; )
                          s.push({ time: t.start(o), type: 'start' }),
                            s.push({ time: t.end(o), type: 'end' });
                        for (
                          s.sort(function (e, t) {
                            return e.time - t.time;
                          }),
                            o = 0;
                          o < s.length;
                          o++
                        )
                          'start' === s[o].type
                            ? 2 == ++r && (i = s[o].time)
                            : 'end' === s[o].type &&
                              1 == --r &&
                              (n = s[o].time),
                            null !== i &&
                              null !== n &&
                              (a.push([i, n]), (i = null), (n = null));
                        return Ua.createTimeRanges(a);
                      })(this.audioBuffered(), this.videoBuffered());
              }),
              (i.setDuration = function (e, t) {
                void 0 === t && (t = Kl),
                  du({
                    type: 'mediaSource',
                    sourceUpdater: this,
                    action: su(e),
                    name: 'duration',
                    doneFn: t,
                  });
              }),
              (i.endOfStream = function (e, t) {
                void 0 === e && (e = null),
                  void 0 === t && (t = Kl),
                  'string' != typeof e && (e = void 0),
                  du({
                    type: 'mediaSource',
                    sourceUpdater: this,
                    action: ru(e),
                    name: 'endOfStream',
                    doneFn: t,
                  });
              }),
              (i.removeAudio = function (e, t, i) {
                void 0 === i && (i = Kl),
                  this.audioBuffered().length &&
                  0 !== this.audioBuffered().end(0)
                    ? du({
                        type: 'audio',
                        sourceUpdater: this,
                        action: tu(e, t),
                        doneFn: i,
                        name: 'remove',
                      })
                    : i();
              }),
              (i.removeVideo = function (e, t, i) {
                void 0 === i && (i = Kl),
                  this.videoBuffered().length &&
                  0 !== this.videoBuffered().end(0)
                    ? du({
                        type: 'video',
                        sourceUpdater: this,
                        action: tu(e, t),
                        doneFn: i,
                        name: 'remove',
                      })
                    : i();
              }),
              (i.updating = function () {
                return !(!Yl('audio', this) && !Yl('video', this));
              }),
              (i.audioTimestampOffset = function (e) {
                return (
                  void 0 !== e &&
                    this.audioBuffer &&
                    this.audioTimestampOffset_ !== e &&
                    (du({
                      type: 'audio',
                      sourceUpdater: this,
                      action: iu(e),
                      name: 'timestampOffset',
                    }),
                    (this.audioTimestampOffset_ = e)),
                  this.audioTimestampOffset_
                );
              }),
              (i.videoTimestampOffset = function (e) {
                return (
                  void 0 !== e &&
                    this.videoBuffer &&
                    this.videoTimestampOffset !== e &&
                    (du({
                      type: 'video',
                      sourceUpdater: this,
                      action: iu(e),
                      name: 'timestampOffset',
                    }),
                    (this.videoTimestampOffset_ = e)),
                  this.videoTimestampOffset_
                );
              }),
              (i.audioQueueCallback = function (e) {
                this.audioBuffer &&
                  du({
                    type: 'audio',
                    sourceUpdater: this,
                    action: nu(e),
                    name: 'callback',
                  });
              }),
              (i.videoQueueCallback = function (e) {
                this.videoBuffer &&
                  du({
                    type: 'video',
                    sourceUpdater: this,
                    action: nu(e),
                    name: 'callback',
                  });
              }),
              (i.dispose = function () {
                var e = this;
                this.trigger('dispose'),
                  Gl.forEach(function (t) {
                    e.abort(t),
                      e.canRemoveSourceBuffer()
                        ? e.removeSourceBuffer(t)
                        : e[t + 'QueueCallback'](function () {
                            return Zl(t, e);
                          });
                  }),
                  (this.videoAppendQueued_ = !1),
                  (this.delayedAudioAppendQueue_.length = 0),
                  this.sourceopenListener_ &&
                    this.mediaSource.removeEventListener(
                      'sourceopen',
                      this.sourceopenListener_,
                    ),
                  this.off();
              }),
              t
            );
          })(Ua.EventTarget),
          pu = function (e) {
            return decodeURIComponent(
              escape(String.fromCharCode.apply(null, e)),
            );
          },
          fu = new Uint8Array(
            '\n\n'.split('').map(function (e) {
              return e.charCodeAt(0);
            }),
          ),
          mu = (function (e) {
            function t(t, i) {
              var n;
              return (
                void 0 === i && (i = {}),
                ((n = e.call(this, t, i) || this).handlePartialData_ = !1),
                (n.mediaSource_ = null),
                (n.subtitlesTrack_ = null),
                (n.loaderType_ = 'subtitle'),
                (n.featuresNativeTextTracks_ = t.featuresNativeTextTracks),
                (n.shouldSaveSegmentTimingInfo_ = !1),
                n
              );
            }
            d(t, e);
            var i = t.prototype;
            return (
              (i.createTransmuxer_ = function () {
                return null;
              }),
              (i.buffered_ = function () {
                if (
                  !this.subtitlesTrack_ ||
                  !this.subtitlesTrack_.cues ||
                  !this.subtitlesTrack_.cues.length
                )
                  return Ua.createTimeRanges();
                var e = this.subtitlesTrack_.cues,
                  t = e[0].startTime,
                  i = e[e.length - 1].startTime;
                return Ua.createTimeRanges([[t, i]]);
              }),
              (i.initSegmentForMap = function (e, t) {
                if ((void 0 === t && (t = !1), !e)) return null;
                var i = Bo(e),
                  n = this.initSegments_[i];
                if (t && !n && e.bytes) {
                  var r = fu.byteLength + e.bytes.byteLength,
                    s = new Uint8Array(r);
                  s.set(e.bytes),
                    s.set(fu, e.bytes.byteLength),
                    (this.initSegments_[i] = n =
                      {
                        resolvedUri: e.resolvedUri,
                        byterange: e.byterange,
                        bytes: s,
                      });
                }
                return n || e;
              }),
              (i.couldBeginLoading_ = function () {
                return this.playlist_ && this.subtitlesTrack_ && !this.paused();
              }),
              (i.init_ = function () {
                return (
                  (this.state = 'READY'),
                  this.resetEverything(),
                  this.monitorBuffer_()
                );
              }),
              (i.track = function (e) {
                return (
                  void 0 === e ||
                    ((this.subtitlesTrack_ = e),
                    'INIT' === this.state &&
                      this.couldBeginLoading_() &&
                      this.init_()),
                  this.subtitlesTrack_
                );
              }),
              (i.remove = function (e, t) {
                Ml(e, t, this.subtitlesTrack_);
              }),
              (i.fillBuffer_ = function () {
                var e = this;
                this.syncPoint_ ||
                  (this.syncPoint_ = this.syncController_.getSyncPoint(
                    this.playlist_,
                    this.duration_(),
                    this.currentTimeline_,
                    this.currentTime_(),
                  ));
                var t = this.checkBuffer_(
                  this.buffered_(),
                  this.playlist_,
                  this.mediaIndex,
                  this.hasPlayed_(),
                  this.currentTime_(),
                  this.syncPoint_,
                );
                if ((t = this.skipEmptySegments_(t))) {
                  if (
                    null ===
                    this.syncController_.timestampOffsetForTimeline(t.timeline)
                  ) {
                    return (
                      this.syncController_.one('timestampoffset', function () {
                        (e.state = 'READY'), e.paused() || e.monitorBuffer_();
                      }),
                      void (this.state = 'WAITING_ON_TIMELINE')
                    );
                  }
                  this.loadSegment_(t);
                }
              }),
              (i.skipEmptySegments_ = function (e) {
                for (; e && e.segment.empty; )
                  e = this.generateSegmentInfo_(
                    e.playlist,
                    e.mediaIndex + 1,
                    e.startOfSegment + e.duration,
                    e.isSyncRequest,
                  );
                return e;
              }),
              (i.stopForError = function (e) {
                this.error(e),
                  (this.state = 'READY'),
                  this.pause(),
                  this.trigger('error');
              }),
              (i.segmentRequestFinished_ = function (e, t, i) {
                var n = this;
                if (this.subtitlesTrack_) {
                  if ((this.saveTransferStats_(t.stats), !this.pendingSegment_))
                    return (
                      (this.state = 'READY'),
                      void (this.mediaRequestsAborted += 1)
                    );
                  if (e)
                    return (
                      e.code === fl && this.handleTimeout_(),
                      e.code === ml
                        ? (this.mediaRequestsAborted += 1)
                        : (this.mediaRequestsErrored += 1),
                      void this.stopForError(e)
                    );
                  var s = this.pendingSegment_;
                  this.saveBandwidthRelatedStats_(s.duration, t.stats),
                    (this.state = 'APPENDING'),
                    this.trigger('appending');
                  var a = s.segment;
                  if (
                    (a.map && (a.map.bytes = t.map.bytes),
                    (s.bytes = t.bytes),
                    'function' != typeof r().WebVTT &&
                      this.subtitlesTrack_ &&
                      this.subtitlesTrack_.tech_)
                  ) {
                    var o,
                      l = function () {
                        n.subtitlesTrack_.tech_.off('vttjsloaded', o),
                          n.stopForError({ message: 'Error loading vtt.js' });
                      };
                    return (
                      (o = function () {
                        n.subtitlesTrack_.tech_.off('vttjserror', l),
                          n.segmentRequestFinished_(e, t, i);
                      }),
                      (this.state = 'WAITING_ON_VTTJS'),
                      this.subtitlesTrack_.tech_.one('vttjsloaded', o),
                      void this.subtitlesTrack_.tech_.one('vttjserror', l)
                    );
                  }
                  a.requested = !0;
                  try {
                    this.parseVTTCues_(s);
                  } catch (e) {
                    return void this.stopForError({ message: e.message });
                  }
                  if (
                    (this.updateTimeMapping_(
                      s,
                      this.syncController_.timelines[s.timeline],
                      this.playlist_,
                    ),
                    s.cues.length
                      ? (s.timingInfo = {
                          start: s.cues[0].startTime,
                          end: s.cues[s.cues.length - 1].endTime,
                        })
                      : (s.timingInfo = {
                          start: s.startOfSegment,
                          end: s.startOfSegment + s.duration,
                        }),
                    s.isSyncRequest)
                  )
                    return (
                      this.trigger('syncinfoupdate'),
                      (this.pendingSegment_ = null),
                      void (this.state = 'READY')
                    );
                  (s.byteLength = s.bytes.byteLength),
                    (this.mediaSecondsLoaded += a.duration),
                    s.cues.forEach(function (e) {
                      n.subtitlesTrack_.addCue(
                        n.featuresNativeTextTracks_
                          ? new (r().VTTCue)(e.startTime, e.endTime, e.text)
                          : e,
                      );
                    }),
                    (function (e) {
                      var t = e.cues;
                      if (t)
                        for (var i = 0; i < t.length; i++) {
                          for (var n = [], r = 0, s = 0; s < t.length; s++)
                            t[i].startTime === t[s].startTime &&
                              t[i].endTime === t[s].endTime &&
                              t[i].text === t[s].text &&
                              ++r > 1 &&
                              n.push(t[s]);
                          n.length &&
                            n.forEach(function (t) {
                              return e.removeCue(t);
                            });
                        }
                    })(this.subtitlesTrack_),
                    this.handleAppendsDone_();
                } else this.state = 'READY';
              }),
              (i.handleData_ = function () {}),
              (i.updateTimingInfoEnd_ = function () {}),
              (i.parseVTTCues_ = function (e) {
                var t,
                  i = !1;
                'function' == typeof r().TextDecoder
                  ? (t = new (r().TextDecoder)('utf8'))
                  : ((t = r().WebVTT.StringDecoder()), (i = !0));
                var n = new (r().WebVTT.Parser)(r(), r().vttjs, t);
                if (
                  ((e.cues = []),
                  (e.timestampmap = { MPEGTS: 0, LOCAL: 0 }),
                  (n.oncue = e.cues.push.bind(e.cues)),
                  (n.ontimestampmap = function (t) {
                    e.timestampmap = t;
                  }),
                  (n.onparsingerror = function (e) {
                    Ua.log.warn(
                      'Error encountered when parsing cues: ' + e.message,
                    );
                  }),
                  e.segment.map)
                ) {
                  var s = e.segment.map.bytes;
                  i && (s = pu(s)), n.parse(s);
                }
                var a = e.bytes;
                i && (a = pu(a)), n.parse(a), n.flush();
              }),
              (i.updateTimeMapping_ = function (e, t, i) {
                var n = e.segment;
                if (t)
                  if (e.cues.length) {
                    var r = e.timestampmap,
                      s = r.MPEGTS / Ct.ONE_SECOND_IN_TS - r.LOCAL + t.mapping;
                    if (
                      (e.cues.forEach(function (e) {
                        (e.startTime += s), (e.endTime += s);
                      }),
                      !i.syncInfo)
                    ) {
                      var a = e.cues[0].startTime,
                        o = e.cues[e.cues.length - 1].startTime;
                      i.syncInfo = {
                        mediaSequence: i.mediaSequence + e.mediaIndex,
                        time: Math.min(a, o - n.duration),
                      };
                    }
                  } else n.empty = !0;
              }),
              t
            );
          })(zl),
          gu = function (e, t) {
            for (var i = e.cues, n = 0; n < i.length; n++) {
              var r = i[n];
              if (t >= r.adStartTime && t <= r.adEndTime) return r;
            }
            return null;
          },
          vu = function (e, t, i) {
            void 0 === i && (i = 0);
            var n = t.segments;
            return t.endList || 0 === i ? e : n.length - (e + 1);
          },
          yu = [
            {
              name: 'VOD',
              run: function (e, t, i, n, r) {
                if (i !== 1 / 0) {
                  return { time: 0, segmentIndex: 0 };
                }
                return null;
              },
            },
            {
              name: 'ProgramDateTime',
              run: function (e, t, i, n, r) {
                if (!Object.keys(e.timelineToDatetimeMappings).length)
                  return null;
                var s = t.segments || [],
                  a = null,
                  o = null;
                r = r || 0;
                for (var l = 0; l < s.length; l++) {
                  var u = vu(l, t, r),
                    d = s[u],
                    c = e.timelineToDatetimeMappings[d.timeline];
                  if (c && d.dateTimeObject) {
                    var h = d.dateTimeObject.getTime() / 1e3 + c,
                      p = Math.abs(r - h);
                    if (null !== o && (0 === p || o < p)) break;
                    (o = p), (a = { time: h, segmentIndex: u });
                  }
                }
                return a;
              },
            },
            {
              name: 'Segment',
              run: function (e, t, i, n, r) {
                var s = t.segments || [],
                  a = null,
                  o = null;
                r = r || 0;
                for (var l = 0; l < s.length; l++) {
                  var u = vu(l, t, r),
                    d = s[u];
                  if (d.timeline === n && void 0 !== d.start) {
                    var c = Math.abs(r - d.start);
                    if (null !== o && o < c) break;
                    (!a || null === o || o >= c) &&
                      ((o = c), (a = { time: d.start, segmentIndex: u }));
                  }
                }
                return a;
              },
            },
            {
              name: 'Discontinuity',
              run: function (e, t, i, n, r) {
                var s = null;
                if (
                  ((r = r || 0),
                  t.discontinuityStarts && t.discontinuityStarts.length)
                )
                  for (
                    var a = null, o = 0;
                    o < t.discontinuityStarts.length;
                    o++
                  ) {
                    var l = t.discontinuityStarts[o],
                      u = t.discontinuitySequence + o + 1,
                      d = e.discontinuities[u];
                    if (d) {
                      var c = Math.abs(r - d.time);
                      if (null !== a && a < c) break;
                      (!s || null === a || a >= c) &&
                        ((a = c), (s = { time: d.time, segmentIndex: l }));
                    }
                  }
                return s;
              },
            },
            {
              name: 'Playlist',
              run: function (e, t, i, n, r) {
                return t.syncInfo
                  ? {
                      time: t.syncInfo.time,
                      segmentIndex: t.syncInfo.mediaSequence - t.mediaSequence,
                    }
                  : null;
              },
            },
          ],
          Au = (function (e) {
            function t(t) {
              var i;
              return (
                ((i = e.call(this) || this).timelines = []),
                (i.discontinuities = []),
                (i.timelineToDatetimeMappings = {}),
                (i.logger_ = qa('SyncController')),
                i
              );
            }
            d(t, e);
            var i = t.prototype;
            return (
              (i.getSyncPoint = function (e, t, i, n) {
                var r = this.runStrategies_(e, t, i, n);
                return r.length
                  ? this.selectSyncPoint_(r, { key: 'time', value: n })
                  : null;
              }),
              (i.getExpiredTime = function (e, t) {
                if (!e || !e.segments) return null;
                var i = this.runStrategies_(e, t, e.discontinuitySequence, 0);
                if (!i.length) return null;
                var n = this.selectSyncPoint_(i, {
                  key: 'segmentIndex',
                  value: 0,
                });
                return (
                  n.segmentIndex > 0 && (n.time *= -1),
                  Math.abs(n.time + yo(e, n.segmentIndex, 0))
                );
              }),
              (i.runStrategies_ = function (e, t, i, n) {
                for (var r = [], s = 0; s < yu.length; s++) {
                  var a = yu[s],
                    o = a.run(this, e, t, i, n);
                  o &&
                    ((o.strategy = a.name),
                    r.push({ strategy: a.name, syncPoint: o }));
                }
                return r;
              }),
              (i.selectSyncPoint_ = function (e, t) {
                for (
                  var i = e[0].syncPoint,
                    n = Math.abs(e[0].syncPoint[t.key] - t.value),
                    r = e[0].strategy,
                    s = 1;
                  s < e.length;
                  s++
                ) {
                  var a = Math.abs(e[s].syncPoint[t.key] - t.value);
                  a < n && ((n = a), (i = e[s].syncPoint), (r = e[s].strategy));
                }
                return (
                  this.logger_(
                    'syncPoint for [' +
                      t.key +
                      ': ' +
                      t.value +
                      '] chosen with strategy [' +
                      r +
                      ']: [time:' +
                      i.time +
                      ', segmentIndex:' +
                      i.segmentIndex +
                      ']',
                  ),
                  i
                );
              }),
              (i.saveExpiredSegmentInfo = function (e, t) {
                for (
                  var i = t.mediaSequence - e.mediaSequence - 1;
                  i >= 0;
                  i--
                ) {
                  var n = e.segments[i];
                  if (n && void 0 !== n.start) {
                    (t.syncInfo = {
                      mediaSequence: e.mediaSequence + i,
                      time: n.start,
                    }),
                      this.logger_(
                        'playlist refresh sync: [time:' +
                          t.syncInfo.time +
                          ', mediaSequence: ' +
                          t.syncInfo.mediaSequence +
                          ']',
                      ),
                      this.trigger('syncinfoupdate');
                    break;
                  }
                }
              }),
              (i.setDateTimeMappingForStart = function (e) {
                if (
                  ((this.timelineToDatetimeMappings = {}),
                  e.segments &&
                    e.segments.length &&
                    e.segments[0].dateTimeObject)
                ) {
                  var t = e.segments[0],
                    i = t.dateTimeObject.getTime() / 1e3;
                  this.timelineToDatetimeMappings[t.timeline] = -i;
                }
              }),
              (i.saveSegmentTimingInfo = function (e) {
                var t = e.segmentInfo,
                  i = e.shouldSaveTimelineMapping,
                  n = this.calculateSegmentTimeMapping_(t, t.timingInfo, i),
                  r = t.segment;
                n &&
                  (this.saveDiscontinuitySyncInfo_(t),
                  t.playlist.syncInfo ||
                    (t.playlist.syncInfo = {
                      mediaSequence: t.playlist.mediaSequence + t.mediaIndex,
                      time: r.start,
                    }));
                var s = r.dateTimeObject;
                r.discontinuity &&
                  i &&
                  s &&
                  (this.timelineToDatetimeMappings[r.timeline] =
                    -s.getTime() / 1e3);
              }),
              (i.timestampOffsetForTimeline = function (e) {
                return void 0 === this.timelines[e]
                  ? null
                  : this.timelines[e].time;
              }),
              (i.mappingForTimeline = function (e) {
                return void 0 === this.timelines[e]
                  ? null
                  : this.timelines[e].mapping;
              }),
              (i.calculateSegmentTimeMapping_ = function (e, t, i) {
                var n = e.segment,
                  r = this.timelines[e.timeline];
                if ('number' == typeof e.timestampOffset)
                  (r = {
                    time: e.startOfSegment,
                    mapping: e.startOfSegment - t.start,
                  }),
                    i &&
                      ((this.timelines[e.timeline] = r),
                      this.trigger('timestampoffset'),
                      this.logger_(
                        'time mapping for timeline ' +
                          e.timeline +
                          ': [time: ' +
                          r.time +
                          '] [mapping: ' +
                          r.mapping +
                          ']',
                      )),
                    (n.start = e.startOfSegment),
                    (n.end = t.end + r.mapping);
                else {
                  if (!r) return !1;
                  (n.start = t.start + r.mapping), (n.end = t.end + r.mapping);
                }
                return !0;
              }),
              (i.saveDiscontinuitySyncInfo_ = function (e) {
                var t = e.playlist,
                  i = e.segment;
                if (i.discontinuity)
                  this.discontinuities[i.timeline] = {
                    time: i.start,
                    accuracy: 0,
                  };
                else if (t.discontinuityStarts && t.discontinuityStarts.length)
                  for (var n = 0; n < t.discontinuityStarts.length; n++) {
                    var r = t.discontinuityStarts[n],
                      s = t.discontinuitySequence + n + 1,
                      a = r - e.mediaIndex,
                      o = Math.abs(a);
                    if (
                      !this.discontinuities[s] ||
                      this.discontinuities[s].accuracy > o
                    ) {
                      var l = void 0;
                      (l =
                        a < 0
                          ? i.start - yo(t, e.mediaIndex, r)
                          : i.end + yo(t, e.mediaIndex + 1, r)),
                        (this.discontinuities[s] = { time: l, accuracy: o });
                    }
                  }
              }),
              (i.dispose = function () {
                this.trigger('dispose'), this.off();
              }),
              t
            );
          })(Ua.EventTarget),
          bu = (function (e) {
            function t() {
              var t;
              return (
                ((t = e.call(this) || this).pendingTimelineChanges_ = {}),
                (t.lastTimelineChanges_ = {}),
                t
              );
            }
            d(t, e);
            var i = t.prototype;
            return (
              (i.clearPendingTimelineChange = function (e) {
                (this.pendingTimelineChanges_[e] = null),
                  this.trigger('pendingtimelinechange');
              }),
              (i.pendingTimelineChange = function (e) {
                var t = e.type,
                  i = e.from,
                  n = e.to;
                return (
                  'number' == typeof i &&
                    'number' == typeof n &&
                    ((this.pendingTimelineChanges_[t] = {
                      type: t,
                      from: i,
                      to: n,
                    }),
                    this.trigger('pendingtimelinechange')),
                  this.pendingTimelineChanges_[t]
                );
              }),
              (i.lastTimelineChange = function (e) {
                var t = e.type,
                  i = e.from,
                  n = e.to;
                return (
                  'number' == typeof i &&
                    'number' == typeof n &&
                    ((this.lastTimelineChanges_[t] = {
                      type: t,
                      from: i,
                      to: n,
                    }),
                    delete this.pendingTimelineChanges_[t],
                    this.trigger('timelinechange')),
                  this.lastTimelineChanges_[t]
                );
              }),
              (i.dispose = function () {
                this.trigger('dispose'),
                  (this.pendingTimelineChanges_ = {}),
                  (this.lastTimelineChanges_ = {}),
                  this.off();
              }),
              t
            );
          })(Ua.EventTarget),
          Tu = il(
            nl(function () {
              function e(e, t, i) {
                return (
                  e(
                    (i = {
                      path: t,
                      exports: {},
                      require: function (e, t) {
                        return (function () {
                          throw new Error(
                            'Dynamic requires are not currently supported by @rollup/plugin-commonjs',
                          );
                        })(null == t && i.path);
                      },
                    }),
                    i.exports,
                  ),
                  i.exports
                );
              }
              var t = e(function (e) {
                  function t(e, t) {
                    for (var i = 0; i < t.length; i++) {
                      var n = t[i];
                      (n.enumerable = n.enumerable || !1),
                        (n.configurable = !0),
                        'value' in n && (n.writable = !0),
                        Object.defineProperty(e, n.key, n);
                    }
                  }
                  (e.exports = function (e, i, n) {
                    return i && t(e.prototype, i), n && t(e, n), e;
                  }),
                    (e.exports.default = e.exports),
                    (e.exports.__esModule = !0);
                }),
                i = e(function (e) {
                  function t(i, n) {
                    return (
                      (e.exports = t =
                        Object.setPrototypeOf ||
                        function (e, t) {
                          return (e.__proto__ = t), e;
                        }),
                      (e.exports.default = e.exports),
                      (e.exports.__esModule = !0),
                      t(i, n)
                    );
                  }
                  (e.exports = t),
                    (e.exports.default = e.exports),
                    (e.exports.__esModule = !0);
                }),
                n = e(function (e) {
                  (e.exports = function (e, t) {
                    (e.prototype = Object.create(t.prototype)),
                      (e.prototype.constructor = e),
                      i(e, t);
                  }),
                    (e.exports.default = e.exports),
                    (e.exports.__esModule = !0);
                }),
                r = (function () {
                  function e() {
                    this.listeners = {};
                  }
                  var t = e.prototype;
                  return (
                    (t.on = function (e, t) {
                      this.listeners[e] || (this.listeners[e] = []),
                        this.listeners[e].push(t);
                    }),
                    (t.off = function (e, t) {
                      if (!this.listeners[e]) return !1;
                      var i = this.listeners[e].indexOf(t);
                      return (
                        (this.listeners[e] = this.listeners[e].slice(0)),
                        this.listeners[e].splice(i, 1),
                        i > -1
                      );
                    }),
                    (t.trigger = function (e) {
                      var t = this.listeners[e];
                      if (t)
                        if (2 === arguments.length)
                          for (var i = t.length, n = 0; n < i; ++n)
                            t[n].call(this, arguments[1]);
                        else
                          for (
                            var r = Array.prototype.slice.call(arguments, 1),
                              s = t.length,
                              a = 0;
                            a < s;
                            ++a
                          )
                            t[a].apply(this, r);
                    }),
                    (t.dispose = function () {
                      this.listeners = {};
                    }),
                    (t.pipe = function (e) {
                      this.on('data', function (t) {
                        e.push(t);
                      });
                    }),
                    e
                  );
                })();
              var s = null,
                a = (function () {
                  function e(e) {
                    var t, i, n;
                    s ||
                      (s = (function () {
                        var e,
                          t,
                          i,
                          n,
                          r,
                          s,
                          a,
                          o,
                          l = [
                            [[], [], [], [], []],
                            [[], [], [], [], []],
                          ],
                          u = l[0],
                          d = l[1],
                          c = u[4],
                          h = d[4],
                          p = [],
                          f = [];
                        for (e = 0; e < 256; e++)
                          f[(p[e] = (e << 1) ^ (283 * (e >> 7))) ^ e] = e;
                        for (t = i = 0; !c[t]; t ^= n || 1, i = f[i] || 1)
                          for (
                            s =
                              ((s =
                                i ^
                                (i << 1) ^
                                (i << 2) ^
                                (i << 3) ^
                                (i << 4)) >>
                                8) ^
                              (255 & s) ^
                              99,
                              c[t] = s,
                              h[s] = t,
                              o =
                                (16843009 * p[(r = p[(n = p[t])])]) ^
                                (65537 * r) ^
                                (257 * n) ^
                                (16843008 * t),
                              a = (257 * p[s]) ^ (16843008 * s),
                              e = 0;
                            e < 4;
                            e++
                          )
                            (u[e][t] = a = (a << 24) ^ (a >>> 8)),
                              (d[e][s] = o = (o << 24) ^ (o >>> 8));
                        for (e = 0; e < 5; e++)
                          (u[e] = u[e].slice(0)), (d[e] = d[e].slice(0));
                        return l;
                      })()),
                      (this._tables = [
                        [
                          s[0][0].slice(),
                          s[0][1].slice(),
                          s[0][2].slice(),
                          s[0][3].slice(),
                          s[0][4].slice(),
                        ],
                        [
                          s[1][0].slice(),
                          s[1][1].slice(),
                          s[1][2].slice(),
                          s[1][3].slice(),
                          s[1][4].slice(),
                        ],
                      ]);
                    var r = this._tables[0][4],
                      a = this._tables[1],
                      o = e.length,
                      l = 1;
                    if (4 !== o && 6 !== o && 8 !== o)
                      throw new Error('Invalid aes key size');
                    var u = e.slice(0),
                      d = [];
                    for (this._key = [u, d], t = o; t < 4 * o + 28; t++)
                      (n = u[t - 1]),
                        (t % o == 0 || (8 === o && t % o == 4)) &&
                          ((n =
                            (r[n >>> 24] << 24) ^
                            (r[(n >> 16) & 255] << 16) ^
                            (r[(n >> 8) & 255] << 8) ^
                            r[255 & n]),
                          t % o == 0 &&
                            ((n = (n << 8) ^ (n >>> 24) ^ (l << 24)),
                            (l = (l << 1) ^ (283 * (l >> 7))))),
                        (u[t] = u[t - o] ^ n);
                    for (i = 0; t; i++, t--)
                      (n = u[3 & i ? t : t - 4]),
                        (d[i] =
                          t <= 4 || i < 4
                            ? n
                            : a[0][r[n >>> 24]] ^
                              a[1][r[(n >> 16) & 255]] ^
                              a[2][r[(n >> 8) & 255]] ^
                              a[3][r[255 & n]]);
                  }
                  return (
                    (e.prototype.decrypt = function (e, t, i, n, r, s) {
                      var a,
                        o,
                        l,
                        u,
                        d = this._key[1],
                        c = e ^ d[0],
                        h = n ^ d[1],
                        p = i ^ d[2],
                        f = t ^ d[3],
                        m = d.length / 4 - 2,
                        g = 4,
                        v = this._tables[1],
                        y = v[0],
                        A = v[1],
                        b = v[2],
                        T = v[3],
                        S = v[4];
                      for (u = 0; u < m; u++)
                        (a =
                          y[c >>> 24] ^
                          A[(h >> 16) & 255] ^
                          b[(p >> 8) & 255] ^
                          T[255 & f] ^
                          d[g]),
                          (o =
                            y[h >>> 24] ^
                            A[(p >> 16) & 255] ^
                            b[(f >> 8) & 255] ^
                            T[255 & c] ^
                            d[g + 1]),
                          (l =
                            y[p >>> 24] ^
                            A[(f >> 16) & 255] ^
                            b[(c >> 8) & 255] ^
                            T[255 & h] ^
                            d[g + 2]),
                          (f =
                            y[f >>> 24] ^
                            A[(c >> 16) & 255] ^
                            b[(h >> 8) & 255] ^
                            T[255 & p] ^
                            d[g + 3]),
                          (g += 4),
                          (c = a),
                          (h = o),
                          (p = l);
                      for (u = 0; u < 4; u++)
                        (r[(3 & -u) + s] =
                          (S[c >>> 24] << 24) ^
                          (S[(h >> 16) & 255] << 16) ^
                          (S[(p >> 8) & 255] << 8) ^
                          S[255 & f] ^
                          d[g++]),
                          (a = c),
                          (c = h),
                          (h = p),
                          (p = f),
                          (f = a);
                    }),
                    e
                  );
                })(),
                o = (function (e) {
                  function t() {
                    var t;
                    return (
                      ((t = e.call(this, r) || this).jobs = []),
                      (t.delay = 1),
                      (t.timeout_ = null),
                      t
                    );
                  }
                  n(t, e);
                  var i = t.prototype;
                  return (
                    (i.processJob_ = function () {
                      this.jobs.shift()(),
                        this.jobs.length
                          ? (this.timeout_ = setTimeout(
                              this.processJob_.bind(this),
                              this.delay,
                            ))
                          : (this.timeout_ = null);
                    }),
                    (i.push = function (e) {
                      this.jobs.push(e),
                        this.timeout_ ||
                          (this.timeout_ = setTimeout(
                            this.processJob_.bind(this),
                            this.delay,
                          ));
                    }),
                    t
                  );
                })(r),
                l = function (e) {
                  return (
                    (e << 24) |
                    ((65280 & e) << 8) |
                    ((16711680 & e) >> 8) |
                    (e >>> 24)
                  );
                },
                u = (function () {
                  function e(t, i, n, r) {
                    var s = e.STEP,
                      a = new Int32Array(t.buffer),
                      u = new Uint8Array(t.byteLength),
                      d = 0;
                    for (
                      this.asyncStream_ = new o(),
                        this.asyncStream_.push(
                          this.decryptChunk_(a.subarray(d, d + s), i, n, u),
                        ),
                        d = s;
                      d < a.length;
                      d += s
                    )
                      (n = new Uint32Array([
                        l(a[d - 4]),
                        l(a[d - 3]),
                        l(a[d - 2]),
                        l(a[d - 1]),
                      ])),
                        this.asyncStream_.push(
                          this.decryptChunk_(a.subarray(d, d + s), i, n, u),
                        );
                    this.asyncStream_.push(function () {
                      var e;
                      r(
                        null,
                        (e = u).subarray(0, e.byteLength - e[e.byteLength - 1]),
                      );
                    });
                  }
                  return (
                    (e.prototype.decryptChunk_ = function (e, t, i, n) {
                      return function () {
                        var r = (function (e, t, i) {
                          var n,
                            r,
                            s,
                            o,
                            u,
                            d,
                            c,
                            h,
                            p,
                            f = new Int32Array(
                              e.buffer,
                              e.byteOffset,
                              e.byteLength >> 2,
                            ),
                            m = new a(Array.prototype.slice.call(t)),
                            g = new Uint8Array(e.byteLength),
                            v = new Int32Array(g.buffer);
                          for (
                            n = i[0], r = i[1], s = i[2], o = i[3], p = 0;
                            p < f.length;
                            p += 4
                          )
                            (u = l(f[p])),
                              (d = l(f[p + 1])),
                              (c = l(f[p + 2])),
                              (h = l(f[p + 3])),
                              m.decrypt(u, d, c, h, v, p),
                              (v[p] = l(v[p] ^ n)),
                              (v[p + 1] = l(v[p + 1] ^ r)),
                              (v[p + 2] = l(v[p + 2] ^ s)),
                              (v[p + 3] = l(v[p + 3] ^ o)),
                              (n = u),
                              (r = d),
                              (s = c),
                              (o = h);
                          return g;
                        })(e, t, i);
                        n.set(r, e.byteOffset);
                      };
                    }),
                    t(e, null, [
                      {
                        key: 'STEP',
                        get: function () {
                          return 32e3;
                        },
                      },
                    ]),
                    e
                  );
                })();
              self.onmessage = function (e) {
                var t = e.data,
                  i = new Uint8Array(
                    t.encrypted.bytes,
                    t.encrypted.byteOffset,
                    t.encrypted.byteLength,
                  ),
                  n = new Uint32Array(
                    t.key.bytes,
                    t.key.byteOffset,
                    t.key.byteLength / 4,
                  ),
                  r = new Uint32Array(
                    t.iv.bytes,
                    t.iv.byteOffset,
                    t.iv.byteLength / 4,
                  );
                new u(i, n, r, function (e, i) {
                  var n, r;
                  self.postMessage(
                    ((n = { source: t.source, decrypted: i }),
                    (r = {}),
                    Object.keys(n).forEach(function (e) {
                      var t = n[e];
                      ArrayBuffer.isView(t)
                        ? (r[e] = {
                            bytes: t.buffer,
                            byteOffset: t.byteOffset,
                            byteLength: t.byteLength,
                          })
                        : (r[e] = t);
                    }),
                    r),
                    [i.buffer],
                  );
                });
              };
            }),
          ),
          Su = tl(Tu),
          wu = function (e) {
            var t = e.default ? 'main' : 'alternative';
            return (
              e.characteristics &&
                e.characteristics.indexOf(
                  'public.accessibility.describes-video',
                ) >= 0 &&
                (t = 'main-desc'),
              t
            );
          },
          ku = function (e, t) {
            e.abort(),
              e.pause(),
              t &&
                t.activePlaylistLoader &&
                (t.activePlaylistLoader.pause(),
                (t.activePlaylistLoader = null));
          },
          _u = function (e, t) {
            (t.activePlaylistLoader = e), e.load();
          },
          Cu = {
            AUDIO: function (e, t) {
              return function () {
                var i = t.segmentLoaders[e],
                  n = t.mediaTypes[e],
                  r = t.blacklistCurrentPlaylist;
                ku(i, n);
                var s = n.activeTrack(),
                  a = n.activeGroup(),
                  o = (
                    a.filter(function (e) {
                      return e.default;
                    })[0] || a[0]
                  ).id,
                  l = n.tracks[o];
                if (s !== l) {
                  for (var u in (Ua.log.warn(
                    'Problem encountered loading the alternate audio track.Switching back to default.',
                  ),
                  n.tracks))
                    n.tracks[u].enabled = n.tracks[u] === l;
                  n.onTrackChanged();
                } else
                  r({
                    message:
                      'Problem encountered loading the default audio track.',
                  });
              };
            },
            SUBTITLES: function (e, t) {
              return function () {
                var i = t.segmentLoaders[e],
                  n = t.mediaTypes[e];
                Ua.log.warn(
                  'Problem encountered loading the subtitle track.Disabling subtitle track.',
                ),
                  ku(i, n);
                var r = n.activeTrack();
                r && (r.mode = 'disabled'), n.onTrackChanged();
              };
            },
          },
          Eu = {
            AUDIO: function (e, t, i) {
              if (t) {
                var n = i.tech,
                  r = i.requestOptions,
                  s = i.segmentLoaders[e];
                t.on('loadedmetadata', function () {
                  var e = t.media();
                  s.playlist(e, r),
                    (!n.paused() || (e.endList && 'none' !== n.preload())) &&
                      s.load();
                }),
                  t.on('loadedplaylist', function () {
                    s.playlist(t.media(), r), n.paused() || s.load();
                  }),
                  t.on('error', Cu[e](e, i));
              }
            },
            SUBTITLES: function (e, t, i) {
              var n = i.tech,
                r = i.requestOptions,
                s = i.segmentLoaders[e],
                a = i.mediaTypes[e];
              t.on('loadedmetadata', function () {
                var e = t.media();
                s.playlist(e, r),
                  s.track(a.activeTrack()),
                  (!n.paused() || (e.endList && 'none' !== n.preload())) &&
                    s.load();
              }),
                t.on('loadedplaylist', function () {
                  s.playlist(t.media(), r), n.paused() || s.load();
                }),
                t.on('error', Cu[e](e, i));
            },
          },
          ju = {
            AUDIO: function (e, t) {
              var i = t.vhs,
                n = t.sourceType,
                r = t.segmentLoaders[e],
                s = t.requestOptions,
                a = t.master.mediaGroups,
                o = t.mediaTypes[e],
                l = o.groups,
                u = o.tracks,
                d = o.logger_,
                c = t.masterPlaylistLoader,
                h = Eo(c.master);
              for (var p in ((a[e] && 0 !== Object.keys(a[e]).length) ||
                (a[e] = { main: { default: { default: !0 } } }),
              a[e]))
                for (var f in (l[p] || (l[p] = []), a[e][p])) {
                  var m = a[e][p][f],
                    g = void 0;
                  if (
                    (h
                      ? (d(
                          "AUDIO group '" +
                            p +
                            "' label '" +
                            f +
                            "' is a master playlist",
                        ),
                        (m.isMasterPlaylist = !0),
                        (g = null))
                      : (g =
                          'vhs-json' === n && m.playlists
                            ? new so(m.playlists[0], i, s)
                            : m.resolvedUri
                              ? new so(m.resolvedUri, i, s)
                              : m.playlists && 'dash' === n
                                ? new Jo(m.playlists[0], i, s, c)
                                : null),
                    (m = Ua.mergeOptions({ id: f, playlistLoader: g }, m)),
                    Eu[e](e, m.playlistLoader, t),
                    l[p].push(m),
                    void 0 === u[f])
                  ) {
                    var v = new Ua.AudioTrack({
                      id: f,
                      kind: wu(m),
                      enabled: !1,
                      language: m.language,
                      default: m.default,
                      label: f,
                    });
                    u[f] = v;
                  }
                }
              r.on('error', Cu[e](e, t));
            },
            SUBTITLES: function (e, t) {
              var i = t.tech,
                n = t.vhs,
                r = t.sourceType,
                s = t.segmentLoaders[e],
                a = t.requestOptions,
                o = t.master.mediaGroups,
                l = t.mediaTypes[e],
                u = l.groups,
                d = l.tracks,
                c = t.masterPlaylistLoader;
              for (var h in o[e])
                for (var p in (u[h] || (u[h] = []), o[e][h]))
                  if (!o[e][h][p].forced) {
                    var f = o[e][h][p],
                      m = void 0;
                    if ('hls' === r) m = new so(f.resolvedUri, n, a);
                    else if ('dash' === r) {
                      if (
                        !f.playlists.filter(function (e) {
                          return e.excludeUntil !== 1 / 0;
                        }).length
                      )
                        return;
                      m = new Jo(f.playlists[0], n, a, c);
                    } else
                      'vhs-json' === r &&
                        (m = new so(
                          f.playlists ? f.playlists[0] : f.resolvedUri,
                          n,
                          a,
                        ));
                    if (
                      ((f = Ua.mergeOptions({ id: p, playlistLoader: m }, f)),
                      Eu[e](e, f.playlistLoader, t),
                      u[h].push(f),
                      void 0 === d[p])
                    ) {
                      var g = i.addRemoteTextTrack(
                        {
                          id: p,
                          kind: 'subtitles',
                          default: f.default && f.autoselect,
                          language: f.language,
                          label: p,
                        },
                        !1,
                      ).track;
                      d[p] = g;
                    }
                  }
              s.on('error', Cu[e](e, t));
            },
            'CLOSED-CAPTIONS': function (e, t) {
              var i = t.tech,
                n = t.master.mediaGroups,
                r = t.mediaTypes[e],
                s = r.groups,
                a = r.tracks;
              for (var o in n[e])
                for (var l in (s[o] || (s[o] = []), n[e][o])) {
                  var u = n[e][o][l];
                  if (
                    u.instreamId.match(/CC\d/) &&
                    (s[o].push(Ua.mergeOptions({ id: l }, u)), void 0 === a[l])
                  ) {
                    var d = i.addRemoteTextTrack(
                      {
                        id: u.instreamId,
                        kind: 'captions',
                        default: u.default && u.autoselect,
                        language: u.language,
                        label: l,
                      },
                      !1,
                    ).track;
                    a[l] = d;
                  }
                }
            },
          },
          Pu = {
            AUDIO: function (e, t) {
              return function () {
                var i = t.mediaTypes[e].tracks;
                for (var n in i) if (i[n].enabled) return i[n];
                return null;
              };
            },
            SUBTITLES: function (e, t) {
              return function () {
                var i = t.mediaTypes[e].tracks;
                for (var n in i)
                  if ('showing' === i[n].mode || 'hidden' === i[n].mode)
                    return i[n];
                return null;
              };
            },
          },
          Iu = function (e) {
            ['AUDIO', 'SUBTITLES', 'CLOSED-CAPTIONS'].forEach(function (t) {
              ju[t](t, e);
            });
            var t = e.mediaTypes,
              i = e.masterPlaylistLoader,
              n = e.tech,
              r = e.vhs;
            ['AUDIO', 'SUBTITLES'].forEach(function (i) {
              (t[i].activeGroup = (function (e, t) {
                return function (i) {
                  var n = t.masterPlaylistLoader,
                    r = t.mediaTypes[e].groups,
                    s = n.media();
                  if (!s) return null;
                  var a = null;
                  s.attributes[e] && (a = r[s.attributes[e]]);
                  var o = Object.keys(r);
                  return (
                    a ||
                      (r.main ? (a = r.main) : 1 === o.length && (a = r[o[0]])),
                    void 0 === i
                      ? a
                      : (null !== i &&
                          a &&
                          a.filter(function (e) {
                            return e.id === i.id;
                          })[0]) ||
                        null
                  );
                };
              })(i, e)),
                (t[i].activeTrack = Pu[i](i, e)),
                (t[i].onGroupChanged = (function (e, t) {
                  return function () {
                    var i = t.segmentLoaders,
                      n = i[e],
                      r = i.main,
                      s = t.mediaTypes[e],
                      a = s.activeTrack(),
                      o = s.getActiveGroup(),
                      l = s.activePlaylistLoader,
                      u = s.lastGroup_;
                    (o && u && o.id === u.id) ||
                      ((s.lastGroup_ = o),
                      (s.lastTrack_ = a),
                      ku(n, s),
                      o &&
                        !o.isMasterPlaylist &&
                        (o.playlistLoader
                          ? (n.resyncLoader(), _u(o.playlistLoader, s))
                          : l && r.resetEverything()));
                  };
                })(i, e)),
                (t[i].onGroupChanging = (function (e, t) {
                  return function () {
                    var i = t.segmentLoaders[e];
                    (t.mediaTypes[e].lastGroup_ = null), i.abort(), i.pause();
                  };
                })(i, e)),
                (t[i].onTrackChanged = (function (e, t) {
                  return function () {
                    var i = t.masterPlaylistLoader,
                      n = t.segmentLoaders,
                      r = n[e],
                      s = n.main,
                      a = t.mediaTypes[e],
                      o = a.activeTrack(),
                      l = a.getActiveGroup(),
                      u = a.activePlaylistLoader,
                      d = a.lastTrack_;
                    if (
                      (!d || !o || d.id !== o.id) &&
                      ((a.lastGroup_ = l), (a.lastTrack_ = o), ku(r, a), l)
                    ) {
                      if (l.isMasterPlaylist) {
                        if (!o || !d || o.id === d.id) return;
                        var c = t.vhs.masterPlaylistController_,
                          h = c.selectPlaylist();
                        if (c.media() === h) return;
                        return (
                          a.logger_(
                            'track change. Switching master audio from ' +
                              d.id +
                              ' to ' +
                              o.id,
                          ),
                          i.pause(),
                          s.resetEverything(),
                          void c.fastQualityChange_(h)
                        );
                      }
                      if ('AUDIO' === e) {
                        if (!l.playlistLoader)
                          return s.setAudio(!0), void s.resetEverything();
                        r.setAudio(!0), s.setAudio(!1);
                      }
                      u !== l.playlistLoader
                        ? (r.track && r.track(o),
                          r.resetEverything(),
                          _u(l.playlistLoader, a))
                        : _u(l.playlistLoader, a);
                    }
                  };
                })(i, e)),
                (t[i].getActiveGroup = (function (e, t) {
                  var i = t.mediaTypes;
                  return function () {
                    var t = i[e].activeTrack();
                    return t ? i[e].activeGroup(t) : null;
                  };
                })(i, e));
            });
            var s = t.AUDIO.activeGroup();
            if (s) {
              var a = (
                s.filter(function (e) {
                  return e.default;
                })[0] || s[0]
              ).id;
              (t.AUDIO.tracks[a].enabled = !0),
                t.AUDIO.onGroupChanged(),
                t.AUDIO.onTrackChanged();
            }
            i.on('mediachange', function () {
              ['AUDIO', 'SUBTITLES'].forEach(function (e) {
                return t[e].onGroupChanged();
              });
            }),
              i.on('mediachanging', function () {
                ['AUDIO', 'SUBTITLES'].forEach(function (e) {
                  return t[e].onGroupChanging();
                });
              });
            var o = function () {
              t.AUDIO.onTrackChanged(),
                n.trigger({ type: 'usage', name: 'vhs-audio-change' }),
                n.trigger({ type: 'usage', name: 'hls-audio-change' });
            };
            for (var l in (n.audioTracks().addEventListener('change', o),
            n
              .remoteTextTracks()
              .addEventListener('change', t.SUBTITLES.onTrackChanged),
            r.on('dispose', function () {
              n.audioTracks().removeEventListener('change', o),
                n
                  .remoteTextTracks()
                  .removeEventListener('change', t.SUBTITLES.onTrackChanged);
            }),
            n.clearTracks('audio'),
            t.AUDIO.tracks))
              n.audioTracks().addTrack(t.AUDIO.tracks[l]);
          },
          xu = [
            'mediaRequests',
            'mediaRequestsAborted',
            'mediaRequestsTimedout',
            'mediaRequestsErrored',
            'mediaTransferDuration',
            'mediaBytesTransferred',
          ],
          Lu = function (e) {
            return this.audioSegmentLoader_[e] + this.mainSegmentLoader_[e];
          },
          Du = (function (e) {
            function t(t) {
              var i;
              i = e.call(this) || this;
              var n = t.src,
                s = t.handleManifestRedirects,
                a = t.withCredentials,
                o = t.tech,
                u = t.bandwidth,
                d = t.externVhs,
                c = t.useCueTags,
                h = t.blacklistDuration,
                p = t.enableLowInitialPlaylist,
                f = t.sourceType,
                m = t.cacheEncryptionKeys,
                g = t.handlePartialData,
                v = t.experimentalBufferBasedABR;
              if (!n)
                throw new Error(
                  'A non-empty playlist URL or JSON manifest string is required',
                );
              (Xl = d),
                (i.experimentalBufferBasedABR = Boolean(v)),
                (i.withCredentials = a),
                (i.tech_ = o),
                (i.vhs_ = o.vhs),
                (i.sourceType_ = f),
                (i.useCueTags_ = c),
                (i.blacklistDuration = h),
                (i.enableLowInitialPlaylist = p),
                i.useCueTags_ &&
                  ((i.cueTagsTrack_ = i.tech_.addTextTrack(
                    'metadata',
                    'ad-cues',
                  )),
                  (i.cueTagsTrack_.inBandMetadataTrackDispatchType = '')),
                (i.requestOptions_ = {
                  withCredentials: a,
                  handleManifestRedirects: s,
                  timeout: null,
                }),
                i.on('error', i.pauseLoading),
                (i.mediaTypes_ = (function () {
                  var e = {};
                  return (
                    ['AUDIO', 'SUBTITLES', 'CLOSED-CAPTIONS'].forEach(
                      function (t) {
                        e[t] = {
                          groups: {},
                          tracks: {},
                          activePlaylistLoader: null,
                          activeGroup: Kl,
                          activeTrack: Kl,
                          getActiveGroup: Kl,
                          onGroupChanged: Kl,
                          onTrackChanged: Kl,
                          lastTrack_: null,
                          logger_: qa('MediaGroups[' + t + ']'),
                        };
                      },
                    ),
                    e
                  );
                })()),
                (i.mediaSource = new (r().MediaSource)()),
                (i.handleDurationChange_ = i.handleDurationChange_.bind(l(i))),
                (i.handleSourceOpen_ = i.handleSourceOpen_.bind(l(i))),
                (i.handleSourceEnded_ = i.handleSourceEnded_.bind(l(i))),
                i.mediaSource.addEventListener(
                  'durationchange',
                  i.handleDurationChange_,
                ),
                i.mediaSource.addEventListener(
                  'sourceopen',
                  i.handleSourceOpen_,
                ),
                i.mediaSource.addEventListener(
                  'sourceended',
                  i.handleSourceEnded_,
                ),
                (i.seekable_ = Ua.createTimeRanges()),
                (i.hasPlayed_ = !1),
                (i.syncController_ = new Au(t)),
                (i.segmentMetadataTrack_ = o.addRemoteTextTrack(
                  { kind: 'metadata', label: 'segment-metadata' },
                  !1,
                ).track),
                (i.decrypter_ = new Su()),
                (i.sourceUpdater_ = new hu(i.mediaSource)),
                (i.inbandTextTracks_ = {}),
                (i.timelineChangeController_ = new bu());
              var y = {
                vhs: i.vhs_,
                parse708captions: t.parse708captions,
                mediaSource: i.mediaSource,
                currentTime: i.tech_.currentTime.bind(i.tech_),
                seekable: function () {
                  return i.seekable();
                },
                seeking: function () {
                  return i.tech_.seeking();
                },
                duration: function () {
                  return i.duration();
                },
                hasPlayed: function () {
                  return i.hasPlayed_;
                },
                goalBufferLength: function () {
                  return i.goalBufferLength();
                },
                bandwidth: u,
                syncController: i.syncController_,
                decrypter: i.decrypter_,
                sourceType: i.sourceType_,
                inbandTextTracks: i.inbandTextTracks_,
                cacheEncryptionKeys: m,
                handlePartialData: g,
                sourceUpdater: i.sourceUpdater_,
                timelineChangeController: i.timelineChangeController_,
              };
              return (
                (i.masterPlaylistLoader_ =
                  'dash' === i.sourceType_
                    ? new Jo(n, i.vhs_, i.requestOptions_)
                    : new so(n, i.vhs_, i.requestOptions_)),
                i.setupMasterPlaylistLoaderListeners_(),
                (i.mainSegmentLoader_ = new zl(
                  Ua.mergeOptions(y, {
                    segmentMetadataTrack: i.segmentMetadataTrack_,
                    loaderType: 'main',
                  }),
                  t,
                )),
                (i.audioSegmentLoader_ = new zl(
                  Ua.mergeOptions(y, { loaderType: 'audio' }),
                  t,
                )),
                (i.subtitleSegmentLoader_ = new mu(
                  Ua.mergeOptions(y, {
                    loaderType: 'vtt',
                    featuresNativeTextTracks: i.tech_.featuresNativeTextTracks,
                  }),
                  t,
                )),
                i.setupSegmentLoaderListeners_(),
                i.experimentalBufferBasedABR &&
                  (i.masterPlaylistLoader_.one('loadedplaylist', function () {
                    return i.startABRTimer_();
                  }),
                  i.tech_.on('pause', function () {
                    return i.stopABRTimer_();
                  }),
                  i.tech_.on('play', function () {
                    return i.startABRTimer_();
                  })),
                xu.forEach(function (e) {
                  i[e + '_'] = Lu.bind(l(i), e);
                }),
                (i.logger_ = qa('MPC')),
                (i.triggeredFmp4Usage = !1),
                'none' === i.tech_.preload()
                  ? ((i.loadOnPlay_ = function () {
                      (i.loadOnPlay_ = null), i.masterPlaylistLoader_.load();
                    }),
                    i.tech_.one('play', i.loadOnPlay_))
                  : i.masterPlaylistLoader_.load(),
                i
              );
            }
            d(t, e);
            var i = t.prototype;
            return (
              (i.checkABR_ = function () {
                var e = this.selectPlaylist();
                this.shouldSwitchToMedia_(e) && this.switchMedia_(e, 'abr');
              }),
              (i.switchMedia_ = function (e, t, i) {
                var n = this.media(),
                  r = n && (n.id || n.uri),
                  s = e.id || e.uri;
                r &&
                  r !== s &&
                  (this.logger_(
                    'switch media ' + r + ' -> ' + s + ' from ' + t,
                  ),
                  this.tech_.trigger({
                    type: 'usage',
                    name: 'vhs-rendition-change-' + t,
                  })),
                  this.masterPlaylistLoader_.media(e, i);
              }),
              (i.startABRTimer_ = function () {
                var e = this;
                this.stopABRTimer_(),
                  (this.abrTimer_ = r().setInterval(function () {
                    return e.checkABR_();
                  }, 250));
              }),
              (i.stopABRTimer_ = function () {
                (this.tech_.scrubbing && this.tech_.scrubbing()) ||
                  (r().clearInterval(this.abrTimer_), (this.abrTimer_ = null));
              }),
              (i.getAudioTrackPlaylists_ = function () {
                var e = this.master();
                if (!e || !e.mediaGroups || !e.mediaGroups.AUDIO)
                  return (e && e.playlists) || [];
                var t,
                  i = e.mediaGroups.AUDIO,
                  n = Object.keys(i);
                if (Object.keys(this.mediaTypes_.AUDIO.groups).length)
                  t = this.mediaTypes_.AUDIO.activeTrack();
                else {
                  var r = i.main || (n.length && i[n[0]]);
                  for (var s in r)
                    if (r[s].default) {
                      t = { label: s };
                      break;
                    }
                }
                if (!t) return [];
                var a = [];
                for (var o in i)
                  if (i[o][t.label]) {
                    var l = i[o][t.label];
                    l.playlists ? a.push.apply(a, l.playlists) : a.push(l);
                  }
                return a;
              }),
              (i.setupMasterPlaylistLoaderListeners_ = function () {
                var e = this;
                this.masterPlaylistLoader_.on('loadedmetadata', function () {
                  var t = e.masterPlaylistLoader_.media(),
                    i = 1.5 * t.targetDuration * 1e3;
                  ko(
                    e.masterPlaylistLoader_.master,
                    e.masterPlaylistLoader_.media(),
                  )
                    ? (e.requestOptions_.timeout = 0)
                    : (e.requestOptions_.timeout = i),
                    t.endList &&
                      'none' !== e.tech_.preload() &&
                      (e.mainSegmentLoader_.playlist(t, e.requestOptions_),
                      e.mainSegmentLoader_.load()),
                    Iu({
                      sourceType: e.sourceType_,
                      segmentLoaders: {
                        AUDIO: e.audioSegmentLoader_,
                        SUBTITLES: e.subtitleSegmentLoader_,
                        main: e.mainSegmentLoader_,
                      },
                      tech: e.tech_,
                      requestOptions: e.requestOptions_,
                      masterPlaylistLoader: e.masterPlaylistLoader_,
                      vhs: e.vhs_,
                      master: e.master(),
                      mediaTypes: e.mediaTypes_,
                      blacklistCurrentPlaylist:
                        e.blacklistCurrentPlaylist.bind(e),
                    }),
                    e.triggerPresenceUsage_(e.master(), t),
                    e.setupFirstPlay(),
                    !e.mediaTypes_.AUDIO.activePlaylistLoader ||
                    e.mediaTypes_.AUDIO.activePlaylistLoader.media()
                      ? e.trigger('selectedinitialmedia')
                      : e.mediaTypes_.AUDIO.activePlaylistLoader.one(
                          'loadedmetadata',
                          function () {
                            e.trigger('selectedinitialmedia');
                          },
                        );
                }),
                  this.masterPlaylistLoader_.on('loadedplaylist', function () {
                    e.loadOnPlay_ && e.tech_.off('play', e.loadOnPlay_);
                    var t = e.masterPlaylistLoader_.media();
                    if (!t) {
                      var i;
                      if (
                        (e.excludeUnsupportedVariants_(),
                        e.enableLowInitialPlaylist &&
                          (i = e.selectInitialPlaylist()),
                        i || (i = e.selectPlaylist()),
                        !i || !e.shouldSwitchToMedia_(i))
                      )
                        return;
                      if (
                        ((e.initialMedia_ = i),
                        e.switchMedia_(e.initialMedia_, 'initial'),
                        !(
                          'vhs-json' === e.sourceType_ &&
                          e.initialMedia_.segments
                        ))
                      )
                        return;
                      t = e.initialMedia_;
                    }
                    e.handleUpdatedMediaPlaylist(t);
                  }),
                  this.masterPlaylistLoader_.on('error', function () {
                    e.blacklistCurrentPlaylist(e.masterPlaylistLoader_.error);
                  }),
                  this.masterPlaylistLoader_.on('mediachanging', function () {
                    e.mainSegmentLoader_.abort(), e.mainSegmentLoader_.pause();
                  }),
                  this.masterPlaylistLoader_.on('mediachange', function () {
                    var t = e.masterPlaylistLoader_.media(),
                      i = 1.5 * t.targetDuration * 1e3;
                    ko(
                      e.masterPlaylistLoader_.master,
                      e.masterPlaylistLoader_.media(),
                    )
                      ? (e.requestOptions_.timeout = 0)
                      : (e.requestOptions_.timeout = i),
                      e.mainSegmentLoader_.playlist(t, e.requestOptions_),
                      e.mainSegmentLoader_.load(),
                      e.tech_.trigger({ type: 'mediachange', bubbles: !0 });
                  }),
                  this.masterPlaylistLoader_.on(
                    'playlistunchanged',
                    function () {
                      var t = e.masterPlaylistLoader_.media();
                      'playlist-unchanged' !== t.lastExcludeReason_ &&
                        e.stuckAtPlaylistEnd_(t) &&
                        (e.blacklistCurrentPlaylist({
                          message: 'Playlist no longer updating.',
                          reason: 'playlist-unchanged',
                        }),
                        e.tech_.trigger('playliststuck'));
                    },
                  ),
                  this.masterPlaylistLoader_.on(
                    'renditiondisabled',
                    function () {
                      e.tech_.trigger({
                        type: 'usage',
                        name: 'vhs-rendition-disabled',
                      }),
                        e.tech_.trigger({
                          type: 'usage',
                          name: 'hls-rendition-disabled',
                        });
                    },
                  ),
                  this.masterPlaylistLoader_.on(
                    'renditionenabled',
                    function () {
                      e.tech_.trigger({
                        type: 'usage',
                        name: 'vhs-rendition-enabled',
                      }),
                        e.tech_.trigger({
                          type: 'usage',
                          name: 'hls-rendition-enabled',
                        });
                    },
                  );
              }),
              (i.handleUpdatedMediaPlaylist = function (e) {
                this.useCueTags_ && this.updateAdCues_(e),
                  this.mainSegmentLoader_.playlist(e, this.requestOptions_),
                  this.updateDuration(!e.endList),
                  this.tech_.paused() ||
                    (this.mainSegmentLoader_.load(),
                    this.audioSegmentLoader_ &&
                      this.audioSegmentLoader_.load());
              }),
              (i.triggerPresenceUsage_ = function (e, t) {
                var i = e.mediaGroups || {},
                  n = !0,
                  r = Object.keys(i.AUDIO);
                for (var s in i.AUDIO)
                  for (var a in i.AUDIO[s]) {
                    i.AUDIO[s][a].uri || (n = !1);
                  }
                n &&
                  (this.tech_.trigger({ type: 'usage', name: 'vhs-demuxed' }),
                  this.tech_.trigger({ type: 'usage', name: 'hls-demuxed' })),
                  Object.keys(i.SUBTITLES).length &&
                    (this.tech_.trigger({ type: 'usage', name: 'vhs-webvtt' }),
                    this.tech_.trigger({ type: 'usage', name: 'hls-webvtt' })),
                  Xl.Playlist.isAes(t) &&
                    (this.tech_.trigger({ type: 'usage', name: 'vhs-aes' }),
                    this.tech_.trigger({ type: 'usage', name: 'hls-aes' })),
                  r.length &&
                    Object.keys(i.AUDIO[r[0]]).length > 1 &&
                    (this.tech_.trigger({
                      type: 'usage',
                      name: 'vhs-alternate-audio',
                    }),
                    this.tech_.trigger({
                      type: 'usage',
                      name: 'hls-alternate-audio',
                    })),
                  this.useCueTags_ &&
                    (this.tech_.trigger({
                      type: 'usage',
                      name: 'vhs-playlist-cue-tags',
                    }),
                    this.tech_.trigger({
                      type: 'usage',
                      name: 'hls-playlist-cue-tags',
                    }));
              }),
              (i.shouldSwitchToMedia_ = function (e) {
                var t = this.masterPlaylistLoader_.media(),
                  i = this.tech_.buffered();
                return (function (e) {
                  var t = e.currentPlaylist,
                    i = e.nextPlaylist,
                    n = e.forwardBuffer,
                    r = e.bufferLowWaterLine,
                    s = e.bufferHighWaterLine,
                    a = e.duration,
                    o = e.experimentalBufferBasedABR,
                    l = e.log;
                  if (!i)
                    return (
                      Ua.log.warn(
                        'We received no playlist to switch to. Please check your stream.',
                      ),
                      !1
                    );
                  var u =
                    'allowing switch ' +
                    ((t && t.id) || 'null') +
                    ' -> ' +
                    i.id;
                  if (!t || !t.endList)
                    return (
                      l(
                        u +
                          ' as current playlist ' +
                          (t ? 'is live' : 'is not set'),
                      ),
                      !0
                    );
                  if (i.id === t.id) return !1;
                  var d = o
                    ? Zo.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE
                    : Zo.MAX_BUFFER_LOW_WATER_LINE;
                  if (a < d)
                    return (
                      l(
                        u +
                          ' as duration < max low water line (' +
                          a +
                          ' < ' +
                          d +
                          ')',
                      ),
                      !0
                    );
                  var c = i.attributes.BANDWIDTH,
                    h = t.attributes.BANDWIDTH;
                  if (c < h && (!o || n < s)) {
                    var p =
                      u +
                      ' as next bandwidth < current bandwidth (' +
                      c +
                      ' < ' +
                      h +
                      ')';
                    return (
                      o &&
                        (p +=
                          ' and forwardBuffer < bufferHighWaterLine (' +
                          n +
                          ' < ' +
                          s +
                          ')'),
                      l(p),
                      !0
                    );
                  }
                  if ((!o || c > h) && n >= r) {
                    var f =
                      u +
                      ' as forwardBuffer >= bufferLowWaterLine (' +
                      n +
                      ' >= ' +
                      r +
                      ')';
                    return (
                      o &&
                        (f +=
                          ' and next bandwidth > current bandwidth (' +
                          c +
                          ' > ' +
                          h +
                          ')'),
                      l(f),
                      !0
                    );
                  }
                  return l('not ' + u + ' as no switching criteria met'), !1;
                })({
                  currentPlaylist: t,
                  nextPlaylist: e,
                  forwardBuffer: i.length
                    ? i.end(i.length - 1) - this.tech_.currentTime()
                    : 0,
                  bufferLowWaterLine: this.bufferLowWaterLine(),
                  bufferHighWaterLine: this.bufferHighWaterLine(),
                  duration: this.duration(),
                  experimentalBufferBasedABR: this.experimentalBufferBasedABR,
                  log: this.logger_,
                });
              }),
              (i.setupSegmentLoaderListeners_ = function () {
                var e = this;
                this.experimentalBufferBasedABR ||
                  (this.mainSegmentLoader_.on('bandwidthupdate', function () {
                    var t = e.selectPlaylist();
                    e.shouldSwitchToMedia_(t) &&
                      e.switchMedia_(t, 'bandwidthupdate'),
                      e.tech_.trigger('bandwidthupdate');
                  }),
                  this.mainSegmentLoader_.on('progress', function () {
                    e.trigger('progress');
                  })),
                  this.mainSegmentLoader_.on('error', function () {
                    e.blacklistCurrentPlaylist(e.mainSegmentLoader_.error());
                  }),
                  this.mainSegmentLoader_.on('appenderror', function () {
                    (e.error = e.mainSegmentLoader_.error_), e.trigger('error');
                  }),
                  this.mainSegmentLoader_.on('syncinfoupdate', function () {
                    e.onSyncInfoUpdate_();
                  }),
                  this.mainSegmentLoader_.on('timestampoffset', function () {
                    e.tech_.trigger({
                      type: 'usage',
                      name: 'vhs-timestamp-offset',
                    }),
                      e.tech_.trigger({
                        type: 'usage',
                        name: 'hls-timestamp-offset',
                      });
                  }),
                  this.audioSegmentLoader_.on('syncinfoupdate', function () {
                    e.onSyncInfoUpdate_();
                  }),
                  this.audioSegmentLoader_.on('appenderror', function () {
                    (e.error = e.audioSegmentLoader_.error_),
                      e.trigger('error');
                  }),
                  this.mainSegmentLoader_.on('ended', function () {
                    e.logger_('main segment loader ended'), e.onEndOfStream();
                  }),
                  this.mainSegmentLoader_.on('earlyabort', function (t) {
                    e.experimentalBufferBasedABR ||
                      (e.delegateLoaders_('all', ['abort']),
                      e.blacklistCurrentPlaylist(
                        {
                          message:
                            "Aborted early because there isn't enough bandwidth to complete the request without rebuffering.",
                        },
                        120,
                      ));
                  });
                var t = function () {
                  if (!e.sourceUpdater_.hasCreatedSourceBuffers())
                    return e.tryToCreateSourceBuffers_();
                  var t = e.getCodecsOrExclude_();
                  t && e.sourceUpdater_.addOrChangeSourceBuffers(t);
                };
                this.mainSegmentLoader_.on('trackinfo', t),
                  this.audioSegmentLoader_.on('trackinfo', t),
                  this.mainSegmentLoader_.on('fmp4', function () {
                    e.triggeredFmp4Usage ||
                      (e.tech_.trigger({ type: 'usage', name: 'vhs-fmp4' }),
                      e.tech_.trigger({ type: 'usage', name: 'hls-fmp4' }),
                      (e.triggeredFmp4Usage = !0));
                  }),
                  this.audioSegmentLoader_.on('fmp4', function () {
                    e.triggeredFmp4Usage ||
                      (e.tech_.trigger({ type: 'usage', name: 'vhs-fmp4' }),
                      e.tech_.trigger({ type: 'usage', name: 'hls-fmp4' }),
                      (e.triggeredFmp4Usage = !0));
                  }),
                  this.audioSegmentLoader_.on('ended', function () {
                    e.logger_('audioSegmentLoader ended'), e.onEndOfStream();
                  });
              }),
              (i.mediaSecondsLoaded_ = function () {
                return Math.max(
                  this.audioSegmentLoader_.mediaSecondsLoaded +
                    this.mainSegmentLoader_.mediaSecondsLoaded,
                );
              }),
              (i.load = function () {
                this.mainSegmentLoader_.load(),
                  this.mediaTypes_.AUDIO.activePlaylistLoader &&
                    this.audioSegmentLoader_.load(),
                  this.mediaTypes_.SUBTITLES.activePlaylistLoader &&
                    this.subtitleSegmentLoader_.load();
              }),
              (i.smoothQualityChange_ = function (e) {
                void 0 === e && (e = this.selectPlaylist()),
                  e !== this.masterPlaylistLoader_.media() &&
                    (this.switchMedia_(e, 'smooth-quality'),
                    this.mainSegmentLoader_.resetLoader());
              }),
              (i.fastQualityChange_ = function (e) {
                var t = this;
                void 0 === e && (e = this.selectPlaylist()),
                  e !== this.masterPlaylistLoader_.media()
                    ? (this.switchMedia_(e, 'fast-quality'),
                      this.mainSegmentLoader_.resetEverything(function () {
                        Ua.browser.IE_VERSION || Ua.browser.IS_EDGE
                          ? t.tech_.setCurrentTime(t.tech_.currentTime() + 0.04)
                          : t.tech_.setCurrentTime(t.tech_.currentTime());
                      }))
                    : this.logger_(
                        'skipping fastQualityChange because new media is same as old',
                      );
              }),
              (i.play = function () {
                if (!this.setupFirstPlay()) {
                  this.tech_.ended() && this.tech_.setCurrentTime(0),
                    this.hasPlayed_ && this.load();
                  var e = this.tech_.seekable();
                  return this.tech_.duration() === 1 / 0 &&
                    this.tech_.currentTime() < e.start(0)
                    ? this.tech_.setCurrentTime(e.end(e.length - 1))
                    : void 0;
                }
              }),
              (i.setupFirstPlay = function () {
                var e = this,
                  t = this.masterPlaylistLoader_.media();
                if (!t || this.tech_.paused() || this.hasPlayed_) return !1;
                if (!t.endList) {
                  var i = this.seekable();
                  if (!i.length) return !1;
                  if (Ua.browser.IE_VERSION && 0 === this.tech_.readyState())
                    return (
                      this.tech_.one('loadedmetadata', function () {
                        e.trigger('firstplay'),
                          e.tech_.setCurrentTime(i.end(0)),
                          (e.hasPlayed_ = !0);
                      }),
                      !1
                    );
                  this.trigger('firstplay'),
                    this.tech_.setCurrentTime(i.end(0));
                }
                return (this.hasPlayed_ = !0), this.load(), !0;
              }),
              (i.handleSourceOpen_ = function () {
                if ((this.tryToCreateSourceBuffers_(), this.tech_.autoplay())) {
                  var e = this.tech_.play();
                  void 0 !== e &&
                    'function' == typeof e.then &&
                    e.then(null, function (e) {});
                }
                this.trigger('sourceopen');
              }),
              (i.handleSourceEnded_ = function () {
                if (this.inbandTextTracks_.metadataTrack_) {
                  var e = this.inbandTextTracks_.metadataTrack_.cues;
                  if (e && e.length) {
                    var t = this.duration();
                    e[e.length - 1].endTime =
                      isNaN(t) || Math.abs(t) === 1 / 0 ? Number.MAX_VALUE : t;
                  }
                }
              }),
              (i.handleDurationChange_ = function () {
                this.tech_.trigger('durationchange');
              }),
              (i.onEndOfStream = function () {
                var e = this.mainSegmentLoader_.ended_;
                this.mediaTypes_.AUDIO.activePlaylistLoader &&
                  (e =
                    !this.mainSegmentLoader_.currentMediaInfo_ ||
                    this.mainSegmentLoader_.currentMediaInfo_.hasVideo
                      ? e && this.audioSegmentLoader_.ended_
                      : this.audioSegmentLoader_.ended_),
                  e &&
                    (this.stopABRTimer_(), this.sourceUpdater_.endOfStream());
              }),
              (i.stuckAtPlaylistEnd_ = function (e) {
                if (!this.seekable().length) return !1;
                var t = this.syncController_.getExpiredTime(e, this.duration());
                if (null === t) return !1;
                var i = Xl.Playlist.playlistEnd(e, t),
                  n = this.tech_.currentTime(),
                  r = this.tech_.buffered();
                if (!r.length) return i - n <= oo;
                var s = r.end(r.length - 1);
                return s - n <= oo && i - s <= oo;
              }),
              (i.blacklistCurrentPlaylist = function (e, t) {
                void 0 === e && (e = {});
                var i = e.playlist || this.masterPlaylistLoader_.media();
                if (
                  ((t = t || e.blacklistDuration || this.blacklistDuration), !i)
                )
                  return (
                    (this.error = e),
                    void ('open' !== this.mediaSource.readyState
                      ? this.trigger('error')
                      : this.sourceUpdater_.endOfStream('network'))
                  );
                var n = this.masterPlaylistLoader_.master.playlists,
                  r = n.filter(So),
                  s = 1 === r.length && r[0] === i;
                if (1 === n.length && t !== 1 / 0)
                  return (
                    Ua.log.warn(
                      'Problem encountered with playlist ' +
                        i.id +
                        '. Trying again since it is the only playlist.',
                    ),
                    this.tech_.trigger('retryplaylist'),
                    this.masterPlaylistLoader_.load(s)
                  );
                if (s) {
                  var a = !1;
                  n.forEach(function (e) {
                    if (e !== i) {
                      var t = e.excludeUntil;
                      void 0 !== t &&
                        t !== 1 / 0 &&
                        ((a = !0), delete e.excludeUntil);
                    }
                  }),
                    a &&
                      (Ua.log.warn(
                        'Removing other playlists from the exclusion list because the last rendition is about to be excluded.',
                      ),
                      this.tech_.trigger('retryplaylist'));
                }
                (i.excludeUntil = Date.now() + 1e3 * t),
                  e.reason && (i.lastExcludeReason_ = e.reason),
                  this.tech_.trigger('blacklistplaylist'),
                  this.tech_.trigger({
                    type: 'usage',
                    name: 'vhs-rendition-blacklisted',
                  }),
                  this.tech_.trigger({
                    type: 'usage',
                    name: 'hls-rendition-blacklisted',
                  });
                var o = this.selectPlaylist();
                if (!o)
                  return (
                    (this.error =
                      'Playback cannot continue. No available working or supported playlists.'),
                    void this.trigger('error')
                  );
                var l = e.internal ? this.logger_ : Ua.log.warn,
                  u = e.message ? ' ' + e.message : '';
                l(
                  (e.internal ? 'Internal problem' : 'Problem') +
                    ' encountered with playlist ' +
                    i.id +
                    '.' +
                    u +
                    ' Switching to playlist ' +
                    o.id +
                    '.',
                ),
                  o.attributes.AUDIO !== i.attributes.AUDIO &&
                    this.delegateLoaders_('audio', ['abort', 'pause']),
                  o.attributes.SUBTITLES !== i.attributes.SUBTITLES &&
                    this.delegateLoaders_('subtitle', ['abort', 'pause']),
                  this.delegateLoaders_('main', ['abort', 'pause']);
                var d = (o.targetDuration / 2) * 1e3 || 5e3,
                  c =
                    'number' == typeof o.lastRequest &&
                    Date.now() - o.lastRequest <= d;
                return this.switchMedia_(o, 'exclude', s || c);
              }),
              (i.pauseLoading = function () {
                this.delegateLoaders_('all', ['abort', 'pause']),
                  this.stopABRTimer_();
              }),
              (i.delegateLoaders_ = function (e, t) {
                var i = this,
                  n = [],
                  r = 'all' === e;
                (r || 'main' === e) && n.push(this.masterPlaylistLoader_);
                var s = [];
                (r || 'audio' === e) && s.push('AUDIO'),
                  (r || 'subtitle' === e) &&
                    (s.push('CLOSED-CAPTIONS'), s.push('SUBTITLES')),
                  s.forEach(function (e) {
                    var t =
                      i.mediaTypes_[e] && i.mediaTypes_[e].activePlaylistLoader;
                    t && n.push(t);
                  }),
                  ['main', 'audio', 'subtitle'].forEach(function (t) {
                    var r = i[t + 'SegmentLoader_'];
                    !r || (e !== t && 'all' !== e) || n.push(r);
                  }),
                  n.forEach(function (e) {
                    return t.forEach(function (t) {
                      'function' == typeof e[t] && e[t]();
                    });
                  });
              }),
              (i.setCurrentTime = function (e) {
                var t = uo(this.tech_.buffered(), e);
                return this.masterPlaylistLoader_ &&
                  this.masterPlaylistLoader_.media() &&
                  this.masterPlaylistLoader_.media().segments
                  ? t && t.length
                    ? e
                    : (this.mainSegmentLoader_.resetEverything(),
                      this.mainSegmentLoader_.abort(),
                      this.mediaTypes_.AUDIO.activePlaylistLoader &&
                        (this.audioSegmentLoader_.resetEverything(),
                        this.audioSegmentLoader_.abort()),
                      this.mediaTypes_.SUBTITLES.activePlaylistLoader &&
                        (this.subtitleSegmentLoader_.resetEverything(),
                        this.subtitleSegmentLoader_.abort()),
                      void this.load())
                  : 0;
              }),
              (i.duration = function () {
                if (!this.masterPlaylistLoader_) return 0;
                var e = this.masterPlaylistLoader_.media();
                return e
                  ? e.endList
                    ? this.mediaSource
                      ? this.mediaSource.duration
                      : Xl.Playlist.duration(e)
                    : 1 / 0
                  : 0;
              }),
              (i.seekable = function () {
                return this.seekable_;
              }),
              (i.onSyncInfoUpdate_ = function () {
                var e;
                if (this.masterPlaylistLoader_) {
                  var t = this.masterPlaylistLoader_.media();
                  if (t) {
                    var i = this.syncController_.getExpiredTime(
                      t,
                      this.duration(),
                    );
                    if (null !== i) {
                      var n = this.masterPlaylistLoader_.master,
                        r = Xl.Playlist.seekable(
                          t,
                          i,
                          Xl.Playlist.liveEdgeDelay(n, t),
                        );
                      if (0 !== r.length) {
                        if (this.mediaTypes_.AUDIO.activePlaylistLoader) {
                          if (
                            ((t =
                              this.mediaTypes_.AUDIO.activePlaylistLoader.media()),
                            null ===
                              (i = this.syncController_.getExpiredTime(
                                t,
                                this.duration(),
                              )))
                          )
                            return;
                          if (
                            0 ===
                            (e = Xl.Playlist.seekable(
                              t,
                              i,
                              Xl.Playlist.liveEdgeDelay(n, t),
                            )).length
                          )
                            return;
                        }
                        var s, a;
                        this.seekable_ &&
                          this.seekable_.length &&
                          ((s = this.seekable_.end(0)),
                          (a = this.seekable_.start(0))),
                          e
                            ? e.start(0) > r.end(0) || r.start(0) > e.end(0)
                              ? (this.seekable_ = r)
                              : (this.seekable_ = Ua.createTimeRanges([
                                  [
                                    e.start(0) > r.start(0)
                                      ? e.start(0)
                                      : r.start(0),
                                    e.end(0) < r.end(0) ? e.end(0) : r.end(0),
                                  ],
                                ]))
                            : (this.seekable_ = r),
                          (this.seekable_ &&
                            this.seekable_.length &&
                            this.seekable_.end(0) === s &&
                            this.seekable_.start(0) === a) ||
                            (this.logger_(
                              'seekable updated [' + ho(this.seekable_) + ']',
                            ),
                            this.tech_.trigger('seekablechanged'));
                      }
                    }
                  }
                }
              }),
              (i.updateDuration = function (e) {
                if (
                  (this.updateDuration_ &&
                    (this.mediaSource.removeEventListener(
                      'sourceopen',
                      this.updateDuration_,
                    ),
                    (this.updateDuration_ = null)),
                  'open' !== this.mediaSource.readyState)
                )
                  return (
                    (this.updateDuration_ = this.updateDuration.bind(this, e)),
                    void this.mediaSource.addEventListener(
                      'sourceopen',
                      this.updateDuration_,
                    )
                  );
                if (e) {
                  var t = this.seekable();
                  if (!t.length) return;
                  (isNaN(this.mediaSource.duration) ||
                    this.mediaSource.duration < t.end(t.length - 1)) &&
                    this.sourceUpdater_.setDuration(t.end(t.length - 1));
                } else {
                  var i = this.tech_.buffered(),
                    n = Xl.Playlist.duration(
                      this.masterPlaylistLoader_.media(),
                    );
                  i.length > 0 && (n = Math.max(n, i.end(i.length - 1))),
                    this.mediaSource.duration !== n &&
                      this.sourceUpdater_.setDuration(n);
                }
              }),
              (i.dispose = function () {
                var e = this;
                this.trigger('dispose'),
                  this.decrypter_.terminate(),
                  this.masterPlaylistLoader_.dispose(),
                  this.mainSegmentLoader_.dispose(),
                  this.loadOnPlay_ && this.tech_.off('play', this.loadOnPlay_),
                  ['AUDIO', 'SUBTITLES'].forEach(function (t) {
                    var i = e.mediaTypes_[t].groups;
                    for (var n in i)
                      i[n].forEach(function (e) {
                        e.playlistLoader && e.playlistLoader.dispose();
                      });
                  }),
                  this.audioSegmentLoader_.dispose(),
                  this.subtitleSegmentLoader_.dispose(),
                  this.sourceUpdater_.dispose(),
                  this.timelineChangeController_.dispose(),
                  this.stopABRTimer_(),
                  this.updateDuration_ &&
                    this.mediaSource.removeEventListener(
                      'sourceopen',
                      this.updateDuration_,
                    ),
                  this.mediaSource.removeEventListener(
                    'durationchange',
                    this.handleDurationChange_,
                  ),
                  this.mediaSource.removeEventListener(
                    'sourceopen',
                    this.handleSourceOpen_,
                  ),
                  this.mediaSource.removeEventListener(
                    'sourceended',
                    this.handleSourceEnded_,
                  ),
                  this.off();
              }),
              (i.master = function () {
                return this.masterPlaylistLoader_.master;
              }),
              (i.media = function () {
                return this.masterPlaylistLoader_.media() || this.initialMedia_;
              }),
              (i.areMediaTypesKnown_ = function () {
                var e = !!this.mediaTypes_.AUDIO.activePlaylistLoader;
                return !(
                  !this.mainSegmentLoader_.currentMediaInfo_ ||
                  (e && !this.audioSegmentLoader_.currentMediaInfo_)
                );
              }),
              (i.getCodecsOrExclude_ = function () {
                var e = this,
                  t = {
                    main: this.mainSegmentLoader_.currentMediaInfo_ || {},
                    audio: this.audioSegmentLoader_.currentMediaInfo_ || {},
                  };
                t.video = t.main;
                var i = El(this.master(), this.media()),
                  n = {},
                  r = !!this.mediaTypes_.AUDIO.activePlaylistLoader;
                if (
                  (t.main.hasVideo &&
                    (n.video = i.video || t.main.videoCodec || 'avc1.4d400d'),
                  t.main.isMuxed &&
                    (n.video += ',' + (i.audio || t.main.audioCodec || G)),
                  ((t.main.hasAudio && !t.main.isMuxed) ||
                    t.audio.hasAudio ||
                    r) &&
                    ((n.audio =
                      i.audio || t.main.audioCodec || t.audio.audioCodec || G),
                    (t.audio.isFmp4 =
                      t.main.hasAudio && !t.main.isMuxed
                        ? t.main.isFmp4
                        : t.audio.isFmp4)),
                  n.audio || n.video)
                ) {
                  var s,
                    a = {};
                  if (
                    (['video', 'audio'].forEach(function (e) {
                      if (
                        n.hasOwnProperty(e) &&
                        ((r = t[e].isFmp4), (o = n[e]), !(r ? X(o) : Q(o)))
                      ) {
                        var i = t[e].isFmp4 ? 'browser' : 'muxer';
                        (a[i] = a[i] || []),
                          a[i].push(n[e]),
                          'audio' === e && (s = i);
                      }
                      var r, o;
                    }),
                    r && s && this.media().attributes.AUDIO)
                  ) {
                    var o = this.media().attributes.AUDIO;
                    this.master().playlists.forEach(function (t) {
                      (t.attributes && t.attributes.AUDIO) === o &&
                        t !== e.media() &&
                        (t.excludeUntil = 1 / 0);
                    }),
                      this.logger_(
                        'excluding audio group ' +
                          o +
                          ' as ' +
                          s +
                          ' does not support codec(s): "' +
                          n.audio +
                          '"',
                      );
                  }
                  if (!Object.keys(a).length) {
                    if (
                      this.sourceUpdater_.hasCreatedSourceBuffers() &&
                      !this.sourceUpdater_.canChangeType()
                    ) {
                      var l = [];
                      if (
                        (['video', 'audio'].forEach(function (t) {
                          var i = (q(e.sourceUpdater_.codecs[t] || '')[0] || {})
                              .type,
                            r = (q(n[t] || '')[0] || {}).type;
                          i &&
                            r &&
                            i.toLowerCase() !== r.toLowerCase() &&
                            l.push(
                              '"' +
                                e.sourceUpdater_.codecs[t] +
                                '" -> "' +
                                n[t] +
                                '"',
                            );
                        }),
                        l.length)
                      )
                        return void this.blacklistCurrentPlaylist({
                          playlist: this.media(),
                          message:
                            'Codec switching not supported: ' +
                            l.join(', ') +
                            '.',
                          blacklistDuration: 1 / 0,
                          internal: !0,
                        });
                    }
                    return n;
                  }
                  var u =
                    Object.keys(a).reduce(function (e, t) {
                      return (
                        e && (e += ', '),
                        (e +=
                          t +
                          ' does not support codec(s): "' +
                          a[t].join(',') +
                          '"')
                      );
                    }, '') + '.';
                  this.blacklistCurrentPlaylist({
                    playlist: this.media(),
                    internal: !0,
                    message: u,
                    blacklistDuration: 1 / 0,
                  });
                } else
                  this.blacklistCurrentPlaylist({
                    playlist: this.media(),
                    message: 'Could not determine codecs for playlist.',
                    blacklistDuration: 1 / 0,
                  });
              }),
              (i.tryToCreateSourceBuffers_ = function () {
                if (
                  'open' === this.mediaSource.readyState &&
                  !this.sourceUpdater_.hasCreatedSourceBuffers() &&
                  this.areMediaTypesKnown_()
                ) {
                  var e = this.getCodecsOrExclude_();
                  if (e) {
                    this.sourceUpdater_.createSourceBuffers(e);
                    var t = [e.video, e.audio].filter(Boolean).join(',');
                    this.excludeIncompatibleVariants_(t);
                  }
                }
              }),
              (i.excludeUnsupportedVariants_ = function () {
                var e = this,
                  t = this.master().playlists,
                  i = [];
                Object.keys(t).forEach(function (n) {
                  var r = t[n];
                  if (-1 === i.indexOf(r.id)) {
                    i.push(r.id);
                    var s = El(e.master, r),
                      a = [];
                    !s.audio ||
                      Q(s.audio) ||
                      X(s.audio) ||
                      a.push('audio codec ' + s.audio),
                      !s.video ||
                        Q(s.video) ||
                        X(s.video) ||
                        a.push('video codec ' + s.video),
                      s.text &&
                        'stpp.ttml.im1t' === s.text &&
                        a.push('text codec ' + s.text),
                      a.length &&
                        ((r.excludeUntil = 1 / 0),
                        e.logger_(
                          'excluding ' +
                            r.id +
                            ' for unsupported: ' +
                            a.join(', '),
                        ));
                  }
                });
              }),
              (i.excludeIncompatibleVariants_ = function (e) {
                var t = this,
                  i = [],
                  n = this.master().playlists,
                  r = _l(q(e)),
                  s = Cl(r),
                  a = (r.video && q(r.video)[0]) || null,
                  o = (r.audio && q(r.audio)[0]) || null;
                Object.keys(n).forEach(function (e) {
                  var r = n[e];
                  if (-1 === i.indexOf(r.id) && r.excludeUntil !== 1 / 0) {
                    i.push(r.id);
                    var l = [],
                      u = El(t.masterPlaylistLoader_.master, r),
                      d = Cl(u);
                    if (u.audio || u.video) {
                      if (
                        (d !== s &&
                          l.push('codec count "' + d + '" !== "' + s + '"'),
                        !t.sourceUpdater_.canChangeType())
                      ) {
                        var c = (u.video && q(u.video)[0]) || null,
                          h = (u.audio && q(u.audio)[0]) || null;
                        c &&
                          a &&
                          c.type.toLowerCase() !== a.type.toLowerCase() &&
                          l.push(
                            'video codec "' + c.type + '" !== "' + a.type + '"',
                          ),
                          h &&
                            o &&
                            h.type.toLowerCase() !== o.type.toLowerCase() &&
                            l.push(
                              'audio codec "' +
                                h.type +
                                '" !== "' +
                                o.type +
                                '"',
                            );
                      }
                      l.length &&
                        ((r.excludeUntil = 1 / 0),
                        t.logger_(
                          'blacklisting ' + r.id + ': ' + l.join(' && '),
                        ));
                    }
                  }
                });
              }),
              (i.updateAdCues_ = function (e) {
                var t = 0,
                  i = this.seekable();
                i.length && (t = i.start(0)),
                  (function (e, t, i) {
                    if ((void 0 === i && (i = 0), e.segments))
                      for (var n, s = i, a = 0; a < e.segments.length; a++) {
                        var o = e.segments[a];
                        if ((n || (n = gu(t, s + o.duration / 2)), n)) {
                          if ('cueIn' in o) {
                            (n.endTime = s),
                              (n.adEndTime = s),
                              (s += o.duration),
                              (n = null);
                            continue;
                          }
                          if (s < n.endTime) {
                            s += o.duration;
                            continue;
                          }
                          n.endTime += o.duration;
                        } else if (
                          ('cueOut' in o &&
                            (((n = new (r().VTTCue)(
                              s,
                              s + o.duration,
                              o.cueOut,
                            )).adStartTime = s),
                            (n.adEndTime = s + parseFloat(o.cueOut)),
                            t.addCue(n)),
                          'cueOutCont' in o)
                        ) {
                          var l = o.cueOutCont.split('/').map(parseFloat),
                            u = l[0],
                            d = l[1];
                          ((n = new (r().VTTCue)(
                            s,
                            s + o.duration,
                            '',
                          )).adStartTime = s - u),
                            (n.adEndTime = n.adStartTime + d),
                            t.addCue(n);
                        }
                        s += o.duration;
                      }
                  })(e, this.cueTagsTrack_, t);
              }),
              (i.goalBufferLength = function () {
                var e = this.tech_.currentTime(),
                  t = Zo.GOAL_BUFFER_LENGTH,
                  i = Zo.GOAL_BUFFER_LENGTH_RATE,
                  n = Math.max(t, Zo.MAX_GOAL_BUFFER_LENGTH);
                return Math.min(t + e * i, n);
              }),
              (i.bufferLowWaterLine = function () {
                var e = this.tech_.currentTime(),
                  t = Zo.BUFFER_LOW_WATER_LINE,
                  i = Zo.BUFFER_LOW_WATER_LINE_RATE,
                  n = Math.max(t, Zo.MAX_BUFFER_LOW_WATER_LINE),
                  r = Math.max(t, Zo.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE);
                return Math.min(
                  t + e * i,
                  this.experimentalBufferBasedABR ? r : n,
                );
              }),
              (i.bufferHighWaterLine = function () {
                return Zo.BUFFER_HIGH_WATER_LINE;
              }),
              t
            );
          })(Ua.EventTarget),
          Ru = function (e, t, i) {
            var n,
              r,
              s,
              a = e.masterPlaylistController_,
              o =
                a[
                  (e.options_.smoothQualityChange ? 'smooth' : 'fast') +
                    'QualityChange_'
                ].bind(a);
            if (t.attributes) {
              var l = t.attributes.RESOLUTION;
              (this.width = l && l.width),
                (this.height = l && l.height),
                (this.bandwidth = t.attributes.BANDWIDTH);
            }
            (this.codecs = El(a.master(), t)),
              (this.playlist = t),
              (this.id = i),
              (this.enabled =
                ((n = e.playlists),
                (r = t.id),
                (s = o),
                function (e) {
                  var t = n.master.playlists[r],
                    i = To(t),
                    a = So(t);
                  return void 0 === e
                    ? a
                    : (e ? delete t.disabled : (t.disabled = !0),
                      e === a ||
                        i ||
                        (s(),
                        e
                          ? n.trigger('renditionenabled')
                          : n.trigger('renditiondisabled')),
                      e);
                }));
          },
          Ou = ['seeking', 'seeked', 'pause', 'playing', 'error'],
          Mu = (function () {
            function e(e) {
              var t = this;
              (this.masterPlaylistController_ = e.masterPlaylistController),
                (this.tech_ = e.tech),
                (this.seekable = e.seekable),
                (this.allowSeeksWithinUnsafeLiveWindow =
                  e.allowSeeksWithinUnsafeLiveWindow),
                (this.liveRangeSafeTimeDelta = e.liveRangeSafeTimeDelta),
                (this.media = e.media),
                (this.consecutiveUpdates = 0),
                (this.lastRecordedTime = null),
                (this.timer_ = null),
                (this.checkCurrentTimeTimeout_ = null),
                (this.logger_ = qa('PlaybackWatcher')),
                this.logger_('initialize');
              var i = function () {
                  return t.monitorCurrentTime_();
                },
                n = function () {
                  return t.monitorCurrentTime_();
                },
                s = function () {
                  return t.techWaiting_();
                },
                a = function () {
                  return t.cancelTimer_();
                },
                o = function () {
                  return t.fixesBadSeeks_();
                },
                l = this.masterPlaylistController_,
                u = ['main', 'subtitle', 'audio'],
                d = {};
              u.forEach(function (e) {
                (d[e] = {
                  reset: function () {
                    return t.resetSegmentDownloads_(e);
                  },
                  updateend: function () {
                    return t.checkSegmentDownloads_(e);
                  },
                }),
                  l[e + 'SegmentLoader_'].on('appendsdone', d[e].updateend),
                  l[e + 'SegmentLoader_'].on('playlistupdate', d[e].reset),
                  t.tech_.on(['seeked', 'seeking'], d[e].reset);
              }),
                this.tech_.on('seekablechanged', o),
                this.tech_.on('waiting', s),
                this.tech_.on(Ou, a),
                this.tech_.on('canplay', n),
                this.tech_.one('play', i),
                (this.dispose = function () {
                  t.logger_('dispose'),
                    t.tech_.off('seekablechanged', o),
                    t.tech_.off('waiting', s),
                    t.tech_.off(Ou, a),
                    t.tech_.off('canplay', n),
                    t.tech_.off('play', i),
                    u.forEach(function (e) {
                      l[e + 'SegmentLoader_'].off(
                        'appendsdone',
                        d[e].updateend,
                      ),
                        l[e + 'SegmentLoader_'].off(
                          'playlistupdate',
                          d[e].reset,
                        ),
                        t.tech_.off(['seeked', 'seeking'], d[e].reset);
                    }),
                    t.checkCurrentTimeTimeout_ &&
                      r().clearTimeout(t.checkCurrentTimeTimeout_),
                    t.cancelTimer_();
                });
            }
            var t = e.prototype;
            return (
              (t.monitorCurrentTime_ = function () {
                this.checkCurrentTime_(),
                  this.checkCurrentTimeTimeout_ &&
                    r().clearTimeout(this.checkCurrentTimeTimeout_),
                  (this.checkCurrentTimeTimeout_ = r().setTimeout(
                    this.monitorCurrentTime_.bind(this),
                    250,
                  ));
              }),
              (t.resetSegmentDownloads_ = function (e) {
                var t = this.masterPlaylistController_[e + 'SegmentLoader_'];
                this[e + 'StalledDownloads_'] > 0 &&
                  this.logger_(
                    'resetting possible stalled download count for ' +
                      e +
                      ' loader',
                  ),
                  (this[e + 'StalledDownloads_'] = 0),
                  (this[e + 'Buffered_'] = t.buffered_());
              }),
              (t.checkSegmentDownloads_ = function (e) {
                var t = this.masterPlaylistController_,
                  i = t[e + 'SegmentLoader_'],
                  n = i.buffered_(),
                  r = (function (e, t) {
                    if (e === t) return !1;
                    if ((!e && t) || (!t && e)) return !0;
                    if (e.length !== t.length) return !0;
                    for (var i = 0; i < e.length; i++)
                      if (e.start(i) !== t.start(i) || e.end(i) !== t.end(i))
                        return !0;
                    return !1;
                  })(this[e + 'Buffered_'], n);
                (this[e + 'Buffered_'] = n),
                  r
                    ? this.resetSegmentDownloads_(e)
                    : (this[e + 'StalledDownloads_']++,
                      this.logger_(
                        'found #' +
                          this[e + 'StalledDownloads_'] +
                          ' ' +
                          e +
                          ' appends that did not increase buffer (possible stalled download)',
                        {
                          playlistId: i.playlist_ && i.playlist_.id,
                          buffered: po(n),
                        },
                      ),
                      this[e + 'StalledDownloads_'] < 10 ||
                        (this.logger_(e + ' loader stalled download exclusion'),
                        this.resetSegmentDownloads_(e),
                        this.tech_.trigger({
                          type: 'usage',
                          name: 'vhs-' + e + '-download-exclusion',
                        }),
                        'subtitle' !== e &&
                          t.blacklistCurrentPlaylist(
                            {
                              message:
                                'Excessive ' +
                                e +
                                ' segment downloading detected.',
                            },
                            1 / 0,
                          )));
              }),
              (t.checkCurrentTime_ = function () {
                if (this.tech_.seeking() && this.fixesBadSeeks_())
                  return (
                    (this.consecutiveUpdates = 0),
                    void (this.lastRecordedTime = this.tech_.currentTime())
                  );
                if (!this.tech_.paused() && !this.tech_.seeking()) {
                  var e = this.tech_.currentTime(),
                    t = this.tech_.buffered();
                  if (
                    this.lastRecordedTime === e &&
                    (!t.length || e + oo >= t.end(t.length - 1))
                  )
                    return this.techWaiting_();
                  this.consecutiveUpdates >= 5 && e === this.lastRecordedTime
                    ? (this.consecutiveUpdates++, this.waiting_())
                    : e === this.lastRecordedTime
                      ? this.consecutiveUpdates++
                      : ((this.consecutiveUpdates = 0),
                        (this.lastRecordedTime = e));
                }
              }),
              (t.cancelTimer_ = function () {
                (this.consecutiveUpdates = 0),
                  this.timer_ &&
                    (this.logger_('cancelTimer_'), clearTimeout(this.timer_)),
                  (this.timer_ = null);
              }),
              (t.fixesBadSeeks_ = function () {
                if (!this.tech_.seeking()) return !1;
                var e,
                  t = this.seekable(),
                  i = this.tech_.currentTime();
                this.afterSeekableWindow_(
                  t,
                  i,
                  this.media(),
                  this.allowSeeksWithinUnsafeLiveWindow,
                ) && (e = t.end(t.length - 1));
                if (this.beforeSeekableWindow_(t, i)) {
                  var n = t.start(0);
                  e = n + (n === t.end(0) ? 0 : oo);
                }
                if (void 0 !== e)
                  return (
                    this.logger_(
                      'Trying to seek outside of seekable at time ' +
                        i +
                        ' with seekable range ' +
                        ho(t) +
                        '. Seeking to ' +
                        e +
                        '.',
                    ),
                    this.tech_.setCurrentTime(e),
                    !0
                  );
                var r = this.tech_.buffered();
                return (
                  !!(function (e) {
                    var t = e.buffered,
                      i = e.targetDuration,
                      n = e.currentTime;
                    return !(
                      !t.length ||
                      t.end(0) - t.start(0) < 2 * i ||
                      n > t.start(0) ||
                      !(t.start(0) - n < i)
                    );
                  })({
                    buffered: r,
                    targetDuration: this.media().targetDuration,
                    currentTime: i,
                  }) &&
                  ((e = r.start(0) + oo),
                  this.logger_(
                    'Buffered region starts (' +
                      r.start(0) +
                      ')  just beyond seek point (' +
                      i +
                      '). Seeking to ' +
                      e +
                      '.',
                  ),
                  this.tech_.setCurrentTime(e),
                  !0)
                );
              }),
              (t.waiting_ = function () {
                if (!this.techWaiting_()) {
                  var e = this.tech_.currentTime(),
                    t = this.tech_.buffered(),
                    i = uo(t, e);
                  return i.length && e + 3 <= i.end(0)
                    ? (this.cancelTimer_(),
                      this.tech_.setCurrentTime(e),
                      this.logger_(
                        'Stopped at ' +
                          e +
                          ' while inside a buffered region [' +
                          i.start(0) +
                          ' -> ' +
                          i.end(0) +
                          ']. Attempting to resume playback by seeking to the current time.',
                      ),
                      this.tech_.trigger({
                        type: 'usage',
                        name: 'vhs-unknown-waiting',
                      }),
                      void this.tech_.trigger({
                        type: 'usage',
                        name: 'hls-unknown-waiting',
                      }))
                    : void 0;
                }
              }),
              (t.techWaiting_ = function () {
                var e = this.seekable(),
                  t = this.tech_.currentTime();
                if (this.tech_.seeking() && this.fixesBadSeeks_()) return !0;
                if (this.tech_.seeking() || null !== this.timer_) return !0;
                if (this.beforeSeekableWindow_(e, t)) {
                  var i = e.end(e.length - 1);
                  return (
                    this.logger_(
                      'Fell out of live window at time ' +
                        t +
                        '. Seeking to live point (seekable end) ' +
                        i,
                    ),
                    this.cancelTimer_(),
                    this.tech_.setCurrentTime(i),
                    this.tech_.trigger({
                      type: 'usage',
                      name: 'vhs-live-resync',
                    }),
                    this.tech_.trigger({
                      type: 'usage',
                      name: 'hls-live-resync',
                    }),
                    !0
                  );
                }
                var n = this.tech_.vhs.masterPlaylistController_.sourceUpdater_,
                  r = this.tech_.buffered();
                if (
                  this.videoUnderflow_({
                    audioBuffered: n.audioBuffered(),
                    videoBuffered: n.videoBuffered(),
                    currentTime: t,
                  })
                )
                  return (
                    this.cancelTimer_(),
                    this.tech_.setCurrentTime(t),
                    this.tech_.trigger({
                      type: 'usage',
                      name: 'vhs-video-underflow',
                    }),
                    this.tech_.trigger({
                      type: 'usage',
                      name: 'hls-video-underflow',
                    }),
                    !0
                  );
                var s = co(r, t);
                if (s.length > 0) {
                  var a = s.start(0) - t;
                  return (
                    this.logger_(
                      'Stopped at ' +
                        t +
                        ', setting timer for ' +
                        a +
                        ', seeking to ' +
                        s.start(0),
                    ),
                    this.cancelTimer_(),
                    (this.timer_ = setTimeout(
                      this.skipTheGap_.bind(this),
                      1e3 * a,
                      t,
                    )),
                    !0
                  );
                }
                return !1;
              }),
              (t.afterSeekableWindow_ = function (e, t, i, n) {
                if ((void 0 === n && (n = !1), !e.length)) return !1;
                var r = e.end(e.length - 1) + oo;
                return (
                  !i.endList &&
                    n &&
                    (r = e.end(e.length - 1) + 3 * i.targetDuration),
                  t > r
                );
              }),
              (t.beforeSeekableWindow_ = function (e, t) {
                return !!(
                  e.length &&
                  e.start(0) > 0 &&
                  t < e.start(0) - this.liveRangeSafeTimeDelta
                );
              }),
              (t.videoUnderflow_ = function (e) {
                var t = e.videoBuffered,
                  i = e.audioBuffered,
                  n = e.currentTime;
                if (t) {
                  var r;
                  if (t.length && i.length) {
                    var s = uo(t, n - 3),
                      a = uo(t, n),
                      o = uo(i, n);
                    o.length &&
                      !a.length &&
                      s.length &&
                      (r = { start: s.end(0), end: o.end(0) });
                  } else {
                    co(t, n).length || (r = this.gapFromVideoUnderflow_(t, n));
                  }
                  return (
                    !!r &&
                    (this.logger_(
                      'Encountered a gap in video from ' +
                        r.start +
                        ' to ' +
                        r.end +
                        '. Seeking to current time ' +
                        n,
                    ),
                    !0)
                  );
                }
              }),
              (t.skipTheGap_ = function (e) {
                var t = this.tech_.buffered(),
                  i = this.tech_.currentTime(),
                  n = co(t, i);
                this.cancelTimer_(),
                  0 !== n.length &&
                    i === e &&
                    (this.logger_(
                      'skipTheGap_:',
                      'currentTime:',
                      i,
                      'scheduled currentTime:',
                      e,
                      'nextRange start:',
                      n.start(0),
                    ),
                    this.tech_.setCurrentTime(n.start(0) + ao),
                    this.tech_.trigger({ type: 'usage', name: 'vhs-gap-skip' }),
                    this.tech_.trigger({
                      type: 'usage',
                      name: 'hls-gap-skip',
                    }));
              }),
              (t.gapFromVideoUnderflow_ = function (e, t) {
                for (
                  var i = (function (e) {
                      if (e.length < 2) return Ua.createTimeRanges();
                      for (var t = [], i = 1; i < e.length; i++) {
                        var n = e.end(i - 1),
                          r = e.start(i);
                        t.push([n, r]);
                      }
                      return Ua.createTimeRanges(t);
                    })(e),
                    n = 0;
                  n < i.length;
                  n++
                ) {
                  var r = i.start(n),
                    s = i.end(n);
                  if (t - r < 4 && t - r > 2) return { start: r, end: s };
                }
                return null;
              }),
              e
            );
          })(),
          Nu = {
            errorInterval: 30,
            getSource: function (e) {
              return e(
                this.tech({ IWillNotUseThisInPlugins: !0 }).currentSource_ ||
                  this.currentSource(),
              );
            },
          },
          Bu = function e(t, i) {
            var n = 0,
              r = 0,
              s = Ua.mergeOptions(Nu, i);
            t.ready(function () {
              t.trigger({
                type: 'usage',
                name: 'vhs-error-reload-initialized',
              }),
                t.trigger({
                  type: 'usage',
                  name: 'hls-error-reload-initialized',
                });
            });
            var a = function () {
                r && t.currentTime(r);
              },
              o = function (e) {
                null != e &&
                  ((r = (t.duration() !== 1 / 0 && t.currentTime()) || 0),
                  t.one('loadedmetadata', a),
                  t.src(e),
                  t.trigger({ type: 'usage', name: 'vhs-error-reload' }),
                  t.trigger({ type: 'usage', name: 'hls-error-reload' }),
                  t.play());
              },
              l = function () {
                return Date.now() - n < 1e3 * s.errorInterval
                  ? (t.trigger({
                      type: 'usage',
                      name: 'vhs-error-reload-canceled',
                    }),
                    void t.trigger({
                      type: 'usage',
                      name: 'hls-error-reload-canceled',
                    }))
                  : s.getSource && 'function' == typeof s.getSource
                    ? ((n = Date.now()), s.getSource.call(t, o))
                    : void Ua.log.error(
                        'ERROR: reloadSourceOnError - The option getSource must be a function!',
                      );
              },
              u = function e() {
                t.off('loadedmetadata', a),
                  t.off('error', l),
                  t.off('dispose', e);
              };
            t.on('error', l),
              t.on('dispose', u),
              (t.reloadSourceOnError = function (i) {
                u(), e(t, i);
              });
          },
          Uu = function (e) {
            Bu(this, e);
          },
          Fu = '2.7.1',
          Wu = {
            PlaylistLoader: so,
            Playlist: jo,
            utils: Wo,
            STANDARD_PLAYLIST_SELECTOR: Rl,
            INITIAL_PLAYLIST_SELECTOR: function () {
              var e = this,
                t = this.playlists.master.playlists.filter(jo.isEnabled);
              return (
                xl(t, function (e, t) {
                  return Ll(e, t);
                }),
                t.filter(function (t) {
                  return !!El(e.playlists.master, t).video;
                })[0] || null
              );
            },
            lastBandwidthSelector: Rl,
            movingAverageBandwidthSelector: function (e) {
              var t = -1;
              if (e < 0 || e > 1)
                throw new Error(
                  'Moving average bandwidth decay must be between 0 and 1.',
                );
              return function () {
                var i = (this.useDevicePixelRatio && r().devicePixelRatio) || 1;
                return (
                  t < 0 && (t = this.systemBandwidth),
                  (t = e * this.systemBandwidth + (1 - e) * t),
                  Dl(
                    this.playlists.master,
                    t,
                    parseInt(Il(this.tech_.el(), 'width'), 10) * i,
                    parseInt(Il(this.tech_.el(), 'height'), 10) * i,
                    this.limitRenditionByPlayerDimensions,
                    this.masterPlaylistController_,
                  )
                );
              };
            },
            comparePlaylistBandwidth: Ll,
            comparePlaylistResolution: function (e, t) {
              var i, n;
              return (
                e.attributes.RESOLUTION &&
                  e.attributes.RESOLUTION.width &&
                  (i = e.attributes.RESOLUTION.width),
                (i = i || r().Number.MAX_VALUE),
                t.attributes.RESOLUTION &&
                  t.attributes.RESOLUTION.width &&
                  (n = t.attributes.RESOLUTION.width),
                i === (n = n || r().Number.MAX_VALUE) &&
                e.attributes.BANDWIDTH &&
                t.attributes.BANDWIDTH
                  ? e.attributes.BANDWIDTH - t.attributes.BANDWIDTH
                  : i - n
              );
            },
            xhr: Lo(),
          };
        Object.keys(Zo).forEach(function (e) {
          Object.defineProperty(Wu, e, {
            get: function () {
              return (
                Ua.log.warn(
                  'using Vhs.' +
                    e +
                    ' is UNSAFE be sure you know what you are doing',
                ),
                Zo[e]
              );
            },
            set: function (t) {
              Ua.log.warn(
                'using Vhs.' +
                  e +
                  ' is UNSAFE be sure you know what you are doing',
              ),
                'number' != typeof t || t < 0
                  ? Ua.log.warn(
                      'value of Vhs.' +
                        e +
                        ' must be greater than or equal to 0',
                    )
                  : (Zo[e] = t);
            },
          });
        });
        var Vu = 'videojs-vhs',
          Hu = function (e, t) {
            for (var i = t.media(), n = -1, r = 0; r < e.length; r++)
              if (e[r].id === i.id) {
                n = r;
                break;
              }
            (e.selectedIndex_ = n),
              e.trigger({ selectedIndex: n, type: 'change' });
          };
        Wu.canPlaySource = function () {
          return Ua.log.warn(
            "HLS is no longer a tech. Please remove it from your player's techOrder.",
          );
        };
        var qu = function (e) {
            var t = e.player,
              i = e.sourceKeySystems,
              n = e.audioMedia,
              r = e.mainPlaylists;
            if (!t.eme.initializeMediaKeys) return Promise.resolve();
            var s = (function (e, t) {
                return e.reduce(function (e, i) {
                  if (!i.contentProtection) return e;
                  var n = t.reduce(function (e, t) {
                    var n = i.contentProtection[t];
                    return n && n.pssh && (e[t] = { pssh: n.pssh }), e;
                  }, {});
                  return Object.keys(n).length && e.push(n), e;
                }, []);
              })(n ? r.concat([n]) : r, Object.keys(i)),
              a = [],
              o = [];
            return (
              s.forEach(function (e) {
                o.push(
                  new Promise(function (e, i) {
                    t.tech_.one('keysessioncreated', e);
                  }),
                ),
                  a.push(
                    new Promise(function (i, n) {
                      t.eme.initializeMediaKeys(
                        { keySystems: e },
                        function (e) {
                          e ? n(e) : i();
                        },
                      );
                    }),
                  );
              }),
              Promise.race([Promise.all(a), Promise.race(o)])
            );
          },
          zu = function (e) {
            var t = e.player,
              i = (function (e, t, i) {
                if (!e) return e;
                var n = {};
                t &&
                  t.attributes &&
                  t.attributes.CODECS &&
                  (n = _l(q(t.attributes.CODECS))),
                  i &&
                    i.attributes &&
                    i.attributes.CODECS &&
                    (n.audio = i.attributes.CODECS);
                var r = K(n.video),
                  s = K(n.audio),
                  a = {};
                for (var o in e)
                  (a[o] = {}),
                    s && (a[o].audioContentType = s),
                    r && (a[o].videoContentType = r),
                    t.contentProtection &&
                      t.contentProtection[o] &&
                      t.contentProtection[o].pssh &&
                      (a[o].pssh = t.contentProtection[o].pssh),
                    'string' == typeof e[o] && (a[o].url = e[o]);
                return Ua.mergeOptions(e, a);
              })(e.sourceKeySystems, e.media, e.audioMedia);
            return (
              !!i &&
              ((t.currentSource().keySystems = i),
              !(i && !t.eme) ||
                (Ua.log.warn(
                  'DRM encrypted source cannot be decrypted without a DRM plugin',
                ),
                !1))
            );
          },
          Ku = function () {
            if (!r().localStorage) return null;
            var e = r().localStorage.getItem(Vu);
            if (!e) return null;
            try {
              return JSON.parse(e);
            } catch (e) {
              return null;
            }
          };
        (Wu.supportsNativeHls = (function () {
          if (!a() || !a().createElement) return !1;
          var e = a().createElement('video');
          if (!Ua.getTech('Html5').isSupported()) return !1;
          return [
            'application/vnd.apple.mpegurl',
            'audio/mpegurl',
            'audio/x-mpegurl',
            'application/x-mpegurl',
            'video/x-mpegurl',
            'video/mpegurl',
            'application/mpegurl',
          ].some(function (t) {
            return /maybe|probably/i.test(e.canPlayType(t));
          });
        })()),
          (Wu.supportsNativeDash =
            !!(a() && a().createElement && Ua.getTech('Html5').isSupported()) &&
            /maybe|probably/i.test(
              a().createElement('video').canPlayType('application/dash+xml'),
            )),
          (Wu.supportsTypeNatively = function (e) {
            return 'hls' === e
              ? Wu.supportsNativeHls
              : 'dash' === e && Wu.supportsNativeDash;
          }),
          (Wu.isSupported = function () {
            return Ua.log.warn(
              "HLS is no longer a tech. Please remove it from your player's techOrder.",
            );
          });
        var Xu = (function (e) {
            function t(t, i, n) {
              var r;
              if (
                ((r = e.call(this, i, Ua.mergeOptions(n.hls, n.vhs)) || this),
                n.hls &&
                  Object.keys(n.hls).length &&
                  Ua.log.warn(
                    'Using hls options is deprecated. Use vhs instead.',
                  ),
                (r.logger_ = qa('VhsHandler')),
                i.options_ && i.options_.playerId)
              ) {
                var s = Ua(i.options_.playerId);
                s.hasOwnProperty('hls') ||
                  Object.defineProperty(s, 'hls', {
                    get: function () {
                      return (
                        Ua.log.warn(
                          'player.hls is deprecated. Use player.tech().vhs instead.',
                        ),
                        i.trigger({ type: 'usage', name: 'hls-player-access' }),
                        l(r)
                      );
                    },
                    configurable: !0,
                  }),
                  s.hasOwnProperty('vhs') ||
                    Object.defineProperty(s, 'vhs', {
                      get: function () {
                        return (
                          Ua.log.warn(
                            'player.vhs is deprecated. Use player.tech().vhs instead.',
                          ),
                          i.trigger({
                            type: 'usage',
                            name: 'vhs-player-access',
                          }),
                          l(r)
                        );
                      },
                      configurable: !0,
                    }),
                  s.hasOwnProperty('dash') ||
                    Object.defineProperty(s, 'dash', {
                      get: function () {
                        return (
                          Ua.log.warn(
                            'player.dash is deprecated. Use player.tech().vhs instead.',
                          ),
                          l(r)
                        );
                      },
                      configurable: !0,
                    }),
                  (r.player_ = s);
              }
              if (
                ((r.tech_ = i),
                (r.source_ = t),
                (r.stats = {}),
                (r.ignoreNextSeekingEvent_ = !1),
                r.setOptions_(),
                r.options_.overrideNative &&
                  i.overrideNativeAudioTracks &&
                  i.overrideNativeVideoTracks)
              )
                i.overrideNativeAudioTracks(!0),
                  i.overrideNativeVideoTracks(!0);
              else if (
                r.options_.overrideNative &&
                (i.featuresNativeVideoTracks || i.featuresNativeAudioTracks)
              )
                throw new Error(
                  'Overriding native HLS requires emulated tracks. See https://git.io/vMpjB',
                );
              return (
                r.on(
                  a(),
                  [
                    'fullscreenchange',
                    'webkitfullscreenchange',
                    'mozfullscreenchange',
                    'MSFullscreenChange',
                  ],
                  function (e) {
                    var t =
                      a().fullscreenElement ||
                      a().webkitFullscreenElement ||
                      a().mozFullScreenElement ||
                      a().msFullscreenElement;
                    t &&
                      t.contains(r.tech_.el()) &&
                      r.masterPlaylistController_.smoothQualityChange_();
                  },
                ),
                r.on(r.tech_, 'seeking', function () {
                  this.ignoreNextSeekingEvent_
                    ? (this.ignoreNextSeekingEvent_ = !1)
                    : this.setCurrentTime(this.tech_.currentTime());
                }),
                r.on(r.tech_, 'error', function () {
                  this.tech_.error() &&
                    this.masterPlaylistController_ &&
                    this.masterPlaylistController_.pauseLoading();
                }),
                r.on(r.tech_, 'play', r.play),
                r
              );
            }
            d(t, e);
            var i = t.prototype;
            return (
              (i.setOptions_ = function () {
                var e = this;
                if (
                  ((this.options_.withCredentials =
                    this.options_.withCredentials || !1),
                  (this.options_.handleManifestRedirects =
                    !1 !== this.options_.handleManifestRedirects),
                  (this.options_.limitRenditionByPlayerDimensions =
                    !1 !== this.options_.limitRenditionByPlayerDimensions),
                  (this.options_.useDevicePixelRatio =
                    this.options_.useDevicePixelRatio || !1),
                  (this.options_.smoothQualityChange =
                    this.options_.smoothQualityChange || !1),
                  (this.options_.useBandwidthFromLocalStorage =
                    void 0 !== this.source_.useBandwidthFromLocalStorage
                      ? this.source_.useBandwidthFromLocalStorage
                      : this.options_.useBandwidthFromLocalStorage || !1),
                  (this.options_.customTagParsers =
                    this.options_.customTagParsers || []),
                  (this.options_.customTagMappers =
                    this.options_.customTagMappers || []),
                  (this.options_.cacheEncryptionKeys =
                    this.options_.cacheEncryptionKeys || !1),
                  (this.options_.handlePartialData =
                    this.options_.handlePartialData || !1),
                  'number' != typeof this.options_.blacklistDuration &&
                    (this.options_.blacklistDuration = 300),
                  'number' != typeof this.options_.bandwidth &&
                    this.options_.useBandwidthFromLocalStorage)
                ) {
                  var t = Ku();
                  t &&
                    t.bandwidth &&
                    ((this.options_.bandwidth = t.bandwidth),
                    this.tech_.trigger({
                      type: 'usage',
                      name: 'vhs-bandwidth-from-local-storage',
                    }),
                    this.tech_.trigger({
                      type: 'usage',
                      name: 'hls-bandwidth-from-local-storage',
                    })),
                    t &&
                      t.throughput &&
                      ((this.options_.throughput = t.throughput),
                      this.tech_.trigger({
                        type: 'usage',
                        name: 'vhs-throughput-from-local-storage',
                      }),
                      this.tech_.trigger({
                        type: 'usage',
                        name: 'hls-throughput-from-local-storage',
                      }));
                }
                'number' != typeof this.options_.bandwidth &&
                  (this.options_.bandwidth = Zo.INITIAL_BANDWIDTH),
                  (this.options_.enableLowInitialPlaylist =
                    this.options_.enableLowInitialPlaylist &&
                    this.options_.bandwidth === Zo.INITIAL_BANDWIDTH),
                  [
                    'withCredentials',
                    'useDevicePixelRatio',
                    'limitRenditionByPlayerDimensions',
                    'bandwidth',
                    'smoothQualityChange',
                    'customTagParsers',
                    'customTagMappers',
                    'handleManifestRedirects',
                    'cacheEncryptionKeys',
                    'handlePartialData',
                    'playlistSelector',
                    'initialPlaylistSelector',
                    'experimentalBufferBasedABR',
                    'liveRangeSafeTimeDelta',
                    'experimentalLLHLS',
                  ].forEach(function (t) {
                    void 0 !== e.source_[t] && (e.options_[t] = e.source_[t]);
                  }),
                  (this.limitRenditionByPlayerDimensions =
                    this.options_.limitRenditionByPlayerDimensions),
                  (this.useDevicePixelRatio =
                    this.options_.useDevicePixelRatio);
              }),
              (i.src = function (e, t) {
                var i = this;
                if (e) {
                  var n;
                  this.setOptions_(),
                    (this.options_.src =
                      0 ===
                      (n = this.source_.src)
                        .toLowerCase()
                        .indexOf('data:application/vnd.videojs.vhs+json,')
                        ? JSON.parse(n.substring(n.indexOf(',') + 1))
                        : n),
                    (this.options_.tech = this.tech_),
                    (this.options_.externVhs = Wu),
                    (this.options_.sourceType = Z(t)),
                    (this.options_.seekTo = function (e) {
                      i.tech_.setCurrentTime(e);
                    }),
                    (this.masterPlaylistController_ = new Du(this.options_));
                  var s = Ua.mergeOptions(
                    { liveRangeSafeTimeDelta: oo },
                    this.options_,
                    {
                      seekable: function () {
                        return i.seekable();
                      },
                      media: function () {
                        return i.masterPlaylistController_.media();
                      },
                      masterPlaylistController: this.masterPlaylistController_,
                    },
                  );
                  (this.playbackWatcher_ = new Mu(s)),
                    this.masterPlaylistController_.on('error', function () {
                      var e = Ua.players[i.tech_.options_.playerId],
                        t = i.masterPlaylistController_.error;
                      'object' != typeof t || t.code
                        ? 'string' == typeof t && (t = { message: t, code: 3 })
                        : (t.code = 3),
                        e.error(t);
                    });
                  var a = this.options_.experimentalBufferBasedABR
                    ? Wu.movingAverageBandwidthSelector(0.55)
                    : Wu.STANDARD_PLAYLIST_SELECTOR;
                  (this.masterPlaylistController_.selectPlaylist = this
                    .selectPlaylist
                    ? this.selectPlaylist.bind(this)
                    : a.bind(this)),
                    (this.masterPlaylistController_.selectInitialPlaylist =
                      Wu.INITIAL_PLAYLIST_SELECTOR.bind(this)),
                    (this.playlists =
                      this.masterPlaylistController_.masterPlaylistLoader_),
                    (this.mediaSource =
                      this.masterPlaylistController_.mediaSource),
                    Object.defineProperties(this, {
                      selectPlaylist: {
                        get: function () {
                          return this.masterPlaylistController_.selectPlaylist;
                        },
                        set: function (e) {
                          this.masterPlaylistController_.selectPlaylist =
                            e.bind(this);
                        },
                      },
                      throughput: {
                        get: function () {
                          return this.masterPlaylistController_
                            .mainSegmentLoader_.throughput.rate;
                        },
                        set: function (e) {
                          (this.masterPlaylistController_.mainSegmentLoader_.throughput.rate =
                            e),
                            (this.masterPlaylistController_.mainSegmentLoader_.throughput.count = 1);
                        },
                      },
                      bandwidth: {
                        get: function () {
                          return this.masterPlaylistController_
                            .mainSegmentLoader_.bandwidth;
                        },
                        set: function (e) {
                          (this.masterPlaylistController_.mainSegmentLoader_.bandwidth =
                            e),
                            (this.masterPlaylistController_.mainSegmentLoader_.throughput =
                              { rate: 0, count: 0 });
                        },
                      },
                      systemBandwidth: {
                        get: function () {
                          var e,
                            t = 1 / (this.bandwidth || 1);
                          return (
                            (e = this.throughput > 0 ? 1 / this.throughput : 0),
                            Math.floor(1 / (t + e))
                          );
                        },
                        set: function () {
                          Ua.log.error(
                            'The "systemBandwidth" property is read-only',
                          );
                        },
                      },
                    }),
                    this.options_.bandwidth &&
                      (this.bandwidth = this.options_.bandwidth),
                    this.options_.throughput &&
                      (this.throughput = this.options_.throughput),
                    Object.defineProperties(this.stats, {
                      bandwidth: {
                        get: function () {
                          return i.bandwidth || 0;
                        },
                        enumerable: !0,
                      },
                      mediaRequests: {
                        get: function () {
                          return (
                            i.masterPlaylistController_.mediaRequests_() || 0
                          );
                        },
                        enumerable: !0,
                      },
                      mediaRequestsAborted: {
                        get: function () {
                          return (
                            i.masterPlaylistController_.mediaRequestsAborted_() ||
                            0
                          );
                        },
                        enumerable: !0,
                      },
                      mediaRequestsTimedout: {
                        get: function () {
                          return (
                            i.masterPlaylistController_.mediaRequestsTimedout_() ||
                            0
                          );
                        },
                        enumerable: !0,
                      },
                      mediaRequestsErrored: {
                        get: function () {
                          return (
                            i.masterPlaylistController_.mediaRequestsErrored_() ||
                            0
                          );
                        },
                        enumerable: !0,
                      },
                      mediaTransferDuration: {
                        get: function () {
                          return (
                            i.masterPlaylistController_.mediaTransferDuration_() ||
                            0
                          );
                        },
                        enumerable: !0,
                      },
                      mediaBytesTransferred: {
                        get: function () {
                          return (
                            i.masterPlaylistController_.mediaBytesTransferred_() ||
                            0
                          );
                        },
                        enumerable: !0,
                      },
                      mediaSecondsLoaded: {
                        get: function () {
                          return (
                            i.masterPlaylistController_.mediaSecondsLoaded_() ||
                            0
                          );
                        },
                        enumerable: !0,
                      },
                      buffered: {
                        get: function () {
                          return po(i.tech_.buffered());
                        },
                        enumerable: !0,
                      },
                      currentTime: {
                        get: function () {
                          return i.tech_.currentTime();
                        },
                        enumerable: !0,
                      },
                      currentSource: {
                        get: function () {
                          return i.tech_.currentSource_;
                        },
                        enumerable: !0,
                      },
                      currentTech: {
                        get: function () {
                          return i.tech_.name_;
                        },
                        enumerable: !0,
                      },
                      duration: {
                        get: function () {
                          return i.tech_.duration();
                        },
                        enumerable: !0,
                      },
                      master: {
                        get: function () {
                          return i.playlists.master;
                        },
                        enumerable: !0,
                      },
                      playerDimensions: {
                        get: function () {
                          return i.tech_.currentDimensions();
                        },
                        enumerable: !0,
                      },
                      seekable: {
                        get: function () {
                          return po(i.tech_.seekable());
                        },
                        enumerable: !0,
                      },
                      timestamp: {
                        get: function () {
                          return Date.now();
                        },
                        enumerable: !0,
                      },
                      videoPlaybackQuality: {
                        get: function () {
                          return i.tech_.getVideoPlaybackQuality();
                        },
                        enumerable: !0,
                      },
                    }),
                    this.tech_.one(
                      'canplay',
                      this.masterPlaylistController_.setupFirstPlay.bind(
                        this.masterPlaylistController_,
                      ),
                    ),
                    this.tech_.on('bandwidthupdate', function () {
                      i.options_.useBandwidthFromLocalStorage &&
                        (function (e) {
                          if (!r().localStorage) return !1;
                          var t = Ku();
                          t = t ? Ua.mergeOptions(t, e) : e;
                          try {
                            r().localStorage.setItem(Vu, JSON.stringify(t));
                          } catch (e) {
                            return !1;
                          }
                        })({
                          bandwidth: i.bandwidth,
                          throughput: Math.round(i.throughput),
                        });
                    }),
                    this.masterPlaylistController_.on(
                      'selectedinitialmedia',
                      function () {
                        var e;
                        (e = i).representations = function () {
                          var t = e.masterPlaylistController_.master(),
                            i = Eo(t)
                              ? e.masterPlaylistController_.getAudioTrackPlaylists_()
                              : t.playlists;
                          return i
                            ? i
                                .filter(function (e) {
                                  return !To(e);
                                })
                                .map(function (t, i) {
                                  return new Ru(e, t, t.id);
                                })
                            : [];
                        };
                      },
                    ),
                    this.masterPlaylistController_.sourceUpdater_.on(
                      'createdsourcebuffers',
                      function () {
                        i.setupEme_();
                      },
                    ),
                    this.on(
                      this.masterPlaylistController_,
                      'progress',
                      function () {
                        this.tech_.trigger('progress');
                      },
                    ),
                    this.on(
                      this.masterPlaylistController_,
                      'firstplay',
                      function () {
                        this.ignoreNextSeekingEvent_ = !0;
                      },
                    ),
                    this.setupQualityLevels_(),
                    this.tech_.el() &&
                      ((this.mediaSourceUrl_ = r().URL.createObjectURL(
                        this.masterPlaylistController_.mediaSource,
                      )),
                      this.tech_.src(this.mediaSourceUrl_));
                }
              }),
              (i.setupEme_ = function () {
                var e = this,
                  t =
                    this.masterPlaylistController_.mediaTypes_.AUDIO
                      .activePlaylistLoader,
                  i = zu({
                    player: this.player_,
                    sourceKeySystems: this.source_.keySystems,
                    media: this.playlists.media(),
                    audioMedia: t && t.media(),
                  });
                11 !== Ua.browser.IE_VERSION && i
                  ? (this.logger_('waiting for EME key session creation'),
                    qu({
                      player: this.player_,
                      sourceKeySystems: this.source_.keySystems,
                      audioMedia: t && t.media(),
                      mainPlaylists: this.playlists.master.playlists,
                    })
                      .then(function () {
                        e.logger_('created EME key session'),
                          e.masterPlaylistController_.sourceUpdater_.initializedEme();
                      })
                      .catch(function (t) {
                        e.logger_('error while creating EME key session', t),
                          e.player_.error({
                            message: 'Failed to initialize media keys for EME',
                            code: 3,
                          });
                      }))
                  : this.masterPlaylistController_.sourceUpdater_.initializedEme();
              }),
              (i.setupQualityLevels_ = function () {
                var e = this,
                  t = Ua.players[this.tech_.options_.playerId];
                t &&
                  t.qualityLevels &&
                  !this.qualityLevels_ &&
                  ((this.qualityLevels_ = t.qualityLevels()),
                  this.masterPlaylistController_.on(
                    'selectedinitialmedia',
                    function () {
                      var t, i;
                      (t = e.qualityLevels_),
                        (i = e).representations().forEach(function (e) {
                          t.addQualityLevel(e);
                        }),
                        Hu(t, i.playlists);
                    },
                  ),
                  this.playlists.on('mediachange', function () {
                    Hu(e.qualityLevels_, e.playlists);
                  }));
              }),
              (t.version = function () {
                return {
                  '@videojs/http-streaming': Fu,
                  'mux.js': '5.11.0',
                  'mpd-parser': '0.16.0',
                  'm3u8-parser': '4.6.0',
                  'aes-decrypter': '3.1.2',
                };
              }),
              (i.version = function () {
                return this.constructor.version();
              }),
              (i.canChangeType = function () {
                return hu.canChangeType();
              }),
              (i.play = function () {
                this.masterPlaylistController_.play();
              }),
              (i.setCurrentTime = function (e) {
                this.masterPlaylistController_.setCurrentTime(e);
              }),
              (i.duration = function () {
                return this.masterPlaylistController_.duration();
              }),
              (i.seekable = function () {
                return this.masterPlaylistController_.seekable();
              }),
              (i.dispose = function () {
                this.playbackWatcher_ && this.playbackWatcher_.dispose(),
                  this.masterPlaylistController_ &&
                    this.masterPlaylistController_.dispose(),
                  this.qualityLevels_ && this.qualityLevels_.dispose(),
                  this.player_ &&
                    (delete this.player_.vhs,
                    delete this.player_.dash,
                    delete this.player_.hls),
                  this.tech_ && this.tech_.vhs && delete this.tech_.vhs,
                  this.tech_ && delete this.tech_.hls,
                  this.mediaSourceUrl_ &&
                    r().URL.revokeObjectURL &&
                    (r().URL.revokeObjectURL(this.mediaSourceUrl_),
                    (this.mediaSourceUrl_ = null)),
                  e.prototype.dispose.call(this);
              }),
              (i.convertToProgramTime = function (e, t) {
                return Vo({
                  playlist: this.masterPlaylistController_.media(),
                  time: e,
                  callback: t,
                });
              }),
              (i.seekToProgramTime = function (e, t, i, n) {
                return (
                  void 0 === i && (i = !0),
                  void 0 === n && (n = 2),
                  Ho({
                    programTime: e,
                    playlist: this.masterPlaylistController_.media(),
                    retryCount: n,
                    pauseAfterSeek: i,
                    seekTo: this.options_.seekTo,
                    tech: this.options_.tech,
                    callback: t,
                  })
                );
              }),
              t
            );
          })(Ua.getComponent('Component')),
          Qu = {
            name: 'videojs-http-streaming',
            VERSION: Fu,
            canHandleSource: function (e, t) {
              void 0 === t && (t = {});
              var i = Ua.mergeOptions(Ua.options, t);
              return Qu.canPlayType(e.type, i);
            },
            handleSource: function (e, t, i) {
              void 0 === i && (i = {});
              var n = Ua.mergeOptions(Ua.options, i);
              return (
                (t.vhs = new Xu(e, t, n)),
                Ua.hasOwnProperty('hls') ||
                  Object.defineProperty(t, 'hls', {
                    get: function () {
                      return (
                        Ua.log.warn(
                          'player.tech().hls is deprecated. Use player.tech().vhs instead.',
                        ),
                        t.vhs
                      );
                    },
                    configurable: !0,
                  }),
                (t.vhs.xhr = Lo()),
                t.vhs.src(e.src, e.type),
                t.vhs
              );
            },
            canPlayType: function (e, t) {
              void 0 === t && (t = {});
              var i = Ua.mergeOptions(Ua.options, t).vhs.overrideNative,
                n = void 0 === i ? !Ua.browser.IS_ANY_SAFARI : i,
                r = Z(e);
              return r && (!Wu.supportsTypeNatively(r) || n) ? 'maybe' : '';
            },
          };
        X('avc1.4d400d,mp4a.40.2') &&
          Ua.getTech('Html5').registerSourceHandler(Qu, 0),
          (Ua.VhsHandler = Xu),
          Object.defineProperty(Ua, 'HlsHandler', {
            get: function () {
              return (
                Ua.log.warn(
                  'videojs.HlsHandler is deprecated. Use videojs.VhsHandler instead.',
                ),
                Xu
              );
            },
            configurable: !0,
          }),
          (Ua.VhsSourceHandler = Qu),
          Object.defineProperty(Ua, 'HlsSourceHandler', {
            get: function () {
              return (
                Ua.log.warn(
                  'videojs.HlsSourceHandler is deprecated. Use videojs.VhsSourceHandler instead.',
                ),
                Qu
              );
            },
            configurable: !0,
          }),
          (Ua.Vhs = Wu),
          Object.defineProperty(Ua, 'Hls', {
            get: function () {
              return (
                Ua.log.warn(
                  'videojs.Hls is deprecated. Use videojs.Vhs instead.',
                ),
                Wu
              );
            },
            configurable: !0,
          }),
          Ua.use ||
            (Ua.registerComponent('Hls', Wu), Ua.registerComponent('Vhs', Wu)),
          (Ua.options.vhs = Ua.options.vhs || {}),
          (Ua.options.hls = Ua.options.hls || {}),
          Ua.registerPlugin
            ? Ua.registerPlugin('reloadSourceOnError', Uu)
            : Ua.plugin('reloadSourceOnError', Uu);
        const Gu = Ua;
      },
      561: (e, t, i) => {
        var n,
          r = void 0 !== i.g ? i.g : 'undefined' != typeof window ? window : {},
          s = i(586);
        'undefined' != typeof document
          ? (n = document)
          : (n = r['__GLOBAL_DOCUMENT_CACHE@4']) ||
            (n = r['__GLOBAL_DOCUMENT_CACHE@4'] = s),
          (e.exports = n);
      },
      661: (e, t, i) => {
        var n;
        (n =
          'undefined' != typeof window
            ? window
            : void 0 !== i.g
              ? i.g
              : 'undefined' != typeof self
                ? self
                : {}),
          (e.exports = n);
      },
      386: function (e, t, i) {
        e.exports = (function (e, t, i) {
          'use strict';
          (e = e && e.hasOwnProperty('default') ? e.default : e),
            (t = t && t.hasOwnProperty('default') ? t.default : t),
            (i = i && i.hasOwnProperty('default') ? i.default : i);
          var n = '6.9.0',
            r = function (e, t) {
              (t.isImmediatePropagationStopped = function () {
                return !0;
              }),
                (t.cancelBubble = !0),
                (t.isPropagationStopped = function () {
                  return !0;
                });
            },
            s = function (e, t, i) {
              r(0, i), e.trigger({ type: t + i.type, originalEvent: i });
            },
            a = function (e, t) {
              e.ads.isInAdMode() &&
                (e.ads.isContentResuming()
                  ? e.ads._contentEnding && s(e, 'content', t)
                  : s(e, 'ad', t));
            },
            o = function (e, t) {
              e.ads.isInAdMode()
                ? e.ads.isContentResuming()
                  ? (r(0, t), e.trigger('resumeended'))
                  : s(e, 'ad', t)
                : e.ads._contentHasEnded ||
                  e.ads.stitchedAds() ||
                  (s(e, 'content', t), e.trigger('readyforpostroll'));
            },
            l = function (e, t) {
              if (
                !(
                  ('loadstart' === t.type &&
                    !e.ads._hasThereBeenALoadStartDuringPlayerLife) ||
                  ('loadeddata' === t.type &&
                    !e.ads._hasThereBeenALoadedData) ||
                  ('loadedmetadata' === t.type &&
                    !e.ads._hasThereBeenALoadedMetaData)
                )
              )
                if (e.ads.inAdBreak()) s(e, 'ad', t);
                else {
                  if (e.currentSrc() !== e.ads.contentSrc) return;
                  s(e, 'content', t);
                }
            },
            u = function (e, t) {
              e.ads.inAdBreak()
                ? s(e, 'ad', t)
                : e.ads.isContentResuming() && s(e, 'content', t);
            };
          function d(e) {
            'playing' === e.type
              ? a(this, e)
              : 'ended' === e.type
                ? o(this, e)
                : 'loadstart' === e.type ||
                    'loadeddata' === e.type ||
                    'loadedmetadata' === e.type
                  ? l(this, e)
                  : 'play' === e.type
                    ? u(this, e)
                    : this.ads.isInAdMode() &&
                      (this.ads.isContentResuming()
                        ? s(this, 'content', e)
                        : s(this, 'ad', e));
          }
          var c = {},
            h = function () {
              !(function (i) {
                if (e.dom.isInFrame() && 'function' != typeof t.__tcfapi) {
                  for (var n, r = t, s = {}; r; ) {
                    try {
                      if (r.frames.__tcfapiLocator) {
                        n = r;
                        break;
                      }
                    } catch (e) {}
                    if (r === t.top) break;
                    r = r.parent;
                  }
                  if (!n) return;
                  (t.__tcfapi = function (e, t, i, r) {
                    var a = Math.random() + '',
                      o = {
                        __tcfapiCall: {
                          command: e,
                          parameter: r,
                          version: t,
                          callId: a,
                        },
                      };
                    (s[a] = i), n.postMessage(o, '*');
                  }),
                    t.addEventListener(
                      'message',
                      function (e) {
                        var t = {};
                        try {
                          t =
                            'string' == typeof e.data
                              ? JSON.parse(e.data)
                              : e.data;
                        } catch (e) {}
                        var i = t.__tcfapiReturn;
                        i &&
                          'function' == typeof s[i.callId] &&
                          (s[i.callId](i.returnValue, i.success),
                          (s[i.callId] = null));
                      },
                      !1,
                    );
                }
              })(),
                'function' == typeof t.__tcfapi &&
                  t.__tcfapi('addEventListener', 2, function (e, t) {
                    t && (c = e);
                  });
            },
            p = function (e, t) {
              return t ? encodeURIComponent(e) : e;
            },
            f = function (e, t, i) {
              if (e && e[i])
                for (var n = e[i], r = Object.keys(n), s = 0; s < r.length; s++)
                  t['{mediainfo.' + i + '.' + r[s] + '}'] = n[r[s]];
            },
            m = {
              processMetadataTracks: function (e, t) {
                for (
                  var i = e.textTracks(),
                    n = function (i) {
                      'metadata' === i.kind &&
                        (e.ads.cueTextTracks.setMetadataTrackMode(i), t(e, i));
                    },
                    r = 0;
                  r < i.length;
                  r++
                )
                  n(i[r]);
                i.addEventListener('addtrack', function (e) {
                  n(e.track);
                });
              },
              setMetadataTrackMode: function (e) {},
              getSupportedAdCue: function (e, t) {
                return t;
              },
              isSupportedAdCue: function (e, t) {
                return !0;
              },
              getCueId: function (e, t) {
                return t.id;
              },
            },
            g = function (e, t) {
              return void 0 !== t && e.ads.includedCues[t];
            },
            v = function (e, t) {
              void 0 !== t && '' !== t && (e.ads.includedCues[t] = !0);
            };
          function y() {
            !1 !== this.ads._shouldBlockPlay &&
              (this.paused() ||
                (this.ads.debug('Playback was canceled by cancelContentPlay'),
                this.pause()),
              (this.ads._cancelledPlay = !0));
          }
          m.processAdTrack = function (t, i, n, r) {
            t.ads.includedCues = {};
            for (var s = 0; s < i.length; s++) {
              var a = i[s],
                o = this.getSupportedAdCue(t, a);
              if (!this.isSupportedAdCue(t, a))
                return void e.log.warn(
                  'Skipping as this is not a supported ad cue.',
                  a,
                );
              var l = this.getCueId(t, a),
                u = a.startTime;
              if (g(t, l))
                return void e.log('Skipping ad already seen with ID ' + l);
              r && r(t, o, l, u), n(t, o, l, u), v(t, l);
            }
          };
          var A = {},
            b = e;
          (A.isMiddlewareMediatorSupported = function () {
            return (
              !b.browser.IS_IOS &&
              !b.browser.IS_ANDROID &&
              !!(b.use && b.middleware && b.middleware.TERMINATOR)
            );
          }),
            (A.playMiddleware = function (t) {
              return {
                setSource: function (e, t) {
                  t(null, e);
                },
                callPlay: function () {
                  if (t.ads && !0 === t.ads._shouldBlockPlay)
                    return (
                      t.ads.debug(
                        'Using playMiddleware to block content playback',
                      ),
                      (t.ads._playBlocked = !0),
                      b.middleware.TERMINATOR
                    );
                },
                play: function (i, n) {
                  t.ads && t.ads._playBlocked && i
                    ? (t.ads.debug('Play call to Tech was terminated.'),
                      t.trigger('play'),
                      t.addClass('vjs-has-started'),
                      (t.ads._playBlocked = !1))
                    : n &&
                      n.catch &&
                      n.catch(function (i) {
                        'NotAllowedError' !== i.name ||
                          e.browser.IS_SAFARI ||
                          t.trigger('pause');
                      });
                },
              };
            }),
            (A.testHook = function (e) {
              b = e;
            });
          var T = A.playMiddleware,
            S = A.isMiddlewareMediatorSupported,
            w = function () {
              if (e.getPlugin) return Boolean(e.getPlugin('ads'));
              var t = e.getComponent('Player');
              return Boolean(t && t.prototype.ads);
            },
            k = (function () {
              function e() {}
              return (
                (e.getState = function (t) {
                  if (t)
                    return e.states_ && e.states_[t] ? e.states_[t] : void 0;
                }),
                (e.registerState = function (t, i) {
                  if ('string' != typeof t || !t)
                    throw new Error(
                      'Illegal state name, "' +
                        t +
                        '"; must be a non-empty string.',
                    );
                  return e.states_ || (e.states_ = {}), (e.states_[t] = i), i;
                }),
                e
              );
            })(),
            _ = (function () {
              function t(e) {
                this.player = e;
              }
              t._getName = function () {
                return 'Anonymous State';
              };
              var i = t.prototype;
              return (
                (i.transitionTo = function (e) {
                  var t = this.player;
                  this.cleanup(t);
                  var i = new e(t);
                  (t.ads._state = i),
                    t.ads.debug(
                      this.constructor._getName() +
                        ' -> ' +
                        i.constructor._getName(),
                    );
                  for (
                    var n = arguments.length,
                      r = new Array(n > 1 ? n - 1 : 0),
                      s = 1;
                    s < n;
                    s++
                  )
                    r[s - 1] = arguments[s];
                  i.init.apply(i, [t].concat(r));
                }),
                (i.init = function () {}),
                (i.cleanup = function () {}),
                (i.onPlay = function () {}),
                (i.onPlaying = function () {}),
                (i.onEnded = function () {}),
                (i.onAdEnded = function () {}),
                (i.onAdsReady = function () {
                  e.log.warn('Unexpected adsready event');
                }),
                (i.onAdsError = function () {}),
                (i.onAdsCanceled = function () {}),
                (i.onAdTimeout = function () {}),
                (i.onAdStarted = function () {}),
                (i.onContentChanged = function () {}),
                (i.onContentResumed = function () {}),
                (i.onReadyForPostroll = function () {
                  e.log.warn('Unexpected readyforpostroll event');
                }),
                (i.onNoPreroll = function () {}),
                (i.onNoPostroll = function () {}),
                (i.startLinearAdMode = function () {
                  e.log.warn(
                    'Unexpected startLinearAdMode invocation (State via ' +
                      this.constructor._getName() +
                      ')',
                  );
                }),
                (i.endLinearAdMode = function () {
                  e.log.warn(
                    'Unexpected endLinearAdMode invocation (State via ' +
                      this.constructor._getName() +
                      ')',
                  );
                }),
                (i.skipLinearAdMode = function () {
                  e.log.warn(
                    'Unexpected skipLinearAdMode invocation (State via ' +
                      this.constructor._getName() +
                      ')',
                  );
                }),
                (i.isAdState = function () {
                  throw new Error(
                    'isAdState unimplemented for ' +
                      this.constructor._getName(),
                  );
                }),
                (i.isWaitingForAdBreak = function () {
                  return !1;
                }),
                (i.isContentResuming = function () {
                  return !1;
                }),
                (i.inAdBreak = function () {
                  return !1;
                }),
                (i.handleEvent = function (e) {
                  var t = this.player;
                  'play' === e
                    ? this.onPlay(t)
                    : 'adsready' === e
                      ? this.onAdsReady(t)
                      : 'adserror' === e
                        ? this.onAdsError(t)
                        : 'adscanceled' === e
                          ? this.onAdsCanceled(t)
                          : 'adtimeout' === e
                            ? this.onAdTimeout(t)
                            : 'ads-ad-started' === e
                              ? this.onAdStarted(t)
                              : 'contentchanged' === e
                                ? this.onContentChanged(t)
                                : 'contentresumed' === e
                                  ? this.onContentResumed(t)
                                  : 'readyforpostroll' === e
                                    ? this.onReadyForPostroll(t)
                                    : 'playing' === e
                                      ? this.onPlaying(t)
                                      : 'ended' === e
                                        ? this.onEnded(t)
                                        : 'nopreroll' === e
                                          ? this.onNoPreroll(t)
                                          : 'nopostroll' === e
                                            ? this.onNoPostroll(t)
                                            : 'adended' === e &&
                                              this.onAdEnded(t);
                }),
                t
              );
            })();
          function C(e, t) {
            (e.prototype = Object.create(t.prototype)),
              (e.prototype.constructor = e),
              (e.__proto__ = t);
          }
          k.registerState('State', _);
          var E = (function (e) {
            function t(t) {
              var i;
              return (
                ((i = e.call(this, t) || this).contentResuming = !1),
                (i.waitingForAdBreak = !1),
                i
              );
            }
            C(t, e);
            var i = t.prototype;
            return (
              (i.isAdState = function () {
                return !0;
              }),
              (i.onPlaying = function () {
                var e = k.getState('ContentPlayback');
                this.contentResuming && this.transitionTo(e);
              }),
              (i.onContentResumed = function () {
                var e = k.getState('ContentPlayback');
                this.contentResuming && this.transitionTo(e);
              }),
              (i.isWaitingForAdBreak = function () {
                return this.waitingForAdBreak;
              }),
              (i.isContentResuming = function () {
                return this.contentResuming;
              }),
              (i.inAdBreak = function () {
                return !0 === this.player.ads._inLinearAdMode;
              }),
              t
            );
          })(_);
          k.registerState('AdState', E);
          var j = (function (e) {
            function t() {
              return e.apply(this, arguments) || this;
            }
            C(t, e);
            var i = t.prototype;
            return (
              (i.isAdState = function () {
                return !1;
              }),
              (i.onContentChanged = function (e) {
                var t = k.getState('BeforePreroll'),
                  i = k.getState('Preroll');
                e.ads.debug('Received contentchanged event (ContentState)'),
                  e.paused()
                    ? this.transitionTo(t)
                    : (this.transitionTo(i, !1),
                      e.pause(),
                      (e.ads._pausedOnContentupdate = !0));
              }),
              t
            );
          })(_);
          k.registerState('ContentState', j);
          var P,
            I = (function (t) {
              function i() {
                return t.apply(this, arguments) || this;
              }
              C(i, t),
                (i._getName = function () {
                  return 'AdsDone';
                });
              var n = i.prototype;
              return (
                (n.init = function (e) {
                  (e.ads._contentHasEnded = !0), e.trigger('ended');
                }),
                (n.startLinearAdMode = function () {
                  e.log.warn(
                    'Unexpected startLinearAdMode invocation (AdsDone)',
                  );
                }),
                i
              );
            })(k.getState('ContentState'));
          k.registerState('AdsDone', I);
          var x = {
              start: function (t) {
                t.ads.debug('Starting ad break'),
                  (t.ads._inLinearAdMode = !0),
                  t.trigger('adstart'),
                  t.ads.shouldTakeSnapshots() &&
                    (t.ads.snapshot = (function (t) {
                      var i;
                      i =
                        e.browser.IS_IOS &&
                        t.ads.isLive(t) &&
                        t.seekable().length > 0
                          ? t.currentTime() - t.seekable().end(0)
                          : t.currentTime();
                      var n = t.$('.vjs-tech'),
                        r = t.textTracks ? t.textTracks() : [],
                        s = [],
                        a = {
                          ended: t.ended(),
                          currentSrc: t.currentSrc(),
                          sources: t.currentSources(),
                          src: t.tech_.src(),
                          currentTime: i,
                          type: t.currentType(),
                        };
                      n && (a.style = n.getAttribute('style'));
                      for (var o = 0; o < r.length; o++) {
                        var l = r[o];
                        s.push({ track: l, mode: l.mode }),
                          (l.mode = 'disabled');
                      }
                      return (a.suppressedTracks = s), a;
                    })(t)),
                  t.ads.shouldPlayContentBehindAd(t) &&
                    ((t.ads.preAdVolume_ = t.volume()), t.volume(0)),
                  t.addClass('vjs-ad-playing'),
                  t.hasClass('vjs-live') && t.removeClass('vjs-live'),
                  t.ads.removeNativePoster();
              },
              end: function (t, i) {
                t.ads.debug('Ending ad break'),
                  void 0 === i && (i = function () {}),
                  (t.ads.adType = null),
                  (t.ads._inLinearAdMode = !1),
                  t.trigger('adend'),
                  t.removeClass('vjs-ad-playing'),
                  t.ads.isLive(t) && t.addClass('vjs-live'),
                  t.ads.shouldTakeSnapshots()
                    ? (function (t, i) {
                        var n = t.ads.snapshot;
                        if (
                          (void 0 === i && (i = function () {}),
                          !0 === t.ads.disableNextSnapshotRestore)
                        )
                          return (
                            (t.ads.disableNextSnapshotRestore = !1),
                            delete t.ads.snapshot,
                            void i()
                          );
                        var r,
                          s = t.$('.vjs-tech'),
                          a = 20,
                          o = n.suppressedTracks,
                          l = function () {
                            for (var e = 0; e < o.length; e++)
                              (r = o[e]).track.mode = r.mode;
                          },
                          u = function () {
                            var i;
                            if (e.browser.IS_IOS && t.ads.isLive(t)) {
                              if (
                                (n.currentTime < 0 &&
                                  ((i =
                                    t.seekable().length > 0
                                      ? t.seekable().end(0) + n.currentTime
                                      : t.currentTime()),
                                  t.currentTime(i)),
                                t.paused())
                              ) {
                                var r = t.play();
                                r &&
                                  r.catch &&
                                  r.catch(function (t) {
                                    e.log.warn(
                                      'Play promise rejected in IOS snapshot resume',
                                      t,
                                    );
                                  });
                              }
                            } else if (n.ended) t.currentTime(t.duration());
                            else {
                              t.currentTime(n.currentTime);
                              var s = t.play();
                              s &&
                                s.catch &&
                                s.catch(function (t) {
                                  e.log.warn(
                                    'Play promise rejected in snapshot resume',
                                    t,
                                  );
                                });
                            }
                            t.ads.shouldRemoveAutoplay_ &&
                              (t.autoplay(!1),
                              (t.ads.shouldRemoveAutoplay_ = !1));
                          },
                          d = function i() {
                            if (
                              (t.off('contentcanplay', i),
                              P && t.clearTimeout(P),
                              (s = t.el().querySelector('.vjs-tech'))
                                .readyState > 1)
                            )
                              return u();
                            if (void 0 === s.seekable) return u();
                            if (s.seekable.length > 0) return u();
                            if (a--) t.setTimeout(i, 50);
                            else
                              try {
                                u();
                              } catch (t) {
                                e.log.warn(
                                  'Failed to resume the content after an advertisement',
                                  t,
                                );
                              }
                          };
                        if (
                          ('style' in n &&
                            s.setAttribute('style', n.style || ''),
                          t.ads.videoElementRecycled())
                        )
                          t.one('resumeended', function () {
                            delete t.ads.snapshot, i();
                          }),
                            t.one('contentloadedmetadata', l),
                            e.browser.IS_IOS &&
                              !t.autoplay() &&
                              (t.autoplay(!0),
                              (t.ads.shouldRemoveAutoplay_ = !0)),
                            t.src(n.sources),
                            t.one('contentcanplay', d),
                            (P = t.setTimeout(d, 2e3));
                        else {
                          if ((l(), !t.ended())) {
                            var c = t.play();
                            c &&
                              c.catch &&
                              c.catch(function (t) {
                                e.log.warn(
                                  'Play promise rejected in snapshot restore',
                                  t,
                                );
                              });
                          }
                          delete t.ads.snapshot, i();
                        }
                      })(t, i)
                    : (t.volume(t.ads.preAdVolume_), i());
              },
            },
            L = (function (t) {
              function i() {
                return t.apply(this, arguments) || this;
              }
              C(i, t),
                (i._getName = function () {
                  return 'Preroll';
                });
              var n = i.prototype;
              return (
                (n.init = function (e, t, i) {
                  if (
                    ((this.waitingForAdBreak = !0),
                    e.addClass('vjs-ad-loading'),
                    i || e.ads.nopreroll_)
                  )
                    return this.resumeAfterNoPreroll(e);
                  var n = e.ads.settings.timeout;
                  'number' == typeof e.ads.settings.prerollTimeout &&
                    (n = e.ads.settings.prerollTimeout),
                    (this._timeout = e.setTimeout(function () {
                      e.trigger('adtimeout');
                    }, n)),
                    t ? this.handleAdsReady() : (this.adsReady = !1);
                }),
                (n.onAdsReady = function (t) {
                  t.ads.inAdBreak()
                    ? e.log.warn('Unexpected adsready event (Preroll)')
                    : (t.ads.debug('Received adsready event (Preroll)'),
                      this.handleAdsReady());
                }),
                (n.handleAdsReady = function () {
                  (this.adsReady = !0), this.readyForPreroll();
                }),
                (n.afterLoadStart = function (e) {
                  var t = this.player;
                  t.ads._hasThereBeenALoadStartDuringPlayerLife
                    ? e()
                    : (t.ads.debug('Waiting for loadstart...'),
                      t.one('loadstart', function () {
                        t.ads.debug('Received loadstart event'), e();
                      }));
                }),
                (n.noPreroll = function () {
                  var e = this;
                  this.afterLoadStart(function () {
                    e.player.ads.debug(
                      'Skipping prerolls due to nopreroll event (Preroll)',
                    ),
                      e.resumeAfterNoPreroll(e.player);
                  });
                }),
                (n.readyForPreroll = function () {
                  var e = this.player;
                  this.afterLoadStart(function () {
                    e.ads.debug('Triggered readyforpreroll event (Preroll)'),
                      e.trigger('readyforpreroll');
                  });
                }),
                (n.onAdsCanceled = function (e) {
                  var t = this;
                  e.ads.debug('adscanceled (Preroll)'),
                    this.afterLoadStart(function () {
                      t.resumeAfterNoPreroll(e);
                    });
                }),
                (n.onAdsError = function (t) {
                  var i = this;
                  e.log('adserror (Preroll)'),
                    this.inAdBreak()
                      ? t.ads.endLinearAdMode()
                      : this.afterLoadStart(function () {
                          i.resumeAfterNoPreroll(t);
                        });
                }),
                (n.startLinearAdMode = function () {
                  var t = this.player;
                  !this.adsReady ||
                  t.ads.inAdBreak() ||
                  this.isContentResuming()
                    ? e.log.warn(
                        'Unexpected startLinearAdMode invocation (Preroll)',
                      )
                    : (this.clearTimeout(t),
                      (t.ads.adType = 'preroll'),
                      (this.waitingForAdBreak = !1),
                      x.start(t),
                      (t.ads._shouldBlockPlay = !1));
                }),
                (n.onAdStarted = function (e) {
                  e.removeClass('vjs-ad-loading');
                }),
                (n.endLinearAdMode = function () {
                  var e = this.player;
                  this.inAdBreak() &&
                    (e.removeClass('vjs-ad-loading'),
                    e.addClass('vjs-ad-content-resuming'),
                    (this.contentResuming = !0),
                    x.end(e));
                }),
                (n.skipLinearAdMode = function () {
                  var t = this,
                    i = this.player;
                  i.ads.inAdBreak() || this.isContentResuming()
                    ? e.log.warn('Unexpected skipLinearAdMode invocation')
                    : this.afterLoadStart(function () {
                        i.trigger('adskip'),
                          i.ads.debug('skipLinearAdMode (Preroll)'),
                          t.resumeAfterNoPreroll(i);
                      });
                }),
                (n.onAdTimeout = function (e) {
                  var t = this;
                  this.afterLoadStart(function () {
                    e.ads.debug('adtimeout (Preroll)'),
                      t.resumeAfterNoPreroll(e);
                  });
                }),
                (n.onNoPreroll = function (t) {
                  t.ads.inAdBreak() || this.isContentResuming()
                    ? e.log.warn('Unexpected nopreroll event (Preroll)')
                    : this.noPreroll();
                }),
                (n.resumeAfterNoPreroll = function (e) {
                  if (
                    ((this.contentResuming = !0),
                    (e.ads._shouldBlockPlay = !1),
                    this.cleanupPartial(e),
                    e.ads._playRequested || e.ads._pausedOnContentupdate)
                  )
                    if (e.paused()) {
                      e.ads.debug(
                        'resumeAfterNoPreroll: attempting to resume playback (Preroll)',
                      );
                      var t = e.play();
                      t && t.then && t.then(null, function (e) {});
                    } else
                      e.ads.debug(
                        'resumeAfterNoPreroll: already playing (Preroll)',
                      ),
                        e.trigger('play'),
                        e.trigger('playing');
                }),
                (n.cleanup = function (t) {
                  t.ads._hasThereBeenALoadStartDuringPlayerLife ||
                    e.log.warn(
                      'Leaving Preroll state before loadstart event can cause issues.',
                    ),
                    this.cleanupPartial(t);
                }),
                (n.cleanupPartial = function (e) {
                  e.removeClass('vjs-ad-loading'),
                    e.removeClass('vjs-ad-content-resuming'),
                    this.clearTimeout(e);
                }),
                (n.clearTimeout = function (e) {
                  e.clearTimeout(this._timeout), (this._timeout = null);
                }),
                i
              );
            })(k.getState('AdState'));
          k.registerState('Preroll', L);
          var D = (function (e) {
            function t() {
              return e.apply(this, arguments) || this;
            }
            C(t, e),
              (t._getName = function () {
                return 'BeforePreroll';
              });
            var i = t.prototype;
            return (
              (i.init = function (e) {
                (this.adsReady = !1),
                  (this.shouldResumeToContent = !1),
                  (e.ads._shouldBlockPlay =
                    !e.ads.settings.allowVjsAutoplay || !e.autoplay());
              }),
              (i.onAdsReady = function (e) {
                e.ads.debug('Received adsready event (BeforePreroll)'),
                  (this.adsReady = !0);
              }),
              (i.onPlay = function (e) {
                var t = k.getState('Preroll');
                e.ads.debug('Received play event (BeforePreroll)'),
                  this.transitionTo(
                    t,
                    this.adsReady,
                    this.shouldResumeToContent,
                  );
              }),
              (i.onAdsCanceled = function (e) {
                e.ads.debug('adscanceled (BeforePreroll)'),
                  (this.shouldResumeToContent = !0);
              }),
              (i.onAdsError = function () {
                this.player.ads.debug('adserror (BeforePreroll)'),
                  (this.shouldResumeToContent = !0);
              }),
              (i.onNoPreroll = function () {
                this.player.ads.debug(
                  'Skipping prerolls due to nopreroll event (BeforePreroll)',
                ),
                  (this.shouldResumeToContent = !0);
              }),
              (i.skipLinearAdMode = function () {
                var e = this.player;
                e.trigger('adskip'),
                  e.ads.debug('skipLinearAdMode (BeforePreroll)'),
                  (this.shouldResumeToContent = !0);
              }),
              (i.onContentChanged = function () {
                this.init(this.player);
              }),
              t
            );
          })(k.getState('ContentState'));
          k.registerState('BeforePreroll', D);
          var R = (function (e) {
            function t() {
              return e.apply(this, arguments) || this;
            }
            C(t, e),
              (t._getName = function () {
                return 'Midroll';
              });
            var i = t.prototype;
            return (
              (i.init = function (e) {
                (e.ads.adType = 'midroll'),
                  x.start(e),
                  e.addClass('vjs-ad-loading');
              }),
              (i.onAdStarted = function (e) {
                e.removeClass('vjs-ad-loading');
              }),
              (i.endLinearAdMode = function () {
                var e = this.player;
                this.inAdBreak() &&
                  ((this.contentResuming = !0),
                  e.addClass('vjs-ad-content-resuming'),
                  e.removeClass('vjs-ad-loading'),
                  x.end(e));
              }),
              (i.onAdsError = function (e) {
                this.inAdBreak() && e.ads.endLinearAdMode();
              }),
              (i.cleanup = function (e) {
                e.removeClass('vjs-ad-loading'),
                  e.removeClass('vjs-ad-content-resuming');
              }),
              t
            );
          })(k.getState('AdState'));
          k.registerState('Midroll', R);
          var O = (function (t) {
            function i() {
              return t.apply(this, arguments) || this;
            }
            C(i, t),
              (i._getName = function () {
                return 'Postroll';
              });
            var n = i.prototype;
            return (
              (n.init = function (e) {
                if (
                  ((this.waitingForAdBreak = !0),
                  (e.ads._contentEnding = !0),
                  e.ads.nopostroll_)
                ) {
                  this.resumeContent(e);
                  var t = k.getState('AdsDone');
                  this.transitionTo(t);
                } else {
                  e.addClass('vjs-ad-loading');
                  var i = e.ads.settings.timeout;
                  'number' == typeof e.ads.settings.postrollTimeout &&
                    (i = e.ads.settings.postrollTimeout),
                    (this._postrollTimeout = e.setTimeout(function () {
                      e.trigger('adtimeout');
                    }, i));
                }
              }),
              (n.startLinearAdMode = function () {
                var t = this.player;
                t.ads.inAdBreak() || this.isContentResuming()
                  ? e.log.warn(
                      'Unexpected startLinearAdMode invocation (Postroll)',
                    )
                  : ((t.ads.adType = 'postroll'),
                    t.clearTimeout(this._postrollTimeout),
                    (this.waitingForAdBreak = !1),
                    x.start(t));
              }),
              (n.onAdStarted = function (e) {
                e.removeClass('vjs-ad-loading');
              }),
              (n.endLinearAdMode = function () {
                var e = this,
                  t = this.player,
                  i = k.getState('AdsDone');
                this.inAdBreak() &&
                  (t.removeClass('vjs-ad-loading'),
                  this.resumeContent(t),
                  x.end(t, function () {
                    e.transitionTo(i);
                  }));
              }),
              (n.skipLinearAdMode = function () {
                var t = this.player;
                t.ads.inAdBreak() || this.isContentResuming()
                  ? e.log.warn('Unexpected skipLinearAdMode invocation')
                  : (t.ads.debug('Postroll abort (skipLinearAdMode)'),
                    t.trigger('adskip'),
                    this.abort(t));
              }),
              (n.onAdTimeout = function (e) {
                e.ads.debug('Postroll abort (adtimeout)'), this.abort(e);
              }),
              (n.onAdsError = function (e) {
                e.ads.debug('Postroll abort (adserror)'),
                  e.ads.inAdBreak() ? e.ads.endLinearAdMode() : this.abort(e);
              }),
              (n.onContentChanged = function (e) {
                if (this.isContentResuming()) {
                  var t = k.getState('BeforePreroll');
                  this.transitionTo(t);
                } else if (!this.inAdBreak()) {
                  var i = k.getState('Preroll');
                  this.transitionTo(i);
                }
              }),
              (n.onNoPostroll = function (t) {
                this.isContentResuming() || this.inAdBreak()
                  ? e.log.warn('Unexpected nopostroll event (Postroll)')
                  : this.abort(t);
              }),
              (n.resumeContent = function (e) {
                (this.contentResuming = !0),
                  e.addClass('vjs-ad-content-resuming');
              }),
              (n.abort = function (e) {
                var t = k.getState('AdsDone');
                this.resumeContent(e),
                  e.removeClass('vjs-ad-loading'),
                  this.transitionTo(t);
              }),
              (n.cleanup = function (e) {
                e.removeClass('vjs-ad-content-resuming'),
                  e.clearTimeout(this._postrollTimeout),
                  (e.ads._contentEnding = !1);
              }),
              i
            );
          })(k.getState('AdState'));
          k.registerState('Postroll', O);
          var M = (function (e) {
            function t() {
              return e.apply(this, arguments) || this;
            }
            C(t, e),
              (t._getName = function () {
                return 'ContentPlayback';
              });
            var i = t.prototype;
            return (
              (i.init = function (e) {
                e.ads._shouldBlockPlay = !1;
              }),
              (i.onAdsReady = function (e) {
                e.ads.debug('Received adsready event (ContentPlayback)'),
                  e.ads.nopreroll_ ||
                    (e.ads.debug(
                      'Triggered readyforpreroll event (ContentPlayback)',
                    ),
                    e.trigger('readyforpreroll'));
              }),
              (i.onReadyForPostroll = function (e) {
                var t = k.getState('Postroll');
                e.ads.debug('Received readyforpostroll event'),
                  this.transitionTo(t);
              }),
              (i.startLinearAdMode = function () {
                var e = k.getState('Midroll');
                this.transitionTo(e);
              }),
              t
            );
          })(k.getState('ContentState'));
          k.registerState('ContentPlayback', M);
          var N = (function (e) {
            function t() {
              return e.apply(this, arguments) || this;
            }
            C(t, e),
              (t._getName = function () {
                return 'StitchedContentPlayback';
              });
            var i = t.prototype;
            return (
              (i.init = function () {
                this.player.ads._shouldBlockPlay = !1;
              }),
              (i.onContentChanged = function () {
                this.player.ads.debug(
                  'Received contentchanged event (' +
                    this.constructor._getName() +
                    ')',
                );
              }),
              (i.startLinearAdMode = function () {
                var e = k.getState('StitchedAdRoll');
                this.transitionTo(e);
              }),
              t
            );
          })(k.getState('ContentState'));
          k.registerState('StitchedContentPlayback', N);
          var B = (function (e) {
            function t() {
              return e.apply(this, arguments) || this;
            }
            C(t, e),
              (t._getName = function () {
                return 'StitchedAdRoll';
              });
            var i = t.prototype;
            return (
              (i.init = function () {
                (this.waitingForAdBreak = !1),
                  (this.contentResuming = !1),
                  (this.player.ads.adType = 'stitched'),
                  x.start(this.player);
              }),
              (i.onPlaying = function () {}),
              (i.onContentResumed = function () {}),
              (i.onAdEnded = function () {
                this.endLinearAdMode(), this.player.trigger('ended');
              }),
              (i.endLinearAdMode = function () {
                var e = k.getState('StitchedContentPlayback');
                x.end(this.player), this.transitionTo(e);
              }),
              t
            );
          })(k.getState('AdState'));
          k.registerState('StitchedAdRoll', B);
          var U = A.isMiddlewareMediatorSupported,
            F = e.getTech('Html5').Events,
            W = {
              timeout: 5e3,
              prerollTimeout: void 0,
              postrollTimeout: void 0,
              debug: !1,
              stitchedAds: !1,
              contentIsLive: void 0,
              liveCuePoints: !0,
              allowVjsAutoplay: e.options.normalizeAutoplay || !1,
            },
            V = function (r) {
              var s = this,
                a = e.mergeOptions(W, r),
                o = [];
              F.concat(['firstplay', 'loadedalldata']).forEach(function (e) {
                -1 === o.indexOf(e) && o.push(e);
              }),
                s.on(o, d),
                U() ||
                  (function (t, i) {
                    i &&
                      e.log(
                        'Using cancelContentPlay to block content playback',
                      ),
                      t.on('play', y);
                  })(s, a.debug),
                s.setTimeout(function () {
                  s.ads._hasThereBeenALoadStartDuringPlayerLife ||
                    '' === s.src() ||
                    e.log.error(
                      'videojs-contrib-ads has not seen a loadstart event 5 seconds after being initialized, but a source is present. This indicates that videojs-contrib-ads was initialized too late. It must be initialized immediately after video.js in the same tick. As a result, some ads will not play and some media events will be incorrect. For more information, see http://videojs.github.io/videojs-contrib-ads/integrator/getting-started.html',
                    );
                }, 5e3),
                s.on('ended', function () {
                  s.hasClass('vjs-has-started') ||
                    s.addClass('vjs-has-started');
                }),
                s.on('contenttimeupdate', function () {
                  s.removeClass('vjs-waiting');
                }),
                s.on(['addurationchange', 'adcanplay'], function () {
                  if (
                    !s.ads.settings.stitchedAds &&
                    !s.hasStarted() &&
                    (!s.ads.snapshot ||
                      s.currentSrc() !== s.ads.snapshot.currentSrc) &&
                    s.ads.inAdBreak()
                  ) {
                    var t = s.play();
                    t &&
                      t.catch &&
                      t.catch(function (t) {
                        e.log.warn('Play promise rejected when playing ad', t);
                      });
                  }
                }),
                s.on('nopreroll', function () {
                  s.ads.debug('Received nopreroll event'),
                    (s.ads.nopreroll_ = !0);
                }),
                s.on('nopostroll', function () {
                  s.ads.debug('Received nopostroll event'),
                    (s.ads.nopostroll_ = !0);
                }),
                s.on('playing', function () {
                  (s.ads._cancelledPlay = !1),
                    (s.ads._pausedOnContentupdate = !1);
                }),
                s.on('play', function () {
                  s.ads._playRequested = !0;
                }),
                s.one('loadstart', function () {
                  s.ads._hasThereBeenALoadStartDuringPlayerLife = !0;
                }),
                s.on('loadeddata', function () {
                  s.ads._hasThereBeenALoadedData = !0;
                }),
                s.on('loadedmetadata', function () {
                  s.ads._hasThereBeenALoadedMetaData = !0;
                }),
                (s.ads = (function (t) {
                  return {
                    disableNextSnapshotRestore: !1,
                    _contentEnding: !1,
                    _contentHasEnded: !1,
                    _hasThereBeenALoadStartDuringPlayerLife: !1,
                    _hasThereBeenALoadedData: !1,
                    _hasThereBeenALoadedMetaData: !1,
                    _inLinearAdMode: !1,
                    _shouldBlockPlay: !1,
                    _playBlocked: !1,
                    _playRequested: !1,
                    adType: null,
                    VERSION: n,
                    reset: function () {
                      (t.ads.disableNextSnapshotRestore = !1),
                        (t.ads._contentEnding = !1),
                        (t.ads._contentHasEnded = !1),
                        (t.ads.snapshot = null),
                        (t.ads.adType = null),
                        (t.ads._hasThereBeenALoadedData = !1),
                        (t.ads._hasThereBeenALoadedMetaData = !1),
                        (t.ads._cancelledPlay = !1),
                        (t.ads._shouldBlockPlay = !1),
                        (t.ads._playBlocked = !1),
                        (t.ads.nopreroll_ = !1),
                        (t.ads.nopostroll_ = !1),
                        (t.ads._playRequested = !1);
                    },
                    startLinearAdMode: function () {
                      t.ads._state.startLinearAdMode();
                    },
                    endLinearAdMode: function () {
                      t.ads._state.endLinearAdMode();
                    },
                    skipLinearAdMode: function () {
                      t.ads._state.skipLinearAdMode();
                    },
                    stitchedAds: function (t) {
                      return (
                        void 0 !== t &&
                          (e.log.warn(
                            'Using player.ads.stitchedAds() as a setter is deprecated, it should be set as an option upon initialization of contrib-ads.',
                          ),
                          (this.settings.stitchedAds = !!t)),
                        this.settings.stitchedAds
                      );
                    },
                    videoElementRecycled: function () {
                      if (t.ads.shouldPlayContentBehindAd(t)) return !1;
                      if (!this.snapshot)
                        throw new Error(
                          'You cannot use videoElementRecycled while there is no snapshot.',
                        );
                      var e = t.tech_.src() !== this.snapshot.src,
                        i = t.currentSrc() !== this.snapshot.currentSrc;
                      return e || i;
                    },
                    isLive: function (i) {
                      return (
                        void 0 === i && (i = t),
                        'boolean' == typeof i.ads.settings.contentIsLive
                          ? i.ads.settings.contentIsLive
                          : i.duration() === 1 / 0 ||
                            ('8' === e.browser.IOS_VERSION &&
                              0 === i.duration())
                      );
                    },
                    shouldPlayContentBehindAd: function (i) {
                      if ((void 0 === i && (i = t), i))
                        return (
                          !!i.ads.settings.liveCuePoints &&
                          !e.browser.IS_IOS &&
                          !e.browser.IS_ANDROID &&
                          i.duration() === 1 / 0
                        );
                      throw new Error(
                        'shouldPlayContentBehindAd requires a player as a param',
                      );
                    },
                    shouldTakeSnapshots: function (e) {
                      return (
                        void 0 === e && (e = t),
                        !this.shouldPlayContentBehindAd(e) &&
                          !this.stitchedAds()
                      );
                    },
                    isInAdMode: function () {
                      return this._state.isAdState();
                    },
                    isWaitingForAdBreak: function () {
                      return this._state.isWaitingForAdBreak();
                    },
                    isContentResuming: function () {
                      return this._state.isContentResuming();
                    },
                    isAdPlaying: function () {
                      return this._state.inAdBreak();
                    },
                    inAdBreak: function () {
                      return this._state.inAdBreak();
                    },
                    removeNativePoster: function () {
                      var e = t.$('.vjs-tech');
                      e && e.removeAttribute('poster');
                    },
                    debug: function () {
                      if (this.settings.debug) {
                        for (
                          var t = arguments.length, i = new Array(t), n = 0;
                          n < t;
                          n++
                        )
                          i[n] = arguments[n];
                        1 === i.length && 'string' == typeof i[0]
                          ? e.log('ADS: ' + i[0])
                          : e.log.apply(e, ['ADS:'].concat(i));
                      }
                    },
                  };
                })(s)),
                (s.ads.settings = a),
                (a.stitchedAds = !!a.stitchedAds),
                a.stitchedAds
                  ? (s.ads._state = new (k.getState('StitchedContentPlayback'))(
                      s,
                    ))
                  : (s.ads._state = new (k.getState('BeforePreroll'))(s)),
                s.ads._state.init(s),
                (s.ads.cueTextTracks = m),
                (s.ads.adMacroReplacement = function (n, r, s) {
                  var a = this,
                    o = {};
                  (n = n.replace(/{([^}=]+)=([^}]+)}/g, function (e, t, i) {
                    return (o['{' + t + '}'] = i), '{' + t + '}';
                  })),
                    void 0 === r && (r = !1);
                  var l = {};
                  for (var u in (void 0 !== s && (l = s),
                  (l['{player.id}'] = this.options_['data-player'] || this.id_),
                  (l['{player.height}'] = this.currentHeight()),
                  (l['{player.width}'] = this.currentWidth()),
                  (l['{mediainfo.id}'] = this.mediainfo
                    ? this.mediainfo.id
                    : ''),
                  (l['{mediainfo.name}'] = this.mediainfo
                    ? this.mediainfo.name
                    : ''),
                  (l['{mediainfo.duration}'] = this.mediainfo
                    ? this.mediainfo.duration
                    : ''),
                  (l['{player.duration}'] = this.duration()),
                  (l['{player.pageUrl}'] = e.dom.isInFrame()
                    ? i.referrer
                    : t.location.href),
                  (l['{playlistinfo.id}'] = this.playlistinfo
                    ? this.playlistinfo.id
                    : ''),
                  (l['{playlistinfo.name}'] = this.playlistinfo
                    ? this.playlistinfo.name
                    : ''),
                  (l['{timestamp}'] = new Date().getTime()),
                  (l['{document.referrer}'] = i.referrer),
                  (l['{window.location.href}'] = t.location.href),
                  (l['{random}'] = Math.floor(1e12 * Math.random())),
                  ['description', 'tags', 'reference_id', 'ad_keys'].forEach(
                    function (e) {
                      a.mediainfo && a.mediainfo[e]
                        ? (l['{mediainfo.' + e + '}'] = a.mediainfo[e])
                        : o['{mediainfo.' + e + '}']
                          ? (l['{mediainfo.' + e + '}'] =
                              o['{mediainfo.' + e + '}'])
                          : (l['{mediainfo.' + e + '}'] = '');
                    },
                  ),
                  f(this.mediainfo, l, 'custom_fields'),
                  f(this.mediainfo, l, 'customFields'),
                  Object.keys(c).forEach(function (e) {
                    l['{tcf.' + e + '}'] = c[e];
                  }),
                  (l['{tcf.gdprAppliesInt}'] = c.gdprApplies ? 1 : 0),
                  l))
                    n = n.split(u).join(p(l[u], r));
                  for (var d in ((n = n.replace(
                    /{pageVariable\.([^}]+)}/g,
                    function (i, n) {
                      for (
                        var s, a = t, l = n.split('.'), u = 0;
                        u < l.length;
                        u++
                      )
                        u === l.length - 1 ? (s = a[l[u]]) : (a = a[l[u]]);
                      var d = typeof s;
                      return null === s
                        ? 'null'
                        : void 0 === s
                          ? o['{pageVariable.' + n + '}']
                            ? o['{pageVariable.' + n + '}']
                            : (e.log.warn(
                                'Page variable "' + n + '" not found',
                              ),
                              '')
                          : 'string' !== d && 'number' !== d && 'boolean' !== d
                            ? (e.log.warn(
                                'Page variable "' +
                                  n +
                                  '" is not a supported type',
                              ),
                              '')
                            : p(String(s), r);
                    },
                  )),
                  o))
                    n = n.replace(d, o[d]);
                  return n;
                }.bind(s)),
                (function (e) {
                  (e.ads.contentSrc = e.currentSrc()),
                    (e.ads._seenInitialLoadstart = !1),
                    e.on('loadstart', function () {
                      if (!e.ads.inAdBreak()) {
                        var t = e.currentSrc();
                        t !== e.ads.contentSrc &&
                          (e.ads._seenInitialLoadstart &&
                            e.trigger({ type: 'contentchanged' }),
                          e.trigger({
                            type: 'contentupdate',
                            oldValue: e.ads.contentSrc,
                            newValue: t,
                          }),
                          (e.ads.contentSrc = t)),
                          (e.ads._seenInitialLoadstart = !0);
                      }
                    });
                })(s),
                s.on('contentchanged', s.ads.reset);
              var l = function () {
                var t = s.textTracks();
                if (
                  !s.ads.shouldPlayContentBehindAd(s) &&
                  s.ads.inAdBreak() &&
                  s.tech_.featuresNativeTextTracks &&
                  e.browser.IS_IOS &&
                  !Array.isArray(s.textTracks())
                )
                  for (var i = 0; i < t.length; i++) {
                    var n = t[i];
                    'showing' === n.mode && (n.mode = 'disabled');
                  }
              };
              s.ready(function () {
                s.textTracks().addEventListener('change', l);
              }),
                s.on(
                  [
                    'play',
                    'playing',
                    'ended',
                    'adsready',
                    'adscanceled',
                    'adskip',
                    'adserror',
                    'adtimeout',
                    'adended',
                    'ads-ad-started',
                    'contentchanged',
                    'dispose',
                    'contentresumed',
                    'readyforpostroll',
                    'nopreroll',
                    'nopostroll',
                  ],
                  function (e) {
                    s.ads._state.handleEvent(e.type);
                  },
                ),
                s.on('dispose', function () {
                  s.ads.reset(),
                    s.textTracks().removeEventListener('change', l);
                }),
                h(),
                (s.ads.listenToTcf = h);
            };
          return (
            (V.VERSION = n),
            (function (t) {
              !w(e) &&
                ((e.registerPlugin || e.plugin)('ads', t),
                S() &&
                  !e.usingContribAdsMiddleware_ &&
                  (e.use('*', T),
                  (e.usingContribAdsMiddleware_ = !0),
                  e.log.debug(
                    'Play middleware has been registered with videojs',
                  )));
            })(V),
            V
          );
        })(i(668), i(908), i(144));
      },
      38: (e, t, i) => {
        var n, r, s;
        (s = function (e) {
          'use strict';
          'undefined' != typeof window &&
            (window.videojs_hotkeys = { version: '0.2.27' }),
            (e.registerPlugin || e.plugin)('hotkeys', function (t) {
              function i(e) {
                return 'function' == typeof u ? u(e) : u;
              }
              function n(e) {
                null != e &&
                  'function' == typeof e.then &&
                  e.then(null, function (e) {});
              }
              var r = this,
                s = r.el(),
                a = document,
                o = e.mergeOptions || e.util.mergeOptions,
                l = (t = o(
                  {
                    volumeStep: 0.1,
                    seekStep: 5,
                    enableMute: !0,
                    enableVolumeScroll: !0,
                    enableHoverScroll: !1,
                    enableFullscreen: !0,
                    enableNumbers: !0,
                    enableJogStyle: !1,
                    alwaysCaptureHotkeys: !1,
                    captureDocumentHotkeys: !1,
                    documentHotkeysFocusElementFilter: function () {
                      return !1;
                    },
                    enableModifiersForNumbers: !0,
                    enableInactiveFocus: !0,
                    skipInitialFocus: !1,
                    playPauseKey: function (e) {
                      return 32 === e.which || 179 === e.which;
                    },
                    rewindKey: function (e) {
                      return 37 === e.which || 177 === e.which;
                    },
                    forwardKey: function (e) {
                      return 39 === e.which || 176 === e.which;
                    },
                    volumeUpKey: function (e) {
                      return 38 === e.which;
                    },
                    volumeDownKey: function (e) {
                      return 40 === e.which;
                    },
                    muteKey: function (e) {
                      return 77 === e.which;
                    },
                    fullscreenKey: function (e) {
                      return 70 === e.which;
                    },
                    customKeys: {},
                  },
                  t || {},
                )).volumeStep,
                u = t.seekStep,
                d = t.enableMute,
                c = t.enableVolumeScroll,
                h = t.enableHoverScroll,
                p = t.enableFullscreen,
                f = t.enableNumbers,
                m = t.enableJogStyle,
                g = t.alwaysCaptureHotkeys,
                v = t.captureDocumentHotkeys,
                y = t.documentHotkeysFocusElementFilter,
                A = t.enableModifiersForNumbers,
                b = t.enableInactiveFocus,
                T = t.skipInitialFocus,
                S = e.VERSION;
              s.hasAttribute('tabIndex') || s.setAttribute('tabIndex', '-1'),
                (s.style.outline = 'none'),
                (!g && r.autoplay()) ||
                  T ||
                  r.one('play', function () {
                    s.focus();
                  }),
                b &&
                  r.on('userinactive', function () {
                    var e = function () {
                        clearTimeout(t);
                      },
                      t = setTimeout(function () {
                        r.off('useractive', e);
                        var t = a.activeElement,
                          i = s.querySelector('.vjs-control-bar');
                        t && t.parentElement == i && s.focus();
                      }, 10);
                    r.one('useractive', e);
                  }),
                r.on('play', function () {
                  var e = s.querySelector('.iframeblocker');
                  e &&
                    '' === e.style.display &&
                    ((e.style.display = 'block'), (e.style.bottom = '39px'));
                });
              var w = function (e) {
                  var o,
                    u,
                    c = e.which,
                    h = e.preventDefault.bind(e),
                    b = r.duration();
                  if (r.controls()) {
                    var T = a.activeElement;
                    if (
                      g ||
                      (v && y(T)) ||
                      T == s ||
                      T == s.querySelector('.vjs-tech') ||
                      T == s.querySelector('.vjs-control-bar') ||
                      T == s.querySelector('.iframeblocker')
                    )
                      switch (E(e, r)) {
                        case 1:
                          h(),
                            (g || v) && e.stopPropagation(),
                            r.paused() ? n(r.play()) : r.pause();
                          break;
                        case 2:
                          (o = !r.paused()),
                            h(),
                            o && r.pause(),
                            (u = r.currentTime() - i(e)) <= 0 && (u = 0),
                            r.currentTime(u),
                            o && n(r.play());
                          break;
                        case 3:
                          (o = !r.paused()),
                            h(),
                            o && r.pause(),
                            (u = r.currentTime() + i(e)) >= b &&
                              (u = o ? b - 0.001 : b),
                            r.currentTime(u),
                            o && n(r.play());
                          break;
                        case 5:
                          h(),
                            m
                              ? ((u = r.currentTime() - 1),
                                r.currentTime() <= 1 && (u = 0),
                                r.currentTime(u))
                              : r.volume(r.volume() - l);
                          break;
                        case 4:
                          h(),
                            m
                              ? ((u = r.currentTime() + 1) >= b && (u = b),
                                r.currentTime(u))
                              : r.volume(r.volume() + l);
                          break;
                        case 6:
                          d && r.muted(!r.muted());
                          break;
                        case 7:
                          p &&
                            (r.isFullscreen()
                              ? r.exitFullscreen()
                              : r.requestFullscreen());
                          break;
                        default:
                          if (
                            ((c > 47 && c < 59) || (c > 95 && c < 106)) &&
                            (A || !(e.metaKey || e.ctrlKey || e.altKey)) &&
                            f
                          ) {
                            var S = 48;
                            c > 95 && (S = 96);
                            var w = c - S;
                            h(), r.currentTime(r.duration() * w * 0.1);
                          }
                          for (var k in t.customKeys) {
                            var _ = t.customKeys[k];
                            _ &&
                              _.key &&
                              _.handler &&
                              _.key(e) &&
                              (h(), _.handler(r, t, e));
                          }
                      }
                  }
                },
                k = !1,
                _ =
                  s.querySelector('.vjs-volume-menu-button') ||
                  s.querySelector('.vjs-volume-panel');
              null != _ &&
                ((_.onmouseover = function () {
                  k = !0;
                }),
                (_.onmouseout = function () {
                  k = !1;
                }));
              var C = function (e) {
                  if (h) t = 0;
                  else var t = a.activeElement;
                  if (
                    r.controls() &&
                    (g ||
                      t == s ||
                      t == s.querySelector('.vjs-tech') ||
                      t == s.querySelector('.iframeblocker') ||
                      t == s.querySelector('.vjs-control-bar') ||
                      k) &&
                    c
                  ) {
                    e = window.event || e;
                    var i = Math.max(
                      -1,
                      Math.min(1, e.wheelDelta || -e.detail),
                    );
                    e.preventDefault(),
                      1 == i
                        ? r.volume(r.volume() + l)
                        : -1 == i && r.volume(r.volume() - l);
                  }
                },
                E = function (e, i) {
                  return t.playPauseKey(e, i)
                    ? 1
                    : t.rewindKey(e, i)
                      ? 2
                      : t.forwardKey(e, i)
                        ? 3
                        : t.volumeUpKey(e, i)
                          ? 4
                          : t.volumeDownKey(e, i)
                            ? 5
                            : t.muteKey(e, i)
                              ? 6
                              : t.fullscreenKey(e, i)
                                ? 7
                                : void 0;
                };
              return (
                r.on('keydown', w),
                r.on('dblclick', function (e) {
                  if (null != S && S <= '7.1.0' && r.controls()) {
                    var t = e.relatedTarget || e.toElement || a.activeElement;
                    (t != s &&
                      t != s.querySelector('.vjs-tech') &&
                      t != s.querySelector('.iframeblocker')) ||
                      (p &&
                        (r.isFullscreen()
                          ? r.exitFullscreen()
                          : r.requestFullscreen()));
                  }
                }),
                r.on('mousewheel', C),
                r.on('DOMMouseScroll', C),
                v &&
                  document.addEventListener('keydown', function (e) {
                    w(e);
                  }),
                this
              );
            });
        }),
          'undefined' != typeof window && window.videojs
            ? s(window.videojs)
            : ((n = [i(668)]),
              (r = function (e) {
                return s(e.default || e);
              }.apply(t, n)),
              void 0 === r || (e.exports = r));
      },
      407: (e, t, i) => {
        var n = i(908),
          r = (e.exports = {
            WebVTT: i(706),
            VTTCue: i(230),
            VTTRegion: i(710),
          });
        (n.vttjs = r), (n.WebVTT = r.WebVTT);
        var s = r.VTTCue,
          a = r.VTTRegion,
          o = n.VTTCue,
          l = n.VTTRegion;
        (r.shim = function () {
          (n.VTTCue = s), (n.VTTRegion = a);
        }),
          (r.restore = function () {
            (n.VTTCue = o), (n.VTTRegion = l);
          }),
          n.VTTCue || r.shim();
      },
      706: (e, t, i) => {
        var n = i(144),
          r =
            Object.create ||
            (function () {
              function e() {}
              return function (t) {
                if (1 !== arguments.length)
                  throw new Error(
                    'Object.create shim only accepts one parameter.',
                  );
                return (e.prototype = t), new e();
              };
            })();
        function s(e, t) {
          (this.name = 'ParsingError'),
            (this.code = e.code),
            (this.message = t || e.message);
        }
        function a(e) {
          function t(e, t, i, n) {
            return 3600 * (0 | e) + 60 * (0 | t) + (0 | i) + (0 | n) / 1e3;
          }
          var i = e.match(/^(\d+):(\d{1,2})(:\d{1,2})?\.(\d{3})/);
          return i
            ? i[3]
              ? t(i[1], i[2], i[3].replace(':', ''), i[4])
              : i[1] > 59
                ? t(i[1], i[2], 0, i[4])
                : t(0, i[1], i[2], i[4])
            : null;
        }
        function o() {
          this.values = r(null);
        }
        function l(e, t, i, n) {
          var r = n ? e.split(n) : [e];
          for (var s in r)
            if ('string' == typeof r[s]) {
              var a = r[s].split(i);
              if (2 === a.length) t(a[0], a[1]);
            }
        }
        function u(e, t, i) {
          var n = e;
          function r() {
            var t = a(e);
            if (null === t)
              throw new s(s.Errors.BadTimeStamp, 'Malformed timestamp: ' + n);
            return (e = e.replace(/^[^\sa-zA-Z-]+/, '')), t;
          }
          function u() {
            e = e.replace(/^\s+/, '');
          }
          if ((u(), (t.startTime = r()), u(), '--\x3e' !== e.substr(0, 3)))
            throw new s(
              s.Errors.BadTimeStamp,
              "Malformed time stamp (time stamps must be separated by '--\x3e'): " +
                n,
            );
          (e = e.substr(3)),
            u(),
            (t.endTime = r()),
            u(),
            (function (e, t) {
              var n = new o();
              l(
                e,
                function (e, t) {
                  switch (e) {
                    case 'region':
                      for (var r = i.length - 1; r >= 0; r--)
                        if (i[r].id === t) {
                          n.set(e, i[r].region);
                          break;
                        }
                      break;
                    case 'vertical':
                      n.alt(e, t, ['rl', 'lr']);
                      break;
                    case 'line':
                      var s = t.split(','),
                        a = s[0];
                      n.integer(e, a),
                        n.percent(e, a) && n.set('snapToLines', !1),
                        n.alt(e, a, ['auto']),
                        2 === s.length &&
                          n.alt('lineAlign', s[1], ['start', 'center', 'end']);
                      break;
                    case 'position':
                      (s = t.split(',')),
                        n.percent(e, s[0]),
                        2 === s.length &&
                          n.alt('positionAlign', s[1], [
                            'start',
                            'center',
                            'end',
                          ]);
                      break;
                    case 'size':
                      n.percent(e, t);
                      break;
                    case 'align':
                      n.alt(e, t, ['start', 'center', 'end', 'left', 'right']);
                  }
                },
                /:/,
                /\s/,
              ),
                (t.region = n.get('region', null)),
                (t.vertical = n.get('vertical', ''));
              try {
                t.line = n.get('line', 'auto');
              } catch (e) {}
              (t.lineAlign = n.get('lineAlign', 'start')),
                (t.snapToLines = n.get('snapToLines', !0)),
                (t.size = n.get('size', 100));
              try {
                t.align = n.get('align', 'center');
              } catch (e) {
                t.align = n.get('align', 'middle');
              }
              try {
                t.position = n.get('position', 'auto');
              } catch (e) {
                t.position = n.get(
                  'position',
                  {
                    start: 0,
                    left: 0,
                    center: 50,
                    middle: 50,
                    end: 100,
                    right: 100,
                  },
                  t.align,
                );
              }
              t.positionAlign = n.get(
                'positionAlign',
                {
                  start: 'start',
                  left: 'start',
                  center: 'center',
                  middle: 'center',
                  end: 'end',
                  right: 'end',
                },
                t.align,
              );
            })(e, t);
        }
        (s.prototype = r(Error.prototype)),
          (s.prototype.constructor = s),
          (s.Errors = {
            BadSignature: { code: 0, message: 'Malformed WebVTT signature.' },
            BadTimeStamp: { code: 1, message: 'Malformed time stamp.' },
          }),
          (o.prototype = {
            set: function (e, t) {
              this.get(e) || '' === t || (this.values[e] = t);
            },
            get: function (e, t, i) {
              return i
                ? this.has(e)
                  ? this.values[e]
                  : t[i]
                : this.has(e)
                  ? this.values[e]
                  : t;
            },
            has: function (e) {
              return e in this.values;
            },
            alt: function (e, t, i) {
              for (var n = 0; n < i.length; ++n)
                if (t === i[n]) {
                  this.set(e, t);
                  break;
                }
            },
            integer: function (e, t) {
              /^-?\d+$/.test(t) && this.set(e, parseInt(t, 10));
            },
            percent: function (e, t) {
              return (
                !!(
                  t.match(/^([\d]{1,3})(\.[\d]*)?%$/) &&
                  (t = parseFloat(t)) >= 0 &&
                  t <= 100
                ) && (this.set(e, t), !0)
              );
            },
          });
        var d = n.createElement && n.createElement('textarea'),
          c = {
            c: 'span',
            i: 'i',
            b: 'b',
            u: 'u',
            ruby: 'ruby',
            rt: 'rt',
            v: 'span',
            lang: 'span',
          },
          h = {
            white: 'rgba(255,255,255,1)',
            lime: 'rgba(0,255,0,1)',
            cyan: 'rgba(0,255,255,1)',
            red: 'rgba(255,0,0,1)',
            yellow: 'rgba(255,255,0,1)',
            magenta: 'rgba(255,0,255,1)',
            blue: 'rgba(0,0,255,1)',
            black: 'rgba(0,0,0,1)',
          },
          p = { v: 'title', lang: 'lang' },
          f = { rt: 'ruby' };
        function m(e, t) {
          function i() {
            if (!t) return null;
            var e,
              i = t.match(/^([^<]*)(<[^>]*>?)?/);
            return (e = i[1] ? i[1] : i[2]), (t = t.substr(e.length)), e;
          }
          function n(e, t) {
            return !f[t.localName] || f[t.localName] === e.localName;
          }
          function r(t, i) {
            var n = c[t];
            if (!n) return null;
            var r = e.document.createElement(n),
              s = p[t];
            return s && i && (r[s] = i.trim()), r;
          }
          for (
            var s, o, l = e.document.createElement('div'), u = l, m = [];
            null !== (s = i());

          )
            if ('<' !== s[0])
              u.appendChild(
                e.document.createTextNode(
                  ((o = s),
                  (d.innerHTML = o),
                  (o = d.textContent),
                  (d.textContent = ''),
                  o),
                ),
              );
            else {
              if ('/' === s[1]) {
                m.length &&
                  m[m.length - 1] === s.substr(2).replace('>', '') &&
                  (m.pop(), (u = u.parentNode));
                continue;
              }
              var g,
                v = a(s.substr(1, s.length - 2));
              if (v) {
                (g = e.document.createProcessingInstruction('timestamp', v)),
                  u.appendChild(g);
                continue;
              }
              var y = s.match(
                /^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/,
              );
              if (!y) continue;
              if (!(g = r(y[1], y[3]))) continue;
              if (!n(u, g)) continue;
              if (y[2]) {
                var A = y[2].split('.');
                A.forEach(function (e) {
                  var t = /^bg_/.test(e),
                    i = t ? e.slice(3) : e;
                  if (h.hasOwnProperty(i)) {
                    var n = t ? 'background-color' : 'color',
                      r = h[i];
                    g.style[n] = r;
                  }
                }),
                  (g.className = A.join(' '));
              }
              m.push(y[1]), u.appendChild(g), (u = g);
            }
          return l;
        }
        var g = [
          [1470, 1470],
          [1472, 1472],
          [1475, 1475],
          [1478, 1478],
          [1488, 1514],
          [1520, 1524],
          [1544, 1544],
          [1547, 1547],
          [1549, 1549],
          [1563, 1563],
          [1566, 1610],
          [1645, 1647],
          [1649, 1749],
          [1765, 1766],
          [1774, 1775],
          [1786, 1805],
          [1807, 1808],
          [1810, 1839],
          [1869, 1957],
          [1969, 1969],
          [1984, 2026],
          [2036, 2037],
          [2042, 2042],
          [2048, 2069],
          [2074, 2074],
          [2084, 2084],
          [2088, 2088],
          [2096, 2110],
          [2112, 2136],
          [2142, 2142],
          [2208, 2208],
          [2210, 2220],
          [8207, 8207],
          [64285, 64285],
          [64287, 64296],
          [64298, 64310],
          [64312, 64316],
          [64318, 64318],
          [64320, 64321],
          [64323, 64324],
          [64326, 64449],
          [64467, 64829],
          [64848, 64911],
          [64914, 64967],
          [65008, 65020],
          [65136, 65140],
          [65142, 65276],
          [67584, 67589],
          [67592, 67592],
          [67594, 67637],
          [67639, 67640],
          [67644, 67644],
          [67647, 67669],
          [67671, 67679],
          [67840, 67867],
          [67872, 67897],
          [67903, 67903],
          [67968, 68023],
          [68030, 68031],
          [68096, 68096],
          [68112, 68115],
          [68117, 68119],
          [68121, 68147],
          [68160, 68167],
          [68176, 68184],
          [68192, 68223],
          [68352, 68405],
          [68416, 68437],
          [68440, 68466],
          [68472, 68479],
          [68608, 68680],
          [126464, 126467],
          [126469, 126495],
          [126497, 126498],
          [126500, 126500],
          [126503, 126503],
          [126505, 126514],
          [126516, 126519],
          [126521, 126521],
          [126523, 126523],
          [126530, 126530],
          [126535, 126535],
          [126537, 126537],
          [126539, 126539],
          [126541, 126543],
          [126545, 126546],
          [126548, 126548],
          [126551, 126551],
          [126553, 126553],
          [126555, 126555],
          [126557, 126557],
          [126559, 126559],
          [126561, 126562],
          [126564, 126564],
          [126567, 126570],
          [126572, 126578],
          [126580, 126583],
          [126585, 126588],
          [126590, 126590],
          [126592, 126601],
          [126603, 126619],
          [126625, 126627],
          [126629, 126633],
          [126635, 126651],
          [1114109, 1114109],
        ];
        function v(e) {
          for (var t = 0; t < g.length; t++) {
            var i = g[t];
            if (e >= i[0] && e <= i[1]) return !0;
          }
          return !1;
        }
        function y(e) {
          var t = [],
            i = '';
          if (!e || !e.childNodes) return 'ltr';
          function n(e, t) {
            for (var i = t.childNodes.length - 1; i >= 0; i--)
              e.push(t.childNodes[i]);
          }
          function r(e) {
            if (!e || !e.length) return null;
            var t = e.pop(),
              i = t.textContent || t.innerText;
            if (i) {
              var s = i.match(/^.*(\n|\r)/);
              return s ? ((e.length = 0), s[0]) : i;
            }
            return 'ruby' === t.tagName
              ? r(e)
              : t.childNodes
                ? (n(e, t), r(e))
                : void 0;
          }
          for (n(t, e); (i = r(t)); )
            for (var s = 0; s < i.length; s++)
              if (v(i.charCodeAt(s))) return 'rtl';
          return 'ltr';
        }
        function A() {}
        function b(e, t, i) {
          A.call(this), (this.cue = t), (this.cueDiv = m(e, t.text));
          var n = {
            color: 'rgba(255, 255, 255, 1)',
            backgroundColor: 'rgba(0, 0, 0, 0.8)',
            position: 'relative',
            left: 0,
            right: 0,
            top: 0,
            bottom: 0,
            display: 'inline',
            writingMode:
              '' === t.vertical
                ? 'horizontal-tb'
                : 'lr' === t.vertical
                  ? 'vertical-lr'
                  : 'vertical-rl',
            unicodeBidi: 'plaintext',
          };
          this.applyStyles(n, this.cueDiv),
            (this.div = e.document.createElement('div')),
            (n = {
              direction: y(this.cueDiv),
              writingMode:
                '' === t.vertical
                  ? 'horizontal-tb'
                  : 'lr' === t.vertical
                    ? 'vertical-lr'
                    : 'vertical-rl',
              unicodeBidi: 'plaintext',
              textAlign: 'middle' === t.align ? 'center' : t.align,
              font: i.font,
              whiteSpace: 'pre-line',
              position: 'absolute',
            }),
            this.applyStyles(n),
            this.div.appendChild(this.cueDiv);
          var r = 0;
          switch (t.positionAlign) {
            case 'start':
              r = t.position;
              break;
            case 'center':
              r = t.position - t.size / 2;
              break;
            case 'end':
              r = t.position - t.size;
          }
          '' === t.vertical
            ? this.applyStyles({
                left: this.formatStyle(r, '%'),
                width: this.formatStyle(t.size, '%'),
              })
            : this.applyStyles({
                top: this.formatStyle(r, '%'),
                height: this.formatStyle(t.size, '%'),
              }),
            (this.move = function (e) {
              this.applyStyles({
                top: this.formatStyle(e.top, 'px'),
                bottom: this.formatStyle(e.bottom, 'px'),
                left: this.formatStyle(e.left, 'px'),
                right: this.formatStyle(e.right, 'px'),
                height: this.formatStyle(e.height, 'px'),
                width: this.formatStyle(e.width, 'px'),
              });
            });
        }
        function T(e) {
          var t, i, n, r;
          if (e.div) {
            (i = e.div.offsetHeight),
              (n = e.div.offsetWidth),
              (r = e.div.offsetTop);
            var s =
              (s = e.div.childNodes) &&
              (s = s[0]) &&
              s.getClientRects &&
              s.getClientRects();
            (e = e.div.getBoundingClientRect()),
              (t = s
                ? Math.max((s[0] && s[0].height) || 0, e.height / s.length)
                : 0);
          }
          (this.left = e.left),
            (this.right = e.right),
            (this.top = e.top || r),
            (this.height = e.height || i),
            (this.bottom = e.bottom || r + (e.height || i)),
            (this.width = e.width || n),
            (this.lineHeight = void 0 !== t ? t : e.lineHeight);
        }
        function S(e, t, i, n) {
          var r = new T(t),
            s = t.cue,
            a = (function (e) {
              if (
                'number' == typeof e.line &&
                (e.snapToLines || (e.line >= 0 && e.line <= 100))
              )
                return e.line;
              if (
                !e.track ||
                !e.track.textTrackList ||
                !e.track.textTrackList.mediaElement
              )
                return -1;
              for (
                var t = e.track, i = t.textTrackList, n = 0, r = 0;
                r < i.length && i[r] !== t;
                r++
              )
                'showing' === i[r].mode && n++;
              return -1 * ++n;
            })(s),
            o = [];
          if (s.snapToLines) {
            var l;
            switch (s.vertical) {
              case '':
                (o = ['+y', '-y']), (l = 'height');
                break;
              case 'rl':
                (o = ['+x', '-x']), (l = 'width');
                break;
              case 'lr':
                (o = ['-x', '+x']), (l = 'width');
            }
            var u = r.lineHeight,
              d = u * Math.round(a),
              c = i[l] + u,
              h = o[0];
            Math.abs(d) > c &&
              ((d = d < 0 ? -1 : 1), (d *= Math.ceil(c / u) * u)),
              a < 0 &&
                ((d += '' === s.vertical ? i.height : i.width),
                (o = o.reverse())),
              r.move(h, d);
          } else {
            var p = (r.lineHeight / i.height) * 100;
            switch (s.lineAlign) {
              case 'center':
                a -= p / 2;
                break;
              case 'end':
                a -= p;
            }
            switch (s.vertical) {
              case '':
                t.applyStyles({ top: t.formatStyle(a, '%') });
                break;
              case 'rl':
                t.applyStyles({ left: t.formatStyle(a, '%') });
                break;
              case 'lr':
                t.applyStyles({ right: t.formatStyle(a, '%') });
            }
            (o = ['+y', '-x', '+x', '-y']), (r = new T(t));
          }
          var f = (function (e, t) {
            for (var r, s = new T(e), a = 1, o = 0; o < t.length; o++) {
              for (
                ;
                e.overlapsOppositeAxis(i, t[o]) ||
                (e.within(i) && e.overlapsAny(n));

              )
                e.move(t[o]);
              if (e.within(i)) return e;
              var l = e.intersectPercentage(i);
              a > l && ((r = new T(e)), (a = l)), (e = new T(s));
            }
            return r || s;
          })(r, o);
          t.move(f.toCSSCompatValues(i));
        }
        function w() {}
        (A.prototype.applyStyles = function (e, t) {
          for (var i in ((t = t || this.div), e))
            e.hasOwnProperty(i) && (t.style[i] = e[i]);
        }),
          (A.prototype.formatStyle = function (e, t) {
            return 0 === e ? 0 : e + t;
          }),
          (b.prototype = r(A.prototype)),
          (b.prototype.constructor = b),
          (T.prototype.move = function (e, t) {
            switch (((t = void 0 !== t ? t : this.lineHeight), e)) {
              case '+x':
                (this.left += t), (this.right += t);
                break;
              case '-x':
                (this.left -= t), (this.right -= t);
                break;
              case '+y':
                (this.top += t), (this.bottom += t);
                break;
              case '-y':
                (this.top -= t), (this.bottom -= t);
            }
          }),
          (T.prototype.overlaps = function (e) {
            return (
              this.left < e.right &&
              this.right > e.left &&
              this.top < e.bottom &&
              this.bottom > e.top
            );
          }),
          (T.prototype.overlapsAny = function (e) {
            for (var t = 0; t < e.length; t++)
              if (this.overlaps(e[t])) return !0;
            return !1;
          }),
          (T.prototype.within = function (e) {
            return (
              this.top >= e.top &&
              this.bottom <= e.bottom &&
              this.left >= e.left &&
              this.right <= e.right
            );
          }),
          (T.prototype.overlapsOppositeAxis = function (e, t) {
            switch (t) {
              case '+x':
                return this.left < e.left;
              case '-x':
                return this.right > e.right;
              case '+y':
                return this.top < e.top;
              case '-y':
                return this.bottom > e.bottom;
            }
          }),
          (T.prototype.intersectPercentage = function (e) {
            return (
              (Math.max(
                0,
                Math.min(this.right, e.right) - Math.max(this.left, e.left),
              ) *
                Math.max(
                  0,
                  Math.min(this.bottom, e.bottom) - Math.max(this.top, e.top),
                )) /
              (this.height * this.width)
            );
          }),
          (T.prototype.toCSSCompatValues = function (e) {
            return {
              top: this.top - e.top,
              bottom: e.bottom - this.bottom,
              left: this.left - e.left,
              right: e.right - this.right,
              height: this.height,
              width: this.width,
            };
          }),
          (T.getSimpleBoxPosition = function (e) {
            var t = e.div ? e.div.offsetHeight : e.tagName ? e.offsetHeight : 0,
              i = e.div ? e.div.offsetWidth : e.tagName ? e.offsetWidth : 0,
              n = e.div ? e.div.offsetTop : e.tagName ? e.offsetTop : 0;
            return {
              left: (e = e.div
                ? e.div.getBoundingClientRect()
                : e.tagName
                  ? e.getBoundingClientRect()
                  : e).left,
              right: e.right,
              top: e.top || n,
              height: e.height || t,
              bottom: e.bottom || n + (e.height || t),
              width: e.width || i,
            };
          }),
          (w.StringDecoder = function () {
            return {
              decode: function (e) {
                if (!e) return '';
                if ('string' != typeof e)
                  throw new Error('Error - expected string data.');
                return decodeURIComponent(encodeURIComponent(e));
              },
            };
          }),
          (w.convertCueToDOMTree = function (e, t) {
            return e && t ? m(e, t) : null;
          });
        (w.processCues = function (e, t, i) {
          if (!e || !t || !i) return null;
          for (; i.firstChild; ) i.removeChild(i.firstChild);
          var n = e.document.createElement('div');
          if (
            ((n.style.position = 'absolute'),
            (n.style.left = '0'),
            (n.style.right = '0'),
            (n.style.top = '0'),
            (n.style.bottom = '0'),
            (n.style.margin = '1.5%'),
            i.appendChild(n),
            (function (e) {
              for (var t = 0; t < e.length; t++)
                if (e[t].hasBeenReset || !e[t].displayState) return !0;
              return !1;
            })(t))
          ) {
            var r = [],
              s = T.getSimpleBoxPosition(n),
              a = {
                font: Math.round(0.05 * s.height * 100) / 100 + 'px sans-serif',
              };
            !(function () {
              for (var i, o, l = 0; l < t.length; l++)
                (o = t[l]),
                  (i = new b(e, o, a)),
                  n.appendChild(i.div),
                  S(0, i, s, r),
                  (o.displayState = i.div),
                  r.push(T.getSimpleBoxPosition(i));
            })();
          } else
            for (var o = 0; o < t.length; o++) n.appendChild(t[o].displayState);
        }),
          (w.Parser = function (e, t, i) {
            i || ((i = t), (t = {})),
              t || (t = {}),
              (this.window = e),
              (this.vttjs = t),
              (this.state = 'INITIAL'),
              (this.buffer = ''),
              (this.decoder = i || new TextDecoder('utf8')),
              (this.regionList = []);
          }),
          (w.Parser.prototype = {
            reportOrThrowError: function (e) {
              if (!(e instanceof s)) throw e;
              this.onparsingerror && this.onparsingerror(e);
            },
            parse: function (e) {
              var t = this;
              function i() {
                for (
                  var e = t.buffer, i = 0;
                  i < e.length && '\r' !== e[i] && '\n' !== e[i];

                )
                  ++i;
                var n = e.substr(0, i);
                return (
                  '\r' === e[i] && ++i,
                  '\n' === e[i] && ++i,
                  (t.buffer = e.substr(i)),
                  n
                );
              }
              function n(e) {
                e.match(/X-TIMESTAMP-MAP/)
                  ? l(
                      e,
                      function (e, i) {
                        if ('X-TIMESTAMP-MAP' === e)
                          !(function (e) {
                            var i = new o();
                            l(
                              e,
                              function (e, t) {
                                switch (e) {
                                  case 'MPEGT':
                                    i.integer(e + 'S', t);
                                    break;
                                  case 'LOCA':
                                    i.set(e + 'L', a(t));
                                }
                              },
                              /[^\d]:/,
                              /,/,
                            ),
                              t.ontimestampmap &&
                                t.ontimestampmap({
                                  MPEGTS: i.get('MPEGTS'),
                                  LOCAL: i.get('LOCAL'),
                                });
                          })(i);
                      },
                      /=/,
                    )
                  : l(
                      e,
                      function (e, i) {
                        if ('Region' === e)
                          !(function (e) {
                            var i = new o();
                            if (
                              (l(
                                e,
                                function (e, t) {
                                  switch (e) {
                                    case 'id':
                                      i.set(e, t);
                                      break;
                                    case 'width':
                                      i.percent(e, t);
                                      break;
                                    case 'lines':
                                      i.integer(e, t);
                                      break;
                                    case 'regionanchor':
                                    case 'viewportanchor':
                                      var n = t.split(',');
                                      if (2 !== n.length) break;
                                      var r = new o();
                                      if (
                                        (r.percent('x', n[0]),
                                        r.percent('y', n[1]),
                                        !r.has('x') || !r.has('y'))
                                      )
                                        break;
                                      i.set(e + 'X', r.get('x')),
                                        i.set(e + 'Y', r.get('y'));
                                      break;
                                    case 'scroll':
                                      i.alt(e, t, ['up']);
                                  }
                                },
                                /=/,
                                /\s/,
                              ),
                              i.has('id'))
                            ) {
                              var n = new (t.vttjs.VTTRegion ||
                                t.window.VTTRegion)();
                              (n.width = i.get('width', 100)),
                                (n.lines = i.get('lines', 3)),
                                (n.regionAnchorX = i.get('regionanchorX', 0)),
                                (n.regionAnchorY = i.get('regionanchorY', 100)),
                                (n.viewportAnchorX = i.get(
                                  'viewportanchorX',
                                  0,
                                )),
                                (n.viewportAnchorY = i.get(
                                  'viewportanchorY',
                                  100,
                                )),
                                (n.scroll = i.get('scroll', '')),
                                t.onregion && t.onregion(n),
                                t.regionList.push({
                                  id: i.get('id'),
                                  region: n,
                                });
                            }
                          })(i);
                      },
                      /:/,
                    );
              }
              e && (t.buffer += t.decoder.decode(e, { stream: !0 }));
              try {
                var r;
                if ('INITIAL' === t.state) {
                  if (!/\r\n|\n/.test(t.buffer)) return this;
                  var d = (r = i()).match(/^WEBVTT([ \t].*)?$/);
                  if (!d || !d[0]) throw new s(s.Errors.BadSignature);
                  t.state = 'HEADER';
                }
                for (var c = !1; t.buffer; ) {
                  if (!/\r\n|\n/.test(t.buffer)) return this;
                  switch ((c ? (c = !1) : (r = i()), t.state)) {
                    case 'HEADER':
                      /:/.test(r) ? n(r) : r || (t.state = 'ID');
                      continue;
                    case 'NOTE':
                      r || (t.state = 'ID');
                      continue;
                    case 'ID':
                      if (/^NOTE($|[ \t])/.test(r)) {
                        t.state = 'NOTE';
                        break;
                      }
                      if (!r) continue;
                      t.cue = new (t.vttjs.VTTCue || t.window.VTTCue)(0, 0, '');
                      try {
                        t.cue.align = 'center';
                      } catch (e) {
                        t.cue.align = 'middle';
                      }
                      if (((t.state = 'CUE'), -1 === r.indexOf('--\x3e'))) {
                        t.cue.id = r;
                        continue;
                      }
                    case 'CUE':
                      try {
                        u(r, t.cue, t.regionList);
                      } catch (e) {
                        t.reportOrThrowError(e),
                          (t.cue = null),
                          (t.state = 'BADCUE');
                        continue;
                      }
                      t.state = 'CUETEXT';
                      continue;
                    case 'CUETEXT':
                      var h = -1 !== r.indexOf('--\x3e');
                      if (!r || (h && (c = !0))) {
                        t.oncue && t.oncue(t.cue),
                          (t.cue = null),
                          (t.state = 'ID');
                        continue;
                      }
                      t.cue.text && (t.cue.text += '\n'),
                        (t.cue.text += r
                          .replace(/\u2028/g, '\n')
                          .replace(/u2029/g, '\n'));
                      continue;
                    case 'BADCUE':
                      r || (t.state = 'ID');
                      continue;
                  }
                }
              } catch (e) {
                t.reportOrThrowError(e),
                  'CUETEXT' === t.state && t.cue && t.oncue && t.oncue(t.cue),
                  (t.cue = null),
                  (t.state = 'INITIAL' === t.state ? 'BADWEBVTT' : 'BADCUE');
              }
              return this;
            },
            flush: function () {
              var e = this;
              try {
                if (
                  ((e.buffer += e.decoder.decode()),
                  (e.cue || 'HEADER' === e.state) &&
                    ((e.buffer += '\n\n'), e.parse()),
                  'INITIAL' === e.state)
                )
                  throw new s(s.Errors.BadSignature);
              } catch (t) {
                e.reportOrThrowError(t);
              }
              return e.onflush && e.onflush(), this;
            },
          }),
          (e.exports = w);
      },
      230: (e) => {
        var t = { '': 1, lr: 1, rl: 1 },
          i = {
            start: 1,
            center: 1,
            end: 1,
            left: 1,
            right: 1,
            auto: 1,
            'line-left': 1,
            'line-right': 1,
          };
        function n(e) {
          return (
            'string' == typeof e && !!i[e.toLowerCase()] && e.toLowerCase()
          );
        }
        function r(e, i, r) {
          this.hasBeenReset = !1;
          var s = '',
            a = !1,
            o = e,
            l = i,
            u = r,
            d = null,
            c = '',
            h = !0,
            p = 'auto',
            f = 'start',
            m = 'auto',
            g = 'auto',
            v = 100,
            y = 'center';
          Object.defineProperties(this, {
            id: {
              enumerable: !0,
              get: function () {
                return s;
              },
              set: function (e) {
                s = '' + e;
              },
            },
            pauseOnExit: {
              enumerable: !0,
              get: function () {
                return a;
              },
              set: function (e) {
                a = !!e;
              },
            },
            startTime: {
              enumerable: !0,
              get: function () {
                return o;
              },
              set: function (e) {
                if ('number' != typeof e)
                  throw new TypeError('Start time must be set to a number.');
                (o = e), (this.hasBeenReset = !0);
              },
            },
            endTime: {
              enumerable: !0,
              get: function () {
                return l;
              },
              set: function (e) {
                if ('number' != typeof e)
                  throw new TypeError('End time must be set to a number.');
                (l = e), (this.hasBeenReset = !0);
              },
            },
            text: {
              enumerable: !0,
              get: function () {
                return u;
              },
              set: function (e) {
                (u = '' + e), (this.hasBeenReset = !0);
              },
            },
            region: {
              enumerable: !0,
              get: function () {
                return d;
              },
              set: function (e) {
                (d = e), (this.hasBeenReset = !0);
              },
            },
            vertical: {
              enumerable: !0,
              get: function () {
                return c;
              },
              set: function (e) {
                var i = (function (e) {
                  return (
                    'string' == typeof e &&
                    !!t[e.toLowerCase()] &&
                    e.toLowerCase()
                  );
                })(e);
                if (!1 === i)
                  throw new SyntaxError(
                    'Vertical: an invalid or illegal direction string was specified.',
                  );
                (c = i), (this.hasBeenReset = !0);
              },
            },
            snapToLines: {
              enumerable: !0,
              get: function () {
                return h;
              },
              set: function (e) {
                (h = !!e), (this.hasBeenReset = !0);
              },
            },
            line: {
              enumerable: !0,
              get: function () {
                return p;
              },
              set: function (e) {
                if ('number' != typeof e && 'auto' !== e)
                  throw new SyntaxError(
                    'Line: an invalid number or illegal string was specified.',
                  );
                (p = e), (this.hasBeenReset = !0);
              },
            },
            lineAlign: {
              enumerable: !0,
              get: function () {
                return f;
              },
              set: function (e) {
                var t = n(e);
                t
                  ? ((f = t), (this.hasBeenReset = !0))
                  : console.warn(
                      'lineAlign: an invalid or illegal string was specified.',
                    );
              },
            },
            position: {
              enumerable: !0,
              get: function () {
                return m;
              },
              set: function (e) {
                if (e < 0 || e > 100)
                  throw new Error('Position must be between 0 and 100.');
                (m = e), (this.hasBeenReset = !0);
              },
            },
            positionAlign: {
              enumerable: !0,
              get: function () {
                return g;
              },
              set: function (e) {
                var t = n(e);
                t
                  ? ((g = t), (this.hasBeenReset = !0))
                  : console.warn(
                      'positionAlign: an invalid or illegal string was specified.',
                    );
              },
            },
            size: {
              enumerable: !0,
              get: function () {
                return v;
              },
              set: function (e) {
                if (e < 0 || e > 100)
                  throw new Error('Size must be between 0 and 100.');
                (v = e), (this.hasBeenReset = !0);
              },
            },
            align: {
              enumerable: !0,
              get: function () {
                return y;
              },
              set: function (e) {
                var t = n(e);
                if (!t)
                  throw new SyntaxError(
                    'align: an invalid or illegal alignment string was specified.',
                  );
                (y = t), (this.hasBeenReset = !0);
              },
            },
          }),
            (this.displayState = void 0);
        }
        (r.prototype.getCueAsHTML = function () {
          return WebVTT.convertCueToDOMTree(window, this.text);
        }),
          (e.exports = r);
      },
      710: (e) => {
        var t = { '': !0, up: !0 };
        function i(e) {
          return 'number' == typeof e && e >= 0 && e <= 100;
        }
        e.exports = function () {
          var e = 100,
            n = 3,
            r = 0,
            s = 100,
            a = 0,
            o = 100,
            l = '';
          Object.defineProperties(this, {
            width: {
              enumerable: !0,
              get: function () {
                return e;
              },
              set: function (t) {
                if (!i(t)) throw new Error('Width must be between 0 and 100.');
                e = t;
              },
            },
            lines: {
              enumerable: !0,
              get: function () {
                return n;
              },
              set: function (e) {
                if ('number' != typeof e)
                  throw new TypeError('Lines must be set to a number.');
                n = e;
              },
            },
            regionAnchorY: {
              enumerable: !0,
              get: function () {
                return s;
              },
              set: function (e) {
                if (!i(e))
                  throw new Error('RegionAnchorX must be between 0 and 100.');
                s = e;
              },
            },
            regionAnchorX: {
              enumerable: !0,
              get: function () {
                return r;
              },
              set: function (e) {
                if (!i(e))
                  throw new Error('RegionAnchorY must be between 0 and 100.');
                r = e;
              },
            },
            viewportAnchorY: {
              enumerable: !0,
              get: function () {
                return o;
              },
              set: function (e) {
                if (!i(e))
                  throw new Error('ViewportAnchorY must be between 0 and 100.');
                o = e;
              },
            },
            viewportAnchorX: {
              enumerable: !0,
              get: function () {
                return a;
              },
              set: function (e) {
                if (!i(e))
                  throw new Error('ViewportAnchorX must be between 0 and 100.');
                a = e;
              },
            },
            scroll: {
              enumerable: !0,
              get: function () {
                return l;
              },
              set: function (e) {
                var i = (function (e) {
                  return (
                    'string' == typeof e &&
                    !!t[e.toLowerCase()] &&
                    e.toLowerCase()
                  );
                })(e);
                !1 === i
                  ? console.warn(
                      'Scroll: an invalid or illegal string was specified.',
                    )
                  : (l = i);
              },
            },
          });
        };
      },
      647: (e, t, i) => {
        function n(e) {
          this.options = e || { locator: {} };
        }
        function r() {
          this.cdata = !1;
        }
        function s(e, t) {
          (t.lineNumber = e.lineNumber), (t.columnNumber = e.columnNumber);
        }
        function a(e) {
          if (e)
            return (
              '\n@' +
              (e.systemId || '') +
              '#[line:' +
              e.lineNumber +
              ',col:' +
              e.columnNumber +
              ']'
            );
        }
        function o(e, t, i) {
          return 'string' == typeof e
            ? e.substr(t, i)
            : e.length >= t + i || t
              ? new java.lang.String(e, t, i) + ''
              : e;
        }
        function l(e, t) {
          e.currentElement
            ? e.currentElement.appendChild(t)
            : e.doc.appendChild(t);
        }
        (n.prototype.parseFromString = function (e, t) {
          var i = this.options,
            n = new c(),
            s = i.domBuilder || new r(),
            o = i.errorHandler,
            l = i.locator,
            d = i.xmlns || {},
            h = /\/x?html?$/.test(t),
            p = h
              ? u.entityMap
              : { lt: '<', gt: '>', amp: '&', quot: '"', apos: "'" };
          return (
            l && s.setDocumentLocator(l),
            (n.errorHandler = (function (e, t, i) {
              if (!e) {
                if (t instanceof r) return t;
                e = t;
              }
              var n = {},
                s = e instanceof Function;
              function o(t) {
                var r = e[t];
                !r &&
                  s &&
                  (r =
                    2 == e.length
                      ? function (i) {
                          e(t, i);
                        }
                      : e),
                  (n[t] =
                    (r &&
                      function (e) {
                        r('[xmldom ' + t + ']\t' + e + a(i));
                      }) ||
                    function () {});
              }
              return (
                (i = i || {}), o('warning'), o('error'), o('fatalError'), n
              );
            })(o, s, l)),
            (n.domBuilder = i.domBuilder || s),
            h && (d[''] = 'http://www.w3.org/1999/xhtml'),
            (d.xml = d.xml || 'http://www.w3.org/XML/1998/namespace'),
            e && 'string' == typeof e
              ? n.parse(e, d, p)
              : n.errorHandler.error('invalid doc source'),
            s.doc
          );
        }),
          (r.prototype = {
            startDocument: function () {
              (this.doc = new p().createDocument(null, null, null)),
                this.locator && (this.doc.documentURI = this.locator.systemId);
            },
            startElement: function (e, t, i, n) {
              var r = this.doc,
                a = r.createElementNS(e, i || t),
                o = n.length;
              l(this, a),
                (this.currentElement = a),
                this.locator && s(this.locator, a);
              for (var u = 0; u < o; u++) {
                e = n.getURI(u);
                var d = n.getValue(u),
                  c = ((i = n.getQName(u)), r.createAttributeNS(e, i));
                this.locator && s(n.getLocator(u), c),
                  (c.value = c.nodeValue = d),
                  a.setAttributeNode(c);
              }
            },
            endElement: function (e, t, i) {
              var n = this.currentElement;
              n.tagName;
              this.currentElement = n.parentNode;
            },
            startPrefixMapping: function (e, t) {},
            endPrefixMapping: function (e) {},
            processingInstruction: function (e, t) {
              var i = this.doc.createProcessingInstruction(e, t);
              this.locator && s(this.locator, i), l(this, i);
            },
            ignorableWhitespace: function (e, t, i) {},
            characters: function (e, t, i) {
              if ((e = o.apply(this, arguments))) {
                if (this.cdata) var n = this.doc.createCDATASection(e);
                else n = this.doc.createTextNode(e);
                this.currentElement
                  ? this.currentElement.appendChild(n)
                  : /^\s*$/.test(e) && this.doc.appendChild(n),
                  this.locator && s(this.locator, n);
              }
            },
            skippedEntity: function (e) {},
            endDocument: function () {
              this.doc.normalize();
            },
            setDocumentLocator: function (e) {
              (this.locator = e) && (e.lineNumber = 0);
            },
            comment: function (e, t, i) {
              e = o.apply(this, arguments);
              var n = this.doc.createComment(e);
              this.locator && s(this.locator, n), l(this, n);
            },
            startCDATA: function () {
              this.cdata = !0;
            },
            endCDATA: function () {
              this.cdata = !1;
            },
            startDTD: function (e, t, i) {
              var n = this.doc.implementation;
              if (n && n.createDocumentType) {
                var r = n.createDocumentType(e, t, i);
                this.locator && s(this.locator, r), l(this, r);
              }
            },
            warning: function (e) {
              console.warn('[xmldom warning]\t' + e, a(this.locator));
            },
            error: function (e) {
              console.error('[xmldom error]\t' + e, a(this.locator));
            },
            fatalError: function (e) {
              throw new h(e, this.locator);
            },
          }),
          'endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl'.replace(
            /\w+/g,
            function (e) {
              r.prototype[e] = function () {
                return null;
              };
            },
          );
        var u = i(791),
          d = i(275),
          c = d.XMLReader,
          h = d.ParseError,
          p = i(34).DOMImplementation;
        i(34), (t.a = n);
      },
      34: (e, t) => {
        function i(e, t) {
          for (var i in e) t[i] = e[i];
        }
        function n(e, t) {
          var n = e.prototype;
          if (!(n instanceof t)) {
            function r() {}
            (r.prototype = t.prototype),
              i(n, (r = new r())),
              (e.prototype = n = r);
          }
          n.constructor != e &&
            ('function' != typeof e && console.error('unknow Class:' + e),
            (n.constructor = e));
        }
        var r = {},
          s = (r.ELEMENT_NODE = 1),
          a = (r.ATTRIBUTE_NODE = 2),
          o = (r.TEXT_NODE = 3),
          l = (r.CDATA_SECTION_NODE = 4),
          u = (r.ENTITY_REFERENCE_NODE = 5),
          d = (r.ENTITY_NODE = 6),
          c = (r.PROCESSING_INSTRUCTION_NODE = 7),
          h = (r.COMMENT_NODE = 8),
          p = (r.DOCUMENT_NODE = 9),
          f = (r.DOCUMENT_TYPE_NODE = 10),
          m = (r.DOCUMENT_FRAGMENT_NODE = 11),
          g = (r.NOTATION_NODE = 12),
          v = {},
          y = {},
          A =
            ((v.INDEX_SIZE_ERR = ((y[1] = 'Index size error'), 1)),
            (v.DOMSTRING_SIZE_ERR = ((y[2] = 'DOMString size error'), 2)),
            (v.HIERARCHY_REQUEST_ERR =
              ((y[3] = 'Hierarchy request error'), 3))),
          b =
            ((v.WRONG_DOCUMENT_ERR = ((y[4] = 'Wrong document'), 4)),
            (v.INVALID_CHARACTER_ERR = ((y[5] = 'Invalid character'), 5)),
            (v.NO_DATA_ALLOWED_ERR = ((y[6] = 'No data allowed'), 6)),
            (v.NO_MODIFICATION_ALLOWED_ERR =
              ((y[7] = 'No modification allowed'), 7)),
            (v.NOT_FOUND_ERR = ((y[8] = 'Not found'), 8))),
          T =
            ((v.NOT_SUPPORTED_ERR = ((y[9] = 'Not supported'), 9)),
            (v.INUSE_ATTRIBUTE_ERR = ((y[10] = 'Attribute in use'), 10)));
        (v.INVALID_STATE_ERR = ((y[11] = 'Invalid state'), 11)),
          (v.SYNTAX_ERR = ((y[12] = 'Syntax error'), 12)),
          (v.INVALID_MODIFICATION_ERR = ((y[13] = 'Invalid modification'), 13)),
          (v.NAMESPACE_ERR = ((y[14] = 'Invalid namespace'), 14)),
          (v.INVALID_ACCESS_ERR = ((y[15] = 'Invalid access'), 15));
        function S(e, t) {
          if (t instanceof Error) var i = t;
          else
            (i = this),
              Error.call(this, y[e]),
              (this.message = y[e]),
              Error.captureStackTrace && Error.captureStackTrace(this, S);
          return (i.code = e), t && (this.message = this.message + ': ' + t), i;
        }
        function w() {}
        function k(e, t) {
          (this._node = e), (this._refresh = t), _(this);
        }
        function _(e) {
          var t = e._node._inc || e._node.ownerDocument._inc;
          if (e._inc != t) {
            var n = e._refresh(e._node);
            ne(e, 'length', n.length), i(n, e), (e._inc = t);
          }
        }
        function C() {}
        function E(e, t) {
          for (var i = e.length; i--; ) if (e[i] === t) return i;
        }
        function j(e, t, i, n) {
          if ((n ? (t[E(t, n)] = i) : (t[t.length++] = i), e)) {
            i.ownerElement = e;
            var r = e.ownerDocument;
            r &&
              (n && O(r, e, n),
              (function (e, t, i) {
                e && e._inc++,
                  'http://www.w3.org/2000/xmlns/' == i.namespaceURI &&
                    (t._nsMap[i.prefix ? i.localName : ''] = i.value);
              })(r, e, i));
          }
        }
        function P(e, t, i) {
          var n = E(t, i);
          if (!(n >= 0)) throw S(b, new Error(e.tagName + '@' + i));
          for (var r = t.length - 1; n < r; ) t[n] = t[++n];
          if (((t.length = r), e)) {
            var s = e.ownerDocument;
            s && (O(s, e, i), (i.ownerElement = null));
          }
        }
        function I(e) {
          if (((this._features = {}), e))
            for (var t in e) this._features = e[t];
        }
        function x() {}
        function L(e) {
          return (
            ('<' == e ? '&lt;' : '>' == e && '&gt;') ||
            ('&' == e && '&amp;') ||
            ('"' == e && '&quot;') ||
            '&#' + e.charCodeAt() + ';'
          );
        }
        function D(e, t) {
          if (t(e)) return !0;
          if ((e = e.firstChild))
            do {
              if (D(e, t)) return !0;
            } while ((e = e.nextSibling));
        }
        function R() {}
        function O(e, t, i, n) {
          e && e._inc++,
            'http://www.w3.org/2000/xmlns/' == i.namespaceURI &&
              delete t._nsMap[i.prefix ? i.localName : ''];
        }
        function M(e, t, i) {
          if (e && e._inc) {
            e._inc++;
            var n = t.childNodes;
            if (i) n[n.length++] = i;
            else {
              for (var r = t.firstChild, s = 0; r; )
                (n[s++] = r), (r = r.nextSibling);
              n.length = s;
            }
          }
        }
        function N(e, t) {
          var i = t.previousSibling,
            n = t.nextSibling;
          return (
            i ? (i.nextSibling = n) : (e.firstChild = n),
            n ? (n.previousSibling = i) : (e.lastChild = i),
            M(e.ownerDocument, e),
            t
          );
        }
        function B(e, t, i) {
          var n = t.parentNode;
          if ((n && n.removeChild(t), t.nodeType === m)) {
            var r = t.firstChild;
            if (null == r) return t;
            var s = t.lastChild;
          } else r = s = t;
          var a = i ? i.previousSibling : e.lastChild;
          (r.previousSibling = a),
            (s.nextSibling = i),
            a ? (a.nextSibling = r) : (e.firstChild = r),
            null == i ? (e.lastChild = s) : (i.previousSibling = s);
          do {
            r.parentNode = e;
          } while (r !== s && (r = r.nextSibling));
          return (
            M(e.ownerDocument || e, e),
            t.nodeType == m && (t.firstChild = t.lastChild = null),
            t
          );
        }
        function U() {
          this._nsMap = {};
        }
        function F() {}
        function W() {}
        function V() {}
        function H() {}
        function q() {}
        function z() {}
        function K() {}
        function X() {}
        function Q() {}
        function G() {}
        function Y() {}
        function J() {}
        function Z(e, t) {
          var i = [],
            n = (9 == this.nodeType && this.documentElement) || this,
            r = n.prefix,
            s = n.namespaceURI;
          if (s && null == r && null == (r = n.lookupPrefix(s)))
            var a = [{ namespace: s, prefix: null }];
          return ee(this, i, e, t, a), i.join('');
        }
        function $(e, t, i) {
          var n = e.prefix || '',
            r = e.namespaceURI;
          if (!n && !r) return !1;
          if (
            ('xml' === n && 'http://www.w3.org/XML/1998/namespace' === r) ||
            'http://www.w3.org/2000/xmlns/' == r
          )
            return !1;
          for (var s = i.length; s--; ) {
            var a = i[s];
            if (a.prefix == n) return a.namespace != r;
          }
          return !0;
        }
        function ee(e, t, i, n, r) {
          if (n) {
            if (!(e = n(e))) return;
            if ('string' == typeof e) return void t.push(e);
          }
          switch (e.nodeType) {
            case s:
              r || (r = []);
              r.length;
              var d = e.attributes,
                g = d.length,
                v = e.firstChild,
                y = e.tagName;
              (i = 'http://www.w3.org/1999/xhtml' === e.namespaceURI || i),
                t.push('<', y);
              for (var A = 0; A < g; A++) {
                'xmlns' == (b = d.item(A)).prefix
                  ? r.push({ prefix: b.localName, namespace: b.value })
                  : 'xmlns' == b.nodeName &&
                    r.push({ prefix: '', namespace: b.value });
              }
              for (A = 0; A < g; A++) {
                var b;
                if ($((b = d.item(A)), 0, r)) {
                  var T = b.prefix || '',
                    S = b.namespaceURI,
                    w = T ? ' xmlns:' + T : ' xmlns';
                  t.push(w, '="', S, '"'), r.push({ prefix: T, namespace: S });
                }
                ee(b, t, i, n, r);
              }
              if ($(e, 0, r)) {
                (T = e.prefix || ''),
                  (S = e.namespaceURI),
                  (w = T ? ' xmlns:' + T : ' xmlns');
                t.push(w, '="', S, '"'), r.push({ prefix: T, namespace: S });
              }
              if (v || (i && !/^(?:meta|link|img|br|hr|input)$/i.test(y))) {
                if ((t.push('>'), i && /^script$/i.test(y)))
                  for (; v; )
                    v.data ? t.push(v.data) : ee(v, t, i, n, r),
                      (v = v.nextSibling);
                else for (; v; ) ee(v, t, i, n, r), (v = v.nextSibling);
                t.push('</', y, '>');
              } else t.push('/>');
              return;
            case p:
            case m:
              for (v = e.firstChild; v; )
                ee(v, t, i, n, r), (v = v.nextSibling);
              return;
            case a:
              return t.push(
                ' ',
                e.name,
                '="',
                e.value.replace(/[&"]/g, L),
                '"',
              );
            case o:
              return t.push(
                e.data.replace(/[<&]/g, L).replace(/]]>/g, ']]&gt;'),
              );
            case l:
              return t.push('<![CDATA[', e.data, ']]>');
            case h:
              return t.push('\x3c!--', e.data, '--\x3e');
            case f:
              var k = e.publicId,
                _ = e.systemId;
              if ((t.push('<!DOCTYPE ', e.name), k))
                t.push(' PUBLIC ', k),
                  _ && '.' != _ && t.push(' ', _),
                  t.push('>');
              else if (_ && '.' != _) t.push(' SYSTEM ', _, '>');
              else {
                var C = e.internalSubset;
                C && t.push(' [', C, ']'), t.push('>');
              }
              return;
            case c:
              return t.push('<?', e.target, ' ', e.data, '?>');
            case u:
              return t.push('&', e.nodeName, ';');
            default:
              t.push('??', e.nodeName);
          }
        }
        function te(e, t, i) {
          var n;
          switch (t.nodeType) {
            case s:
              (n = t.cloneNode(!1)).ownerDocument = e;
            case m:
              break;
            case a:
              i = !0;
          }
          if (
            (n || (n = t.cloneNode(!1)),
            (n.ownerDocument = e),
            (n.parentNode = null),
            i)
          )
            for (var r = t.firstChild; r; )
              n.appendChild(te(e, r, i)), (r = r.nextSibling);
          return n;
        }
        function ie(e, t, i) {
          var n = new t.constructor();
          for (var r in t) {
            var o = t[r];
            'object' != typeof o && o != n[r] && (n[r] = o);
          }
          switch (
            (t.childNodes && (n.childNodes = new w()),
            (n.ownerDocument = e),
            n.nodeType)
          ) {
            case s:
              var l = t.attributes,
                u = (n.attributes = new C()),
                d = l.length;
              u._ownerElement = n;
              for (var c = 0; c < d; c++)
                n.setAttributeNode(ie(e, l.item(c), !0));
              break;
            case a:
              i = !0;
          }
          if (i)
            for (var h = t.firstChild; h; )
              n.appendChild(ie(e, h, i)), (h = h.nextSibling);
          return n;
        }
        function ne(e, t, i) {
          e[t] = i;
        }
        (S.prototype = Error.prototype),
          i(v, S),
          (w.prototype = {
            length: 0,
            item: function (e) {
              return this[e] || null;
            },
            toString: function (e, t) {
              for (var i = [], n = 0; n < this.length; n++)
                ee(this[n], i, e, t);
              return i.join('');
            },
          }),
          (k.prototype.item = function (e) {
            return _(this), this[e];
          }),
          n(k, w),
          (C.prototype = {
            length: 0,
            item: w.prototype.item,
            getNamedItem: function (e) {
              for (var t = this.length; t--; ) {
                var i = this[t];
                if (i.nodeName == e) return i;
              }
            },
            setNamedItem: function (e) {
              var t = e.ownerElement;
              if (t && t != this._ownerElement) throw new S(T);
              var i = this.getNamedItem(e.nodeName);
              return j(this._ownerElement, this, e, i), i;
            },
            setNamedItemNS: function (e) {
              var t,
                i = e.ownerElement;
              if (i && i != this._ownerElement) throw new S(T);
              return (
                (t = this.getNamedItemNS(e.namespaceURI, e.localName)),
                j(this._ownerElement, this, e, t),
                t
              );
            },
            removeNamedItem: function (e) {
              var t = this.getNamedItem(e);
              return P(this._ownerElement, this, t), t;
            },
            removeNamedItemNS: function (e, t) {
              var i = this.getNamedItemNS(e, t);
              return P(this._ownerElement, this, i), i;
            },
            getNamedItemNS: function (e, t) {
              for (var i = this.length; i--; ) {
                var n = this[i];
                if (n.localName == t && n.namespaceURI == e) return n;
              }
              return null;
            },
          }),
          (I.prototype = {
            hasFeature: function (e, t) {
              var i = this._features[e.toLowerCase()];
              return !(!i || (t && !(t in i)));
            },
            createDocument: function (e, t, i) {
              var n = new R();
              if (
                ((n.implementation = this),
                (n.childNodes = new w()),
                (n.doctype = i),
                i && n.appendChild(i),
                t)
              ) {
                var r = n.createElementNS(e, t);
                n.appendChild(r);
              }
              return n;
            },
            createDocumentType: function (e, t, i) {
              var n = new z();
              return (
                (n.name = e),
                (n.nodeName = e),
                (n.publicId = t),
                (n.systemId = i),
                n
              );
            },
          }),
          (x.prototype = {
            firstChild: null,
            lastChild: null,
            previousSibling: null,
            nextSibling: null,
            attributes: null,
            parentNode: null,
            childNodes: null,
            ownerDocument: null,
            nodeValue: null,
            namespaceURI: null,
            prefix: null,
            localName: null,
            insertBefore: function (e, t) {
              return B(this, e, t);
            },
            replaceChild: function (e, t) {
              this.insertBefore(e, t), t && this.removeChild(t);
            },
            removeChild: function (e) {
              return N(this, e);
            },
            appendChild: function (e) {
              return this.insertBefore(e, null);
            },
            hasChildNodes: function () {
              return null != this.firstChild;
            },
            cloneNode: function (e) {
              return ie(this.ownerDocument || this, this, e);
            },
            normalize: function () {
              for (var e = this.firstChild; e; ) {
                var t = e.nextSibling;
                t && t.nodeType == o && e.nodeType == o
                  ? (this.removeChild(t), e.appendData(t.data))
                  : (e.normalize(), (e = t));
              }
            },
            isSupported: function (e, t) {
              return this.ownerDocument.implementation.hasFeature(e, t);
            },
            hasAttributes: function () {
              return this.attributes.length > 0;
            },
            lookupPrefix: function (e) {
              for (var t = this; t; ) {
                var i = t._nsMap;
                if (i) for (var n in i) if (i[n] == e) return n;
                t = t.nodeType == a ? t.ownerDocument : t.parentNode;
              }
              return null;
            },
            lookupNamespaceURI: function (e) {
              for (var t = this; t; ) {
                var i = t._nsMap;
                if (i && e in i) return i[e];
                t = t.nodeType == a ? t.ownerDocument : t.parentNode;
              }
              return null;
            },
            isDefaultNamespace: function (e) {
              return null == this.lookupPrefix(e);
            },
          }),
          i(r, x),
          i(r, x.prototype),
          (R.prototype = {
            nodeName: '#document',
            nodeType: p,
            doctype: null,
            documentElement: null,
            _inc: 1,
            insertBefore: function (e, t) {
              if (e.nodeType == m) {
                for (var i = e.firstChild; i; ) {
                  var n = i.nextSibling;
                  this.insertBefore(i, t), (i = n);
                }
                return e;
              }
              return (
                null == this.documentElement &&
                  e.nodeType == s &&
                  (this.documentElement = e),
                B(this, e, t),
                (e.ownerDocument = this),
                e
              );
            },
            removeChild: function (e) {
              return (
                this.documentElement == e && (this.documentElement = null),
                N(this, e)
              );
            },
            importNode: function (e, t) {
              return te(this, e, t);
            },
            getElementById: function (e) {
              var t = null;
              return (
                D(this.documentElement, function (i) {
                  if (i.nodeType == s && i.getAttribute('id') == e)
                    return (t = i), !0;
                }),
                t
              );
            },
            getElementsByClassName: function (e) {
              var t = new RegExp('(^|\\s)' + e + '(\\s|$)');
              return new k(this, function (e) {
                var i = [];
                return (
                  D(e.documentElement, function (n) {
                    n !== e &&
                      n.nodeType == s &&
                      t.test(n.getAttribute('class')) &&
                      i.push(n);
                  }),
                  i
                );
              });
            },
            createElement: function (e) {
              var t = new U();
              return (
                (t.ownerDocument = this),
                (t.nodeName = e),
                (t.tagName = e),
                (t.childNodes = new w()),
                ((t.attributes = new C())._ownerElement = t),
                t
              );
            },
            createDocumentFragment: function () {
              var e = new G();
              return (e.ownerDocument = this), (e.childNodes = new w()), e;
            },
            createTextNode: function (e) {
              var t = new V();
              return (t.ownerDocument = this), t.appendData(e), t;
            },
            createComment: function (e) {
              var t = new H();
              return (t.ownerDocument = this), t.appendData(e), t;
            },
            createCDATASection: function (e) {
              var t = new q();
              return (t.ownerDocument = this), t.appendData(e), t;
            },
            createProcessingInstruction: function (e, t) {
              var i = new Y();
              return (
                (i.ownerDocument = this),
                (i.tagName = i.target = e),
                (i.nodeValue = i.data = t),
                i
              );
            },
            createAttribute: function (e) {
              var t = new F();
              return (
                (t.ownerDocument = this),
                (t.name = e),
                (t.nodeName = e),
                (t.localName = e),
                (t.specified = !0),
                t
              );
            },
            createEntityReference: function (e) {
              var t = new Q();
              return (t.ownerDocument = this), (t.nodeName = e), t;
            },
            createElementNS: function (e, t) {
              var i = new U(),
                n = t.split(':'),
                r = (i.attributes = new C());
              return (
                (i.childNodes = new w()),
                (i.ownerDocument = this),
                (i.nodeName = t),
                (i.tagName = t),
                (i.namespaceURI = e),
                2 == n.length
                  ? ((i.prefix = n[0]), (i.localName = n[1]))
                  : (i.localName = t),
                (r._ownerElement = i),
                i
              );
            },
            createAttributeNS: function (e, t) {
              var i = new F(),
                n = t.split(':');
              return (
                (i.ownerDocument = this),
                (i.nodeName = t),
                (i.name = t),
                (i.namespaceURI = e),
                (i.specified = !0),
                2 == n.length
                  ? ((i.prefix = n[0]), (i.localName = n[1]))
                  : (i.localName = t),
                i
              );
            },
          }),
          n(R, x),
          (U.prototype = {
            nodeType: s,
            hasAttribute: function (e) {
              return null != this.getAttributeNode(e);
            },
            getAttribute: function (e) {
              var t = this.getAttributeNode(e);
              return (t && t.value) || '';
            },
            getAttributeNode: function (e) {
              return this.attributes.getNamedItem(e);
            },
            setAttribute: function (e, t) {
              var i = this.ownerDocument.createAttribute(e);
              (i.value = i.nodeValue = '' + t), this.setAttributeNode(i);
            },
            removeAttribute: function (e) {
              var t = this.getAttributeNode(e);
              t && this.removeAttributeNode(t);
            },
            appendChild: function (e) {
              return e.nodeType === m
                ? this.insertBefore(e, null)
                : (function (e, t) {
                    var i = t.parentNode;
                    if (i) {
                      var n = e.lastChild;
                      i.removeChild(t), (n = e.lastChild);
                    }
                    return (
                      (n = e.lastChild),
                      (t.parentNode = e),
                      (t.previousSibling = n),
                      (t.nextSibling = null),
                      n ? (n.nextSibling = t) : (e.firstChild = t),
                      (e.lastChild = t),
                      M(e.ownerDocument, e, t),
                      t
                    );
                  })(this, e);
            },
            setAttributeNode: function (e) {
              return this.attributes.setNamedItem(e);
            },
            setAttributeNodeNS: function (e) {
              return this.attributes.setNamedItemNS(e);
            },
            removeAttributeNode: function (e) {
              return this.attributes.removeNamedItem(e.nodeName);
            },
            removeAttributeNS: function (e, t) {
              var i = this.getAttributeNodeNS(e, t);
              i && this.removeAttributeNode(i);
            },
            hasAttributeNS: function (e, t) {
              return null != this.getAttributeNodeNS(e, t);
            },
            getAttributeNS: function (e, t) {
              var i = this.getAttributeNodeNS(e, t);
              return (i && i.value) || '';
            },
            setAttributeNS: function (e, t, i) {
              var n = this.ownerDocument.createAttributeNS(e, t);
              (n.value = n.nodeValue = '' + i), this.setAttributeNode(n);
            },
            getAttributeNodeNS: function (e, t) {
              return this.attributes.getNamedItemNS(e, t);
            },
            getElementsByTagName: function (e) {
              return new k(this, function (t) {
                var i = [];
                return (
                  D(t, function (n) {
                    n === t ||
                      n.nodeType != s ||
                      ('*' !== e && n.tagName != e) ||
                      i.push(n);
                  }),
                  i
                );
              });
            },
            getElementsByTagNameNS: function (e, t) {
              return new k(this, function (i) {
                var n = [];
                return (
                  D(i, function (r) {
                    r === i ||
                      r.nodeType !== s ||
                      ('*' !== e && r.namespaceURI !== e) ||
                      ('*' !== t && r.localName != t) ||
                      n.push(r);
                  }),
                  n
                );
              });
            },
          }),
          (R.prototype.getElementsByTagName = U.prototype.getElementsByTagName),
          (R.prototype.getElementsByTagNameNS =
            U.prototype.getElementsByTagNameNS),
          n(U, x),
          (F.prototype.nodeType = a),
          n(F, x),
          (W.prototype = {
            data: '',
            substringData: function (e, t) {
              return this.data.substring(e, e + t);
            },
            appendData: function (e) {
              (e = this.data + e),
                (this.nodeValue = this.data = e),
                (this.length = e.length);
            },
            insertData: function (e, t) {
              this.replaceData(e, 0, t);
            },
            appendChild: function (e) {
              throw new Error(y[A]);
            },
            deleteData: function (e, t) {
              this.replaceData(e, t, '');
            },
            replaceData: function (e, t, i) {
              (i = this.data.substring(0, e) + i + this.data.substring(e + t)),
                (this.nodeValue = this.data = i),
                (this.length = i.length);
            },
          }),
          n(W, x),
          (V.prototype = {
            nodeName: '#text',
            nodeType: o,
            splitText: function (e) {
              var t = this.data,
                i = t.substring(e);
              (t = t.substring(0, e)),
                (this.data = this.nodeValue = t),
                (this.length = t.length);
              var n = this.ownerDocument.createTextNode(i);
              return (
                this.parentNode &&
                  this.parentNode.insertBefore(n, this.nextSibling),
                n
              );
            },
          }),
          n(V, W),
          (H.prototype = { nodeName: '#comment', nodeType: h }),
          n(H, W),
          (q.prototype = { nodeName: '#cdata-section', nodeType: l }),
          n(q, W),
          (z.prototype.nodeType = f),
          n(z, x),
          (K.prototype.nodeType = g),
          n(K, x),
          (X.prototype.nodeType = d),
          n(X, x),
          (Q.prototype.nodeType = u),
          n(Q, x),
          (G.prototype.nodeName = '#document-fragment'),
          (G.prototype.nodeType = m),
          n(G, x),
          (Y.prototype.nodeType = c),
          n(Y, x),
          (J.prototype.serializeToString = function (e, t, i) {
            return Z.call(e, t, i);
          }),
          (x.prototype.toString = Z);
        try {
          if (Object.defineProperty) {
            function re(e) {
              switch (e.nodeType) {
                case s:
                case m:
                  var t = [];
                  for (e = e.firstChild; e; )
                    7 !== e.nodeType && 8 !== e.nodeType && t.push(re(e)),
                      (e = e.nextSibling);
                  return t.join('');
                default:
                  return e.nodeValue;
              }
            }
            Object.defineProperty(k.prototype, 'length', {
              get: function () {
                return _(this), this.$$length;
              },
            }),
              Object.defineProperty(x.prototype, 'textContent', {
                get: function () {
                  return re(this);
                },
                set: function (e) {
                  switch (this.nodeType) {
                    case s:
                    case m:
                      for (; this.firstChild; )
                        this.removeChild(this.firstChild);
                      (e || String(e)) &&
                        this.appendChild(this.ownerDocument.createTextNode(e));
                      break;
                    default:
                      (this.data = e), (this.value = e), (this.nodeValue = e);
                  }
                },
              }),
              (ne = function (e, t, i) {
                e['$$' + t] = i;
              });
          }
        } catch (se) {}
        t.DOMImplementation = I;
      },
      791: (e, t) => {
        t.entityMap = {
          lt: '<',
          gt: '>',
          amp: '&',
          quot: '"',
          apos: "'",
          Agrave: 'À',
          Aacute: 'Á',
          Acirc: 'Â',
          Atilde: 'Ã',
          Auml: 'Ä',
          Aring: 'Å',
          AElig: 'Æ',
          Ccedil: 'Ç',
          Egrave: 'È',
          Eacute: 'É',
          Ecirc: 'Ê',
          Euml: 'Ë',
          Igrave: 'Ì',
          Iacute: 'Í',
          Icirc: 'Î',
          Iuml: 'Ï',
          ETH: 'Ð',
          Ntilde: 'Ñ',
          Ograve: 'Ò',
          Oacute: 'Ó',
          Ocirc: 'Ô',
          Otilde: 'Õ',
          Ouml: 'Ö',
          Oslash: 'Ø',
          Ugrave: 'Ù',
          Uacute: 'Ú',
          Ucirc: 'Û',
          Uuml: 'Ü',
          Yacute: 'Ý',
          THORN: 'Þ',
          szlig: 'ß',
          agrave: 'à',
          aacute: 'á',
          acirc: 'â',
          atilde: 'ã',
          auml: 'ä',
          aring: 'å',
          aelig: 'æ',
          ccedil: 'ç',
          egrave: 'è',
          eacute: 'é',
          ecirc: 'ê',
          euml: 'ë',
          igrave: 'ì',
          iacute: 'í',
          icirc: 'î',
          iuml: 'ï',
          eth: 'ð',
          ntilde: 'ñ',
          ograve: 'ò',
          oacute: 'ó',
          ocirc: 'ô',
          otilde: 'õ',
          ouml: 'ö',
          oslash: 'ø',
          ugrave: 'ù',
          uacute: 'ú',
          ucirc: 'û',
          uuml: 'ü',
          yacute: 'ý',
          thorn: 'þ',
          yuml: 'ÿ',
          nbsp: ' ',
          iexcl: '¡',
          cent: '¢',
          pound: '£',
          curren: '¤',
          yen: '¥',
          brvbar: '¦',
          sect: '§',
          uml: '¨',
          copy: '©',
          ordf: 'ª',
          laquo: '«',
          not: '¬',
          shy: '­­',
          reg: '®',
          macr: '¯',
          deg: '°',
          plusmn: '±',
          sup2: '²',
          sup3: '³',
          acute: '´',
          micro: 'µ',
          para: '¶',
          middot: '·',
          cedil: '¸',
          sup1: '¹',
          ordm: 'º',
          raquo: '»',
          frac14: '¼',
          frac12: '½',
          frac34: '¾',
          iquest: '¿',
          times: '×',
          divide: '÷',
          forall: '∀',
          part: '∂',
          exist: '∃',
          empty: '∅',
          nabla: '∇',
          isin: '∈',
          notin: '∉',
          ni: '∋',
          prod: '∏',
          sum: '∑',
          minus: '−',
          lowast: '∗',
          radic: '√',
          prop: '∝',
          infin: '∞',
          ang: '∠',
          and: '∧',
          or: '∨',
          cap: '∩',
          cup: '∪',
          int: '∫',
          there4: '∴',
          sim: '∼',
          cong: '≅',
          asymp: '≈',
          ne: '≠',
          equiv: '≡',
          le: '≤',
          ge: '≥',
          sub: '⊂',
          sup: '⊃',
          nsub: '⊄',
          sube: '⊆',
          supe: '⊇',
          oplus: '⊕',
          otimes: '⊗',
          perp: '⊥',
          sdot: '⋅',
          Alpha: 'Α',
          Beta: 'Β',
          Gamma: 'Γ',
          Delta: 'Δ',
          Epsilon: 'Ε',
          Zeta: 'Ζ',
          Eta: 'Η',
          Theta: 'Θ',
          Iota: 'Ι',
          Kappa: 'Κ',
          Lambda: 'Λ',
          Mu: 'Μ',
          Nu: 'Ν',
          Xi: 'Ξ',
          Omicron: 'Ο',
          Pi: 'Π',
          Rho: 'Ρ',
          Sigma: 'Σ',
          Tau: 'Τ',
          Upsilon: 'Υ',
          Phi: 'Φ',
          Chi: 'Χ',
          Psi: 'Ψ',
          Omega: 'Ω',
          alpha: 'α',
          beta: 'β',
          gamma: 'γ',
          delta: 'δ',
          epsilon: 'ε',
          zeta: 'ζ',
          eta: 'η',
          theta: 'θ',
          iota: 'ι',
          kappa: 'κ',
          lambda: 'λ',
          mu: 'μ',
          nu: 'ν',
          xi: 'ξ',
          omicron: 'ο',
          pi: 'π',
          rho: 'ρ',
          sigmaf: 'ς',
          sigma: 'σ',
          tau: 'τ',
          upsilon: 'υ',
          phi: 'φ',
          chi: 'χ',
          psi: 'ψ',
          omega: 'ω',
          thetasym: 'ϑ',
          upsih: 'ϒ',
          piv: 'ϖ',
          OElig: 'Œ',
          oelig: 'œ',
          Scaron: 'Š',
          scaron: 'š',
          Yuml: 'Ÿ',
          fnof: 'ƒ',
          circ: 'ˆ',
          tilde: '˜',
          ensp: ' ',
          emsp: ' ',
          thinsp: ' ',
          zwnj: '‌',
          zwj: '‍',
          lrm: '‎',
          rlm: '‏',
          ndash: '–',
          mdash: '—',
          lsquo: '‘',
          rsquo: '’',
          sbquo: '‚',
          ldquo: '“',
          rdquo: '”',
          bdquo: '„',
          dagger: '†',
          Dagger: '‡',
          bull: '•',
          hellip: '…',
          permil: '‰',
          prime: '′',
          Prime: '″',
          lsaquo: '‹',
          rsaquo: '›',
          oline: '‾',
          euro: '€',
          trade: '™',
          larr: '←',
          uarr: '↑',
          rarr: '→',
          darr: '↓',
          harr: '↔',
          crarr: '↵',
          lceil: '⌈',
          rceil: '⌉',
          lfloor: '⌊',
          rfloor: '⌋',
          loz: '◊',
          spades: '♠',
          clubs: '♣',
          hearts: '♥',
          diams: '♦',
        };
      },
      275: (e, t) => {
        var i =
            /[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,
          n = new RegExp(
            '[\\-\\.0-9' +
              i.source.slice(1, -1) +
              '\\u00B7\\u0300-\\u036F\\u203F-\\u2040]',
          ),
          r = new RegExp(
            '^' + i.source + n.source + '*(?::' + i.source + n.source + '*)?$',
          );
        function s(e, t) {
          (this.message = e),
            (this.locator = t),
            Error.captureStackTrace && Error.captureStackTrace(this, s);
        }
        function a() {}
        function o(e, t) {
          return (
            (t.lineNumber = e.lineNumber), (t.columnNumber = e.columnNumber), t
          );
        }
        function l(e, t, i, n, r, s) {
          function a(e, t, n) {
            e in i.attributeNames &&
              s.fatalError('Attribute ' + e + ' redefined'),
              i.addValue(e, t, n);
          }
          for (var o, l = ++t, u = 0; ; ) {
            var d = e.charAt(l);
            switch (d) {
              case '=':
                if (1 === u) (o = e.slice(t, l)), (u = 3);
                else {
                  if (2 !== u)
                    throw new Error('attribute equal must after attrName');
                  u = 3;
                }
                break;
              case "'":
              case '"':
                if (3 === u || 1 === u) {
                  if (
                    (1 === u &&
                      (s.warning('attribute value must after "="'),
                      (o = e.slice(t, l))),
                    (t = l + 1),
                    !((l = e.indexOf(d, t)) > 0))
                  )
                    throw new Error("attribute value no end '" + d + "' match");
                  a(o, (c = e.slice(t, l).replace(/&#?\w+;/g, r)), t - 1),
                    (u = 5);
                } else {
                  if (4 != u) throw new Error('attribute value must after "="');
                  a(o, (c = e.slice(t, l).replace(/&#?\w+;/g, r)), t),
                    s.warning(
                      'attribute "' + o + '" missed start quot(' + d + ')!!',
                    ),
                    (t = l + 1),
                    (u = 5);
                }
                break;
              case '/':
                switch (u) {
                  case 0:
                    i.setTagName(e.slice(t, l));
                  case 5:
                  case 6:
                  case 7:
                    (u = 7), (i.closed = !0);
                  case 4:
                  case 1:
                  case 2:
                    break;
                  default:
                    throw new Error("attribute invalid close char('/')");
                }
                break;
              case '':
                return (
                  s.error('unexpected end of input'),
                  0 == u && i.setTagName(e.slice(t, l)),
                  l
                );
              case '>':
                switch (u) {
                  case 0:
                    i.setTagName(e.slice(t, l));
                  case 5:
                  case 6:
                  case 7:
                    break;
                  case 4:
                  case 1:
                    '/' === (c = e.slice(t, l)).slice(-1) &&
                      ((i.closed = !0), (c = c.slice(0, -1)));
                  case 2:
                    2 === u && (c = o),
                      4 == u
                        ? (s.warning('attribute "' + c + '" missed quot(")!'),
                          a(o, c.replace(/&#?\w+;/g, r), t))
                        : (('http://www.w3.org/1999/xhtml' === n[''] &&
                            c.match(/^(?:disabled|checked|selected)$/i)) ||
                            s.warning(
                              'attribute "' +
                                c +
                                '" missed value!! "' +
                                c +
                                '" instead!!',
                            ),
                          a(c, c, t));
                    break;
                  case 3:
                    throw new Error('attribute value missed!!');
                }
                return l;
              case '':
                d = ' ';
              default:
                if (d <= ' ')
                  switch (u) {
                    case 0:
                      i.setTagName(e.slice(t, l)), (u = 6);
                      break;
                    case 1:
                      (o = e.slice(t, l)), (u = 2);
                      break;
                    case 4:
                      var c = e.slice(t, l).replace(/&#?\w+;/g, r);
                      s.warning('attribute "' + c + '" missed quot(")!!'),
                        a(o, c, t);
                    case 5:
                      u = 6;
                  }
                else
                  switch (u) {
                    case 2:
                      i.tagName;
                      ('http://www.w3.org/1999/xhtml' === n[''] &&
                        o.match(/^(?:disabled|checked|selected)$/i)) ||
                        s.warning(
                          'attribute "' +
                            o +
                            '" missed value!! "' +
                            o +
                            '" instead2!!',
                        ),
                        a(o, o, t),
                        (t = l),
                        (u = 1);
                      break;
                    case 5:
                      s.warning('attribute space is required"' + o + '"!!');
                    case 6:
                      (u = 1), (t = l);
                      break;
                    case 3:
                      (u = 4), (t = l);
                      break;
                    case 7:
                      throw new Error(
                        "elements closed character '/' and '>' must be connected to",
                      );
                  }
            }
            l++;
          }
        }
        function u(e, t, i) {
          for (var n = e.tagName, r = null, s = e.length; s--; ) {
            var a = e[s],
              o = a.qName,
              l = a.value;
            if ((p = o.indexOf(':')) > 0)
              var u = (a.prefix = o.slice(0, p)),
                d = o.slice(p + 1),
                c = 'xmlns' === u && d;
            else (d = o), (u = null), (c = 'xmlns' === o && '');
            (a.localName = d),
              !1 !== c &&
                (null == r && ((r = {}), h(i, (i = {}))),
                (i[c] = r[c] = l),
                (a.uri = 'http://www.w3.org/2000/xmlns/'),
                t.startPrefixMapping(c, l));
          }
          for (s = e.length; s--; ) {
            (u = (a = e[s]).prefix) &&
              ('xml' === u && (a.uri = 'http://www.w3.org/XML/1998/namespace'),
              'xmlns' !== u && (a.uri = i[u || '']));
          }
          var p;
          (p = n.indexOf(':')) > 0
            ? ((u = e.prefix = n.slice(0, p)),
              (d = e.localName = n.slice(p + 1)))
            : ((u = null), (d = e.localName = n));
          var f = (e.uri = i[u || '']);
          if ((t.startElement(f, d, n, e), !e.closed))
            return (e.currentNSMap = i), (e.localNSMap = r), !0;
          if ((t.endElement(f, d, n), r)) for (u in r) t.endPrefixMapping(u);
        }
        function d(e, t, i, n, r) {
          if (/^(?:script|textarea)$/i.test(i)) {
            var s = e.indexOf('</' + i + '>', t),
              a = e.substring(t + 1, s);
            if (/[&<]/.test(a))
              return /^script$/i.test(i)
                ? (r.characters(a, 0, a.length), s)
                : ((a = a.replace(/&#?\w+;/g, n)),
                  r.characters(a, 0, a.length),
                  s);
          }
          return t + 1;
        }
        function c(e, t, i, n) {
          var r = n[i];
          return (
            null == r &&
              ((r = e.lastIndexOf('</' + i + '>')) < t &&
                (r = e.lastIndexOf('</' + i)),
              (n[i] = r)),
            r < t
          );
        }
        function h(e, t) {
          for (var i in e) t[i] = e[i];
        }
        function p(e, t, i, n) {
          if ('-' === e.charAt(t + 2))
            return '-' === e.charAt(t + 3)
              ? (r = e.indexOf('--\x3e', t + 4)) > t
                ? (i.comment(e, t + 4, r - t - 4), r + 3)
                : (n.error('Unclosed comment'), -1)
              : -1;
          if ('CDATA[' == e.substr(t + 3, 6)) {
            var r = e.indexOf(']]>', t + 9);
            return (
              i.startCDATA(),
              i.characters(e, t + 9, r - t - 9),
              i.endCDATA(),
              r + 3
            );
          }
          var s = (function (e, t) {
              var i,
                n = [],
                r = /'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;
              (r.lastIndex = t), r.exec(e);
              for (; (i = r.exec(e)); ) if ((n.push(i), i[1])) return n;
            })(e, t),
            a = s.length;
          if (a > 1 && /!doctype/i.test(s[0][0])) {
            var o = s[1][0],
              l = !1,
              u = !1;
            a > 3 &&
              (/^public$/i.test(s[2][0])
                ? ((l = s[3][0]), (u = a > 4 && s[4][0]))
                : /^system$/i.test(s[2][0]) && (u = s[3][0]));
            var d = s[a - 1];
            return i.startDTD(o, l, u), i.endDTD(), d.index + d[0].length;
          }
          return -1;
        }
        function f(e, t, i) {
          var n = e.indexOf('?>', t);
          if (n) {
            var r = e.substring(t, n).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);
            if (r) {
              r[0].length;
              return i.processingInstruction(r[1], r[2]), n + 2;
            }
            return -1;
          }
          return -1;
        }
        function m() {
          this.attributeNames = {};
        }
        (s.prototype = new Error()),
          (s.prototype.name = s.name),
          (a.prototype = {
            parse: function (e, t, i) {
              var n = this.domBuilder;
              n.startDocument(),
                h(t, (t = {})),
                (function (e, t, i, n, r) {
                  function a(e) {
                    if (e > 65535) {
                      var t = 55296 + ((e -= 65536) >> 10),
                        i = 56320 + (1023 & e);
                      return String.fromCharCode(t, i);
                    }
                    return String.fromCharCode(e);
                  }
                  function h(e) {
                    var t = e.slice(1, -1);
                    return t in i
                      ? i[t]
                      : '#' === t.charAt(0)
                        ? a(parseInt(t.substr(1).replace('x', '0x')))
                        : (r.error('entity not found:' + e), e);
                  }
                  function g(t) {
                    if (t > k) {
                      var i = e.substring(k, t).replace(/&#?\w+;/g, h);
                      T && v(k), n.characters(i, 0, t - k), (k = t);
                    }
                  }
                  function v(t, i) {
                    for (; t >= A && (i = b.exec(e)); )
                      (y = i.index), (A = y + i[0].length), T.lineNumber++;
                    T.columnNumber = t - y + 1;
                  }
                  var y = 0,
                    A = 0,
                    b = /.*(?:\r\n?|\n)|.*$/g,
                    T = n.locator,
                    S = [{ currentNSMap: t }],
                    w = {},
                    k = 0;
                  for (;;) {
                    try {
                      var _ = e.indexOf('<', k);
                      if (_ < 0) {
                        if (!e.substr(k).match(/^\s*$/)) {
                          var C = n.doc,
                            E = C.createTextNode(e.substr(k));
                          C.appendChild(E), (n.currentElement = E);
                        }
                        return;
                      }
                      switch ((_ > k && g(_), e.charAt(_ + 1))) {
                        case '/':
                          var j = e.indexOf('>', _ + 3),
                            P = e.substring(_ + 2, j),
                            I = S.pop();
                          j < 0
                            ? ((P = e.substring(_ + 2).replace(/[\s<].*/, '')),
                              r.error(
                                'end tag name: ' +
                                  P +
                                  ' is not complete:' +
                                  I.tagName,
                              ),
                              (j = _ + 1 + P.length))
                            : P.match(/\s</) &&
                              ((P = P.replace(/[\s<].*/, '')),
                              r.error(
                                'end tag name: ' + P + ' maybe not complete',
                              ),
                              (j = _ + 1 + P.length));
                          var x = I.localNSMap,
                            L = I.tagName == P;
                          if (
                            L ||
                            (I.tagName &&
                              I.tagName.toLowerCase() == P.toLowerCase())
                          ) {
                            if ((n.endElement(I.uri, I.localName, P), x))
                              for (var D in x) n.endPrefixMapping(D);
                            L ||
                              r.fatalError(
                                'end tag name: ' +
                                  P +
                                  ' is not match the current start tagName:' +
                                  I.tagName,
                              );
                          } else S.push(I);
                          j++;
                          break;
                        case '?':
                          T && v(_), (j = f(e, _, n));
                          break;
                        case '!':
                          T && v(_), (j = p(e, _, n, r));
                          break;
                        default:
                          T && v(_);
                          var R = new m(),
                            O = S[S.length - 1].currentNSMap,
                            M = ((j = l(e, _, R, O, h, r)), R.length);
                          if (
                            (!R.closed &&
                              c(e, j, R.tagName, w) &&
                              ((R.closed = !0),
                              i.nbsp || r.warning('unclosed xml attribute')),
                            T && M)
                          ) {
                            for (var N = o(T, {}), B = 0; B < M; B++) {
                              var U = R[B];
                              v(U.offset), (U.locator = o(T, {}));
                            }
                            (n.locator = N),
                              u(R, n, O) && S.push(R),
                              (n.locator = T);
                          } else u(R, n, O) && S.push(R);
                          'http://www.w3.org/1999/xhtml' !== R.uri || R.closed
                            ? j++
                            : (j = d(e, j, R.tagName, h, n));
                      }
                    } catch (e) {
                      if (e instanceof s) throw e;
                      r.error('element parse error: ' + e), (j = -1);
                    }
                    j > k ? (k = j) : g(Math.max(_, k) + 1);
                  }
                })(e, t, i, n, this.errorHandler),
                n.endDocument();
            },
          }),
          (m.prototype = {
            setTagName: function (e) {
              if (!r.test(e)) throw new Error('invalid tagName:' + e);
              this.tagName = e;
            },
            addValue: function (e, t, i) {
              if (!r.test(e)) throw new Error('invalid attribute:' + e);
              (this.attributeNames[e] = this.length),
                (this[this.length++] = { qName: e, value: t, offset: i });
            },
            length: 0,
            getLocalName: function (e) {
              return this[e].localName;
            },
            getLocator: function (e) {
              return this[e].locator;
            },
            getQName: function (e) {
              return this[e].qName;
            },
            getURI: function (e) {
              return this[e].uri;
            },
            getValue: function (e) {
              return this[e].value;
            },
          }),
          (t.XMLReader = a),
          (t.ParseError = s);
      },
      345: () => {},
      893: () => {},
      586: () => {},
    },
    t = {};
  function i(n) {
    var r = t[n];
    if (void 0 !== r) return r.exports;
    var s = (t[n] = { id: n, exports: {} });
    return e[n].call(s.exports, s, s.exports, i), s.exports;
  }
  (i.n = (e) => {
    var t = e && e.__esModule ? () => e.default : () => e;
    return i.d(t, { a: t }), t;
  }),
    (i.d = (e, t) => {
      for (var n in t)
        i.o(t, n) &&
          !i.o(e, n) &&
          Object.defineProperty(e, n, { enumerable: !0, get: t[n] });
    }),
    (i.g = (function () {
      if ('object' == typeof globalThis) return globalThis;
      try {
        return this || new Function('return this')();
      } catch (e) {
        if ('object' == typeof window) return window;
      }
    })()),
    (i.o = (e, t) => Object.prototype.hasOwnProperty.call(e, t)),
    (i.r = (e) => {
      'undefined' != typeof Symbol &&
        Symbol.toStringTag &&
        Object.defineProperty(e, Symbol.toStringTag, { value: 'Module' }),
        Object.defineProperty(e, '__esModule', { value: !0 });
    }),
    (i.nc = void 0),
    (() => {
      'use strict';
      var e = i(668),
        t = (i(38), i(386)),
        n = i.n(t),
        r = function (e, t, i) {
          (this.vjsPlayer = e),
            (this.controller = i),
            (this.contentTrackingTimer = null),
            (this.contentComplete = !1),
            (this.updateTimeIntervalHandle = null),
            (this.updateTimeInterval = 1e3),
            (this.seekCheckIntervalHandle = null),
            (this.seekCheckInterval = 1e3),
            (this.resizeCheckIntervalHandle = null),
            (this.resizeCheckInterval = 250),
            (this.seekThreshold = 100),
            (this.contentEndedListeners = []),
            (this.contentSource = ''),
            (this.contentSourceType = ''),
            (this.contentPlayheadTracker = {
              currentTime: 0,
              previousTime: 0,
              seeking: !1,
              duration: 0,
            }),
            (this.vjsPlayerDimensions = {
              width: this.getPlayerWidth(),
              height: this.getPlayerHeight(),
            }),
            (this.vjsControls = this.vjsPlayer.getChild('controlBar')),
            (this.h5Player = null),
            this.vjsPlayer.one('play', this.setUpPlayerIntervals.bind(this)),
            (this.boundContentEndedListener =
              this.localContentEndedListener.bind(this)),
            this.vjsPlayer.on('contentended', this.boundContentEndedListener),
            this.vjsPlayer.on(
              'dispose',
              this.playerDisposedListener.bind(this),
            ),
            this.vjsPlayer.on(
              'readyforpreroll',
              this.onReadyForPreroll.bind(this),
            ),
            this.vjsPlayer.on('adtimeout', this.onAdTimeout.bind(this)),
            this.vjsPlayer.ready(this.onPlayerReady.bind(this)),
            'onPlay' === this.controller.getSettings().requestMode &&
              this.vjsPlayer.one(
                'play',
                this.controller.requestAds.bind(this.controller),
              ),
            this.vjsPlayer.ads(t);
        };
      (r.prototype.setUpPlayerIntervals = function () {
        (this.updateTimeIntervalHandle = setInterval(
          this.updateCurrentTime.bind(this),
          this.updateTimeInterval,
        )),
          (this.seekCheckIntervalHandle = setInterval(
            this.checkForSeeking.bind(this),
            this.seekCheckInterval,
          )),
          (this.resizeCheckIntervalHandle = setInterval(
            this.checkForResize.bind(this),
            this.resizeCheckInterval,
          ));
      }),
        (r.prototype.updateCurrentTime = function () {
          this.contentPlayheadTracker.seeking ||
            (this.contentPlayheadTracker.currentTime =
              this.vjsPlayer.currentTime());
        }),
        (r.prototype.checkForSeeking = function () {
          var e =
            1e3 *
            (this.vjsPlayer.currentTime() -
              this.contentPlayheadTracker.previousTime);
          Math.abs(e) > this.seekCheckInterval + this.seekThreshold
            ? (this.contentPlayheadTracker.seeking = !0)
            : (this.contentPlayheadTracker.seeking = !1),
            (this.contentPlayheadTracker.previousTime =
              this.vjsPlayer.currentTime());
        }),
        (r.prototype.checkForResize = function () {
          var e = this.getPlayerWidth(),
            t = this.getPlayerHeight();
          (e == this.vjsPlayerDimensions.width &&
            t == this.vjsPlayerDimensions.height) ||
            ((this.vjsPlayerDimensions.width = e),
            (this.vjsPlayerDimensions.height = t),
            this.controller.onPlayerResize(e, t));
        }),
        (r.prototype.localContentEndedListener = function () {
          for (var e in (this.contentComplete ||
            ((this.contentComplete = !0), this.controller.onContentComplete()),
          this.contentEndedListeners))
            'function' == typeof this.contentEndedListeners[e] &&
              this.contentEndedListeners[e]();
          clearInterval(this.updateTimeIntervalHandle),
            clearInterval(this.seekCheckIntervalHandle),
            clearInterval(this.resizeCheckIntervalHandle),
            this.vjsPlayer.el() &&
              this.vjsPlayer.one('play', this.setUpPlayerIntervals.bind(this));
        }),
        (r.prototype.onNoPostroll = function () {
          this.vjsPlayer.trigger('nopostroll');
        }),
        (r.prototype.playerDisposedListener = function () {
          (this.contentEndedListeners = []),
            this.controller.onPlayerDisposed(),
            (this.contentComplete = !0),
            this.vjsPlayer.off('contentended', this.boundContentEndedListener),
            this.vjsPlayer.ads.adTimeoutTimeout &&
              clearTimeout(this.vjsPlayer.ads.adTimeoutTimeout);
          var e = [
            this.updateTimeIntervalHandle,
            this.seekCheckIntervalHandle,
            this.resizeCheckIntervalHandle,
          ];
          for (var t in e) e[t] && clearInterval(e[t]);
        }),
        (r.prototype.onReadyForPreroll = function () {
          this.controller.onPlayerReadyForPreroll();
        }),
        (r.prototype.onAdTimeout = function () {
          this.controller.onAdTimeout();
        }),
        (r.prototype.onPlayerReady = function () {
          (this.h5Player = document
            .getElementById(this.getPlayerId())
            .getElementsByClassName('vjs-tech')[0]),
            this.h5Player.hasAttribute('autoplay') &&
              this.controller.setSetting('adWillAutoPlay', !0),
            this.onVolumeChange(),
            this.vjsPlayer.on(
              'fullscreenchange',
              this.onFullscreenChange.bind(this),
            ),
            this.vjsPlayer.on('volumechange', this.onVolumeChange.bind(this)),
            this.controller.onPlayerReady();
        }),
        (r.prototype.onFullscreenChange = function () {
          this.vjsPlayer.isFullscreen()
            ? this.controller.onPlayerEnterFullscreen()
            : this.controller.onPlayerExitFullscreen();
        }),
        (r.prototype.onVolumeChange = function () {
          var e = this.vjsPlayer.muted() ? 0 : this.vjsPlayer.volume();
          this.controller.onPlayerVolumeChanged(e);
        }),
        (r.prototype.injectAdContainerDiv = function (e) {
          this.vjsControls.el().parentNode.appendChild(e);
        }),
        (r.prototype.getContentPlayer = function () {
          return this.h5Player;
        }),
        (r.prototype.getVolume = function () {
          return this.vjsPlayer.muted() ? 0 : this.vjsPlayer.volume();
        }),
        (r.prototype.setVolume = function (e) {
          this.vjsPlayer.volume(e),
            0 == e ? this.vjsPlayer.muted(!0) : this.vjsPlayer.muted(!1);
        }),
        (r.prototype.unmute = function () {
          this.vjsPlayer.muted(!1);
        }),
        (r.prototype.mute = function () {
          this.vjsPlayer.muted(!0);
        }),
        (r.prototype.play = function () {
          this.vjsPlayer.play();
        }),
        (r.prototype.togglePlayback = function () {
          this.vjsPlayer.paused()
            ? this.vjsPlayer.play()
            : this.vjsPlayer.pause();
        }),
        (r.prototype.getPlayerWidth = function () {
          var e = (getComputedStyle(this.vjsPlayer.el()) || {}).width;
          return (
            (e && 0 !== parseFloat(e)) ||
              (e = (this.vjsPlayer.el().getBoundingClientRect() || {}).width),
            parseFloat(e) || this.vjsPlayer.width()
          );
        }),
        (r.prototype.getPlayerHeight = function () {
          var e = (getComputedStyle(this.vjsPlayer.el()) || {}).height;
          return (
            (e && 0 !== parseFloat(e)) ||
              (e = (this.vjsPlayer.el().getBoundingClientRect() || {}).height),
            parseFloat(e) || this.vjsPlayer.height()
          );
        }),
        (r.prototype.getPlayerOptions = function () {
          return this.vjsPlayer.options_;
        }),
        (r.prototype.getPlayerId = function () {
          return this.vjsPlayer.id();
        }),
        (r.prototype.toggleFullscreen = function () {
          this.vjsPlayer.isFullscreen()
            ? this.vjsPlayer.exitFullscreen()
            : this.vjsPlayer.requestFullscreen();
        }),
        (r.prototype.getContentPlayheadTracker = function () {
          return this.contentPlayheadTracker;
        }),
        (r.prototype.onAdError = function (e) {
          this.vjsControls.show();
          var t = void 0 !== e.getError ? e.getError() : e.stack;
          this.vjsPlayer.trigger({
            type: 'adserror',
            data: { AdError: t, AdErrorEvent: e },
          });
        }),
        (r.prototype.onAdLog = function (e) {
          var t = e.getAdData(),
            i = void 0 !== t.adError ? t.adError.getMessage() : void 0;
          this.vjsPlayer.trigger({
            type: 'adslog',
            data: { AdError: i, AdEvent: e },
          });
        }),
        (r.prototype.onAdBreakStart = function () {
          (this.contentSource = this.vjsPlayer.currentSrc()),
            (this.contentSourceType = this.vjsPlayer.currentType()),
            this.vjsPlayer.off('contentended', this.boundContentEndedListener),
            this.vjsPlayer.ads.startLinearAdMode(),
            this.vjsControls.hide(),
            this.vjsPlayer.pause();
        }),
        (r.prototype.onAdBreakEnd = function () {
          this.vjsPlayer.on('contentended', this.boundContentEndedListener),
            this.vjsPlayer.ads.inAdBreak() &&
              this.vjsPlayer.ads.endLinearAdMode(),
            this.vjsControls.show();
        }),
        (r.prototype.onAdStart = function () {
          this.vjsPlayer.trigger('ads-ad-started');
        }),
        (r.prototype.onAllAdsCompleted = function () {
          1 == this.contentComplete &&
            (this.contentSource &&
              this.vjsPlayer.currentSrc() != this.contentSource &&
              this.vjsPlayer.src({
                src: this.contentSource,
                type: this.contentSourceType,
              }),
            this.controller.onContentAndAdsCompleted());
        }),
        (r.prototype.onAdsReady = function () {
          this.vjsPlayer.trigger('adsready');
        }),
        (r.prototype.changeSource = function (e) {
          this.vjsPlayer.currentSrc() &&
            (this.vjsPlayer.currentTime(0), this.vjsPlayer.pause()),
            e && this.vjsPlayer.src(e),
            this.vjsPlayer.one(
              'loadedmetadata',
              this.seekContentToZero.bind(this),
            );
        }),
        (r.prototype.seekContentToZero = function () {
          this.vjsPlayer.currentTime(0);
        }),
        (r.prototype.triggerPlayerEvent = function (e, t) {
          this.vjsPlayer.trigger(e, t);
        }),
        (r.prototype.addContentEndedListener = function (e) {
          this.contentEndedListeners.push(e);
        }),
        (r.prototype.reset = function () {
          this.vjsPlayer.off('contentended', this.boundContentEndedListener),
            this.vjsPlayer.on('contentended', this.boundContentEndedListener),
            this.vjsControls.show(),
            this.vjsPlayer.ads.inAdBreak() &&
              this.vjsPlayer.ads.endLinearAdMode(),
            (this.contentPlayheadTracker.currentTime = 0),
            (this.contentComplete = !1);
        });
      var s = function (e) {
        (this.controller = e),
          (this.adContainerDiv = document.createElement('div')),
          (this.controlsDiv = document.createElement('div')),
          (this.countdownDiv = document.createElement('div')),
          (this.seekBarDiv = document.createElement('div')),
          (this.progressDiv = document.createElement('div')),
          (this.playPauseDiv = document.createElement('div')),
          (this.muteDiv = document.createElement('div')),
          (this.sliderDiv = document.createElement('div')),
          (this.sliderLevelDiv = document.createElement('div')),
          (this.fullscreenDiv = document.createElement('div')),
          (this.boundOnMouseUp = this.onMouseUp.bind(this)),
          (this.boundOnMouseMove = this.onMouseMove.bind(this)),
          (this.adPlayheadTracker = {
            currentTime: 0,
            duration: 0,
            isPod: !1,
            adPosition: 0,
            totalAds: 0,
          }),
          (this.controlPrefix = this.controller.getPlayerId() + '_'),
          (this.showCountdown = !0),
          !1 === this.controller.getSettings().showCountdown &&
            (this.showCountdown = !1),
          (this.isAdNonlinear = !1),
          this.createAdContainer();
      };
      (s.prototype.createAdContainer = function () {
        this.assignControlAttributes(this.adContainerDiv, 'ima-ad-container'),
          (this.adContainerDiv.style.position = 'absolute'),
          (this.adContainerDiv.style.zIndex = 1111),
          this.adContainerDiv.addEventListener(
            'mouseenter',
            this.showAdControls.bind(this),
            !1,
          ),
          this.adContainerDiv.addEventListener(
            'mouseleave',
            this.hideAdControls.bind(this),
            !1,
          ),
          this.adContainerDiv.addEventListener(
            'click',
            this.onAdContainerClick.bind(this),
            !1,
          ),
          this.createControls(),
          this.controller.injectAdContainerDiv(this.adContainerDiv);
      }),
        (s.prototype.createControls = function () {
          this.assignControlAttributes(this.controlsDiv, 'ima-controls-div'),
            (this.controlsDiv.style.width = '100%'),
            this.controller.getIsMobile()
              ? (this.countdownDiv.style.display = 'none')
              : (this.assignControlAttributes(
                  this.countdownDiv,
                  'ima-countdown-div',
                ),
                (this.countdownDiv.innerHTML =
                  this.controller.getSettings().adLabel),
                (this.countdownDiv.style.display = this.showCountdown
                  ? 'block'
                  : 'none')),
            this.assignControlAttributes(this.seekBarDiv, 'ima-seek-bar-div'),
            (this.seekBarDiv.style.width = '100%'),
            this.assignControlAttributes(this.progressDiv, 'ima-progress-div'),
            this.assignControlAttributes(
              this.playPauseDiv,
              'ima-play-pause-div',
            ),
            this.addClass(this.playPauseDiv, 'ima-playing'),
            this.playPauseDiv.addEventListener(
              'click',
              this.onAdPlayPauseClick.bind(this),
              !1,
            ),
            this.assignControlAttributes(this.muteDiv, 'ima-mute-div'),
            this.addClass(this.muteDiv, 'ima-non-muted'),
            this.muteDiv.addEventListener(
              'click',
              this.onAdMuteClick.bind(this),
              !1,
            ),
            this.assignControlAttributes(this.sliderDiv, 'ima-slider-div'),
            this.sliderDiv.addEventListener(
              'mousedown',
              this.onAdVolumeSliderMouseDown.bind(this),
              !1,
            ),
            this.controller.getIsIos() &&
              (this.sliderDiv.style.display = 'none'),
            this.assignControlAttributes(
              this.sliderLevelDiv,
              'ima-slider-level-div',
            ),
            this.assignControlAttributes(
              this.fullscreenDiv,
              'ima-fullscreen-div',
            ),
            this.addClass(this.fullscreenDiv, 'ima-non-fullscreen'),
            this.fullscreenDiv.addEventListener(
              'click',
              this.onAdFullscreenClick.bind(this),
              !1,
            ),
            this.adContainerDiv.appendChild(this.controlsDiv),
            this.controlsDiv.appendChild(this.countdownDiv),
            this.controlsDiv.appendChild(this.seekBarDiv),
            this.controlsDiv.appendChild(this.playPauseDiv),
            this.controlsDiv.appendChild(this.muteDiv),
            this.controlsDiv.appendChild(this.sliderDiv),
            this.controlsDiv.appendChild(this.fullscreenDiv),
            this.seekBarDiv.appendChild(this.progressDiv),
            this.sliderDiv.appendChild(this.sliderLevelDiv);
        }),
        (s.prototype.onAdPlayPauseClick = function () {
          this.controller.onAdPlayPauseClick();
        }),
        (s.prototype.onAdMuteClick = function () {
          this.controller.onAdMuteClick();
        }),
        (s.prototype.onAdFullscreenClick = function () {
          this.controller.toggleFullscreen();
        }),
        (s.prototype.onAdsPaused = function () {
          (this.controller.sdkImpl.adPlaying = !1),
            this.addClass(this.playPauseDiv, 'ima-paused'),
            this.removeClass(this.playPauseDiv, 'ima-playing'),
            this.showAdControls();
        }),
        (s.prototype.onAdsResumed = function () {
          this.onAdsPlaying(), this.showAdControls();
        }),
        (s.prototype.onAdsPlaying = function () {
          (this.controller.sdkImpl.adPlaying = !0),
            this.addClass(this.playPauseDiv, 'ima-playing'),
            this.removeClass(this.playPauseDiv, 'ima-paused');
        }),
        (s.prototype.updateAdUi = function (e, t, i, n, r) {
          var s = Math.floor(t / 60),
            a = Math.floor(t % 60);
          a.toString().length < 2 && (a = '0' + a);
          var o = ': ';
          r > 1 &&
            (o =
              ' (' +
              n +
              ' ' +
              this.controller.getSettings().adLabelNofN +
              ' ' +
              r +
              '): '),
            (this.countdownDiv.innerHTML =
              this.controller.getSettings().adLabel + o + s + ':' + a);
          var l = 100 * (e / i);
          this.progressDiv.style.width = l + '%';
        }),
        (s.prototype.unmute = function () {
          this.addClass(this.muteDiv, 'ima-non-muted'),
            this.removeClass(this.muteDiv, 'ima-muted'),
            (this.sliderLevelDiv.style.width =
              100 * this.controller.getPlayerVolume() + '%');
        }),
        (s.prototype.mute = function () {
          this.addClass(this.muteDiv, 'ima-muted'),
            this.removeClass(this.muteDiv, 'ima-non-muted'),
            (this.sliderLevelDiv.style.width = '0%');
        }),
        (s.prototype.onAdVolumeSliderMouseDown = function () {
          document.addEventListener('mouseup', this.boundOnMouseUp, !1),
            document.addEventListener('mousemove', this.boundOnMouseMove, !1);
        }),
        (s.prototype.onMouseMove = function (e) {
          this.changeVolume(e);
        }),
        (s.prototype.onMouseUp = function (e) {
          this.changeVolume(e),
            document.removeEventListener('mouseup', this.boundOnMouseUp),
            document.removeEventListener('mousemove', this.boundOnMouseMove);
        }),
        (s.prototype.changeVolume = function (e) {
          var t =
            (e.clientX - this.sliderDiv.getBoundingClientRect().left) /
            this.sliderDiv.offsetWidth;
          (t *= 100),
            (t = Math.min(Math.max(t, 0), 100)),
            (this.sliderLevelDiv.style.width = t + '%'),
            0 == this.percent
              ? (this.addClass(this.muteDiv, 'ima-muted'),
                this.removeClass(this.muteDiv, 'ima-non-muted'))
              : (this.addClass(this.muteDiv, 'ima-non-muted'),
                this.removeClass(this.muteDiv, 'ima-muted')),
            this.controller.setVolume(t / 100);
        }),
        (s.prototype.showAdContainer = function () {
          this.adContainerDiv.style.display = 'block';
        }),
        (s.prototype.hideAdContainer = function () {
          this.adContainerDiv.style.display = 'none';
        }),
        (s.prototype.onAdContainerClick = function () {
          this.isAdNonlinear && this.controller.togglePlayback();
        }),
        (s.prototype.reset = function () {
          this.hideAdContainer();
        }),
        (s.prototype.onAdError = function () {
          this.hideAdContainer();
        }),
        (s.prototype.onAdBreakStart = function (e) {
          this.showAdContainer(),
            'application/javascript' !== e.getAd().getContentType() ||
            this.controller.getSettings().showControlsForJSAds
              ? (this.controlsDiv.style.display = 'block')
              : (this.controlsDiv.style.display = 'none'),
            this.onAdsPlaying(),
            this.hideAdControls();
        }),
        (s.prototype.onAdBreakEnd = function () {
          var e = this.controller.getCurrentAd();
          (null == e || e.isLinear()) && this.hideAdContainer(),
            (this.controlsDiv.style.display = 'none'),
            (this.countdownDiv.innerHTML = '');
        }),
        (s.prototype.onAllAdsCompleted = function () {
          this.hideAdContainer();
        }),
        (s.prototype.onLinearAdStart = function () {
          this.removeClass(this.adContainerDiv, 'bumpable-ima-ad-container'),
            (this.isAdNonlinear = !1);
        }),
        (s.prototype.onNonLinearAdLoad = function () {
          (this.adContainerDiv.style.display = 'block'),
            this.addClass(this.adContainerDiv, 'bumpable-ima-ad-container'),
            (this.isAdNonlinear = !0);
        }),
        (s.prototype.onPlayerEnterFullscreen = function () {
          this.addClass(this.fullscreenDiv, 'ima-fullscreen'),
            this.removeClass(this.fullscreenDiv, 'ima-non-fullscreen');
        }),
        (s.prototype.onPlayerExitFullscreen = function () {
          this.addClass(this.fullscreenDiv, 'ima-non-fullscreen'),
            this.removeClass(this.fullscreenDiv, 'ima-fullscreen');
        }),
        (s.prototype.onPlayerVolumeChanged = function (e) {
          0 == e
            ? (this.addClass(this.muteDiv, 'ima-muted'),
              this.removeClass(this.muteDiv, 'ima-non-muted'),
              (this.sliderLevelDiv.style.width = '0%'))
            : (this.addClass(this.muteDiv, 'ima-non-muted'),
              this.removeClass(this.muteDiv, 'ima-muted'),
              (this.sliderLevelDiv.style.width = 100 * e + '%'));
        }),
        (s.prototype.showAdControls = function () {
          this.controller.getSettings().disableAdControls ||
            this.addClass(this.controlsDiv, 'ima-controls-div-showing');
        }),
        (s.prototype.hideAdControls = function () {
          this.removeClass(this.controlsDiv, 'ima-controls-div-showing');
        }),
        (s.prototype.assignControlAttributes = function (e, t) {
          (e.id = this.controlPrefix + t),
            (e.className = this.controlPrefix + t + ' ' + t);
        }),
        (s.prototype.getClassRegexp = function (e) {
          return new RegExp('(^|[^A-Za-z-])' + e + '((?![A-Za-z-])|$)', 'gi');
        }),
        (s.prototype.elementHasClass = function (e, t) {
          return this.getClassRegexp(t).test(e.className);
        }),
        (s.prototype.addClass = function (e, t) {
          e.className = e.className.trim() + ' ' + t;
        }),
        (s.prototype.removeClass = function (e, t) {
          var i = this.getClassRegexp(t);
          e.className = e.className.trim().replace(i, '');
        }),
        (s.prototype.getAdContainerDiv = function () {
          return this.adContainerDiv;
        }),
        (s.prototype.setShowCountdown = function (e) {
          (this.showCountdown = e),
            (this.countdownDiv.style.display = this.showCountdown
              ? 'block'
              : 'none');
        });
      var a = '1.11.0',
        o =
          'function' == typeof Symbol && 'symbol' == typeof Symbol.iterator
            ? function (e) {
                return typeof e;
              }
            : function (e) {
                return e &&
                  'function' == typeof Symbol &&
                  e.constructor === Symbol &&
                  e !== Symbol.prototype
                  ? 'symbol'
                  : typeof e;
              };
      //   l = function (e) {
      //     (this.controller = e),
      //       (this.adDisplayContainer = null),
      //       (this.adDisplayContainerInitialized = !1),
      //       (this.adsLoader = null),
      //       (this.adsManager = null),
      //       (this.adsRenderingSettings = null),
      //       (this.adsResponse = null),
      //       (this.currentAd = null),
      //       (this.adTrackingTimer = null),
      //       (this.allAdsCompleted = !1),
      //       (this.adsActive = !1),
      //       (this.adPlaying = !1),
      //       (this.adMuted = !1),
      //       (this.adBreakReadyListener = void 0),
      //       (this.contentCompleteCalled = !1),
      //       (this.isAdTimedOut = !1),
      //       (this.adsManagerDimensions = { width: 0, height: 0 }),
      //       (this.autoPlayAdBreaks = !0),
      //       !1 === this.controller.getSettings().autoPlayAdBreaks &&
      //         (this.autoPlayAdBreaks = !1),
      //       this.controller.getSettings().locale &&
      //         google.ima.settings.setLocale(
      //           this.controller.getSettings().locale,
      //         ),
      //       this.controller.getSettings().disableFlashAds &&
      //         google.ima.settings.setDisableFlashAds(
      //           this.controller.getSettings().disableFlashAds,
      //         ),
      //       this.controller.getSettings().disableCustomPlaybackForIOS10Plus &&
      //         google.ima.settings.setDisableCustomPlaybackForIOS10Plus(
      //           this.controller.getSettings().disableCustomPlaybackForIOS10Plus,
      //         ),
      //       this.controller.getSettings().ppid &&
      //         google.ima.settings.setPpid(this.controller.getSettings().ppid),
      //       this.controller.getSettings().featureFlags &&
      //         google.ima.settings.setFeatureFlags(
      //           this.controller.getSettings().featureFlags,
      //         );
      //   };
      // (l.prototype.initAdObjects = function () {
      //   (this.adDisplayContainer = new google.ima.AdDisplayContainer(
      //     this.controller.getAdContainerDiv(),
      //     this.controller.getContentPlayer(),
      //   )),
      //     (this.adsLoader = new google.ima.AdsLoader(this.adDisplayContainer)),
      //     this.adsLoader
      //       .getSettings()
      //       .setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.ENABLED),
      //     0 == this.controller.getSettings().vpaidAllowed &&
      //       this.adsLoader
      //         .getSettings()
      //         .setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.DISABLED),
      //     void 0 !== this.controller.getSettings().vpaidMode &&
      //       this.adsLoader
      //         .getSettings()
      //         .setVpaidMode(this.controller.getSettings().vpaidMode),
      //     this.controller.getSettings().locale &&
      //       this.adsLoader
      //         .getSettings()
      //         .setLocale(this.controller.getSettings().locale),
      //     this.controller.getSettings().numRedirects &&
      //       this.adsLoader
      //         .getSettings()
      //         .setNumRedirects(this.controller.getSettings().numRedirects),
      //     this.controller.getSettings().sessionId &&
      //       this.adsLoader
      //         .getSettings()
      //         .setSessionId(this.controller.getSettings().sessionId),
      //     this.adsLoader.getSettings().setPlayerType('videojs-ima'),
      //     this.adsLoader.getSettings().setPlayerVersion(a),
      //     this.adsLoader
      //       .getSettings()
      //       .setAutoPlayAdBreaks(this.autoPlayAdBreaks),
      //     this.adsLoader.addEventListener(
      //       google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,
      //       this.onAdsManagerLoaded.bind(this),
      //       !1,
      //     ),
      //     this.adsLoader.addEventListener(
      //       google.ima.AdErrorEvent.Type.AD_ERROR,
      //       this.onAdsLoaderError.bind(this),
      //       !1,
      //     ),
      //     this.controller.playerWrapper.vjsPlayer.trigger({
      //       type: 'ads-loader',
      //       adsLoader: this.adsLoader,
      //     });
      // }),
      //   (l.prototype.requestAds = function () {
      //     var e = new google.ima.AdsRequest();
      //     if (
      //       (this.controller.getSettings().adTagUrl
      //         ? (e.adTagUrl = this.controller.getSettings().adTagUrl)
      //         : (e.adsResponse = this.controller.getSettings().adsResponse),
      //       this.controller.getSettings().forceNonLinearFullSlot &&
      //         (e.forceNonLinearFullSlot = !0),
      //       this.controller.getSettings().vastLoadTimeout &&
      //         (e.vastLoadTimeout =
      //           this.controller.getSettings().vastLoadTimeout),
      //       this.controller.getSettings().omidMode)
      //     ) {
      //       e.omidAccessModeRules = {};
      //       var t = this.controller.getSettings().omidMode;
      //       t.FULL &&
      //         (e.omidAccessModeRules[google.ima.OmidAccessMode.FULL] = t.FULL),
      //         t.DOMAIN &&
      //           (e.omidAccessModeRules[google.ima.OmidAccessMode.DOMAIN] =
      //             t.DOMAIN),
      //         t.LIMITED &&
      //           (e.omidAccessModeRules[google.ima.OmidAccessMode.LIMITED] =
      //             t.LIMITED);
      //     }
      //     (e.linearAdSlotWidth = this.controller.getPlayerWidth()),
      //       (e.linearAdSlotHeight = this.controller.getPlayerHeight()),
      //       (e.nonLinearAdSlotWidth =
      //         this.controller.getSettings().nonLinearWidth ||
      //         this.controller.getPlayerWidth()),
      //       (e.nonLinearAdSlotHeight =
      //         this.controller.getSettings().nonLinearHeight ||
      //         this.controller.getPlayerHeight()),
      //       e.setAdWillAutoPlay(this.controller.adsWillAutoplay()),
      //       e.setAdWillPlayMuted(this.controller.adsWillPlayMuted());
      //     var i = this.controller.getSettings().adsRequest;
      //     i &&
      //       'object' === (void 0 === i ? 'undefined' : o(i)) &&
      //       Object.keys(i).forEach(function (t) {
      //         e[t] = i[t];
      //       }),
      //       this.adsLoader.requestAds(e),
      //       this.controller.playerWrapper.vjsPlayer.trigger({
      //         type: 'ads-request',
      //         AdsRequest: e,
      //       });
      //   }),
      //   (l.prototype.onAdsManagerLoaded = function (e) {
      //     this.createAdsRenderingSettings(),
      //       (this.adsManager = e.getAdsManager(
      //         this.controller.getContentPlayheadTracker(),
      //         this.adsRenderingSettings,
      //       )),
      //       this.adsManager.addEventListener(
      //         google.ima.AdErrorEvent.Type.AD_ERROR,
      //         this.onAdError.bind(this),
      //       ),
      //       this.adsManager.addEventListener(
      //         google.ima.AdEvent.Type.AD_BREAK_READY,
      //         this.onAdBreakReady.bind(this),
      //       ),
      //       this.adsManager.addEventListener(
      //         google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,
      //         this.onContentPauseRequested.bind(this),
      //       ),
      //       this.adsManager.addEventListener(
      //         google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,
      //         this.onContentResumeRequested.bind(this),
      //       ),
      //       this.adsManager.addEventListener(
      //         google.ima.AdEvent.Type.ALL_ADS_COMPLETED,
      //         this.onAllAdsCompleted.bind(this),
      //       ),
      //       this.adsManager.addEventListener(
      //         google.ima.AdEvent.Type.LOADED,
      //         this.onAdLoaded.bind(this),
      //       ),
      //       this.adsManager.addEventListener(
      //         google.ima.AdEvent.Type.STARTED,
      //         this.onAdStarted.bind(this),
      //       ),
      //       this.adsManager.addEventListener(
      //         google.ima.AdEvent.Type.COMPLETE,
      //         this.onAdComplete.bind(this),
      //       ),
      //       this.adsManager.addEventListener(
      //         google.ima.AdEvent.Type.SKIPPED,
      //         this.onAdComplete.bind(this),
      //       ),
      //       this.adsManager.addEventListener(
      //         google.ima.AdEvent.Type.LOG,
      //         this.onAdLog.bind(this),
      //       ),
      //       this.adsManager.addEventListener(
      //         google.ima.AdEvent.Type.PAUSED,
      //         this.onAdPaused.bind(this),
      //       ),
      //       this.adsManager.addEventListener(
      //         google.ima.AdEvent.Type.RESUMED,
      //         this.onAdResumed.bind(this),
      //       ),
      //       this.controller.playerWrapper.vjsPlayer.trigger({
      //         type: 'ads-manager',
      //         adsManager: this.adsManager,
      //       }),
      //       this.autoPlayAdBreaks || this.initAdsManager();
      //     var t = this.controller.getSettings().preventLateAdStart;
      //     t
      //       ? t && !this.isAdTimedOut && this.controller.onAdsReady()
      //       : this.controller.onAdsReady(),
      //       this.controller.getSettings().adsManagerLoadedCallback &&
      //         this.controller.getSettings().adsManagerLoadedCallback();
      //   }),
      //   (l.prototype.onAdsLoaderError = function (e) {
      //     window.console.warn('AdsLoader error: ' + e.getError()),
      //       this.controller.onErrorLoadingAds(e),
      //       this.adsManager && this.adsManager.destroy();
      //   }),
      //   (l.prototype.initAdsManager = function () {
      //     try {
      //       var e = this.controller.getPlayerWidth(),
      //         t = this.controller.getPlayerHeight();
      //       (this.adsManagerDimensions.width = e),
      //         (this.adsManagerDimensions.height = t),
      //         this.adsManager.init(e, t, google.ima.ViewMode.NORMAL),
      //         this.adsManager.setVolume(this.controller.getPlayerVolume()),
      //         this.initializeAdDisplayContainer();
      //     } catch (e) {
      //       this.onAdError(e);
      //     }
      //   }),
      //   (l.prototype.createAdsRenderingSettings = function () {
      //     if (
      //       ((this.adsRenderingSettings =
      //         new google.ima.AdsRenderingSettings()),
      //       (this.adsRenderingSettings.restoreCustomPlaybackStateOnAdBreakComplete =
      //         !0),
      //       this.controller.getSettings().adsRenderingSettings)
      //     )
      //       for (var e in this.controller.getSettings().adsRenderingSettings)
      //         '' !== e &&
      //           (this.adsRenderingSettings[e] =
      //             this.controller.getSettings().adsRenderingSettings[e]);
      //   }),
      //   (l.prototype.onAdError = function (e) {
      //     var t = void 0 !== e.getError ? e.getError() : e.stack;
      //     window.console.warn('Ad error: ' + t),
      //       this.adsManager.destroy(),
      //       this.controller.onAdError(e),
      //       (this.adsActive = !1),
      //       (this.adPlaying = !1);
      //   }),
      //   (l.prototype.onAdBreakReady = function (e) {
      //     this.adBreakReadyListener(e);
      //   }),
      //   (l.prototype.onContentPauseRequested = function (e) {
      //     (this.adsActive = !0),
      //       (this.adPlaying = !0),
      //       this.controller.onAdBreakStart(e);
      //   }),
      //   (l.prototype.onContentResumeRequested = function (e) {
      //     (this.adsActive = !1),
      //       (this.adPlaying = !1),
      //       this.controller.onAdBreakEnd();
      //   }),
      //   (l.prototype.onAllAdsCompleted = function (e) {
      //     (this.allAdsCompleted = !0), this.controller.onAllAdsCompleted();
      //   }),
      //   (l.prototype.onAdLoaded = function (e) {
      //     e.getAd().isLinear() ||
      //       (this.controller.onNonLinearAdLoad(),
      //       this.controller.playContent());
      //   }),
      //   (l.prototype.onAdStarted = function (e) {
      //     (this.currentAd = e.getAd()),
      //       this.currentAd.isLinear()
      //         ? ((this.adTrackingTimer = setInterval(
      //             this.onAdPlayheadTrackerInterval.bind(this),
      //             250,
      //           )),
      //           this.controller.onLinearAdStart())
      //         : this.controller.onNonLinearAdStart();
      //   }),
      //   (l.prototype.onAdPaused = function () {
      //     this.controller.onAdsPaused();
      //   }),
      //   (l.prototype.onAdResumed = function (e) {
      //     this.controller.onAdsResumed();
      //   }),
      //   (l.prototype.onAdComplete = function () {
      //     this.currentAd.isLinear() && clearInterval(this.adTrackingTimer);
      //   }),
      //   (l.prototype.onAdLog = function (e) {
      //     this.controller.onAdLog(e);
      //   }),
      //   (l.prototype.onAdPlayheadTrackerInterval = function () {
      //     if (null !== this.adsManager) {
      //       var e = this.adsManager.getRemainingTime(),
      //         t = this.currentAd.getDuration(),
      //         i = t - e;
      //       i = i > 0 ? i : 0;
      //       var n = 0,
      //         r = void 0;
      //       this.currentAd.getAdPodInfo() &&
      //         ((r = this.currentAd.getAdPodInfo().getAdPosition()),
      //         (n = this.currentAd.getAdPodInfo().getTotalAds())),
      //         this.controller.onAdPlayheadUpdated(i, e, t, r, n);
      //     }
      //   }),
      //   (l.prototype.onContentComplete = function () {
      //     this.adsLoader &&
      //       (this.adsLoader.contentComplete(),
      //       (this.contentCompleteCalled = !0)),
      //       ((this.adsManager &&
      //         this.adsManager.getCuePoints() &&
      //         !this.adsManager.getCuePoints().includes(-1)) ||
      //         !this.adsManager) &&
      //         this.controller.onNoPostroll(),
      //       this.allAdsCompleted && this.controller.onContentAndAdsCompleted();
      //   }),
      //   (l.prototype.onPlayerDisposed = function () {
      //     this.adTrackingTimer && clearInterval(this.adTrackingTimer),
      //       this.adsManager &&
      //         (this.adsManager.destroy(), (this.adsManager = null));
      //   }),
      //   (l.prototype.onPlayerReadyForPreroll = function () {
      //     if (this.autoPlayAdBreaks) {
      //       this.initAdsManager();
      //       try {
      //         this.controller.showAdContainer(),
      //           this.adsManager.setVolume(this.controller.getPlayerVolume()),
      //           this.adsManager.start();
      //       } catch (e) {
      //         this.onAdError(e);
      //       }
      //     }
      //   }),
      //   (l.prototype.onAdTimeout = function () {
      //     this.isAdTimedOut = !0;
      //   }),
      //   (l.prototype.onPlayerReady = function () {
      //     this.initAdObjects(),
      //       (this.controller.getSettings().adTagUrl ||
      //         this.controller.getSettings().adsResponse) &&
      //         'onLoad' === this.controller.getSettings().requestMode &&
      //         this.requestAds();
      //   }),
      //   (l.prototype.onPlayerEnterFullscreen = function () {
      //     this.adsManager &&
      //       this.adsManager.resize(
      //         window.screen.width,
      //         window.screen.height,
      //         google.ima.ViewMode.FULLSCREEN,
      //       );
      //   }),
      //   (l.prototype.onPlayerExitFullscreen = function () {
      //     this.adsManager &&
      //       this.adsManager.resize(
      //         this.controller.getPlayerWidth(),
      //         this.controller.getPlayerHeight(),
      //         google.ima.ViewMode.NORMAL,
      //       );
      //   }),
      //   (l.prototype.onPlayerVolumeChanged = function (e) {
      //     this.adsManager && this.adsManager.setVolume(e),
      //       (this.adMuted = 0 == e);
      //   }),
      //   (l.prototype.onPlayerResize = function (e, t) {
      //     this.adsManager &&
      //       ((this.adsManagerDimensions.width = e),
      //       (this.adsManagerDimensions.height = t),
      //       this.adsManager.resize(e, t, google.ima.ViewMode.NORMAL));
      //   }),
      //   (l.prototype.getCurrentAd = function () {
      //     return this.currentAd;
      //   }),
      //   (l.prototype.setAdBreakReadyListener = function (e) {
      //     this.adBreakReadyListener = e;
      //   }),
      //   (l.prototype.isAdPlaying = function () {
      //     return this.adPlaying;
      //   }),
      //   (l.prototype.isAdMuted = function () {
      //     return this.adMuted;
      //   }),
      //   (l.prototype.pauseAds = function () {
      //     this.adsManager.pause(), (this.adPlaying = !1);
      //   }),
      //   (l.prototype.resumeAds = function () {
      //     this.adsManager.resume(), (this.adPlaying = !0);
      //   }),
      //   (l.prototype.unmute = function () {
      //     this.adsManager.setVolume(1), (this.adMuted = !1);
      //   }),
      //   (l.prototype.mute = function () {
      //     this.adsManager.setVolume(0), (this.adMuted = !0);
      //   }),
      //   (l.prototype.setVolume = function (e) {
      //     this.adsManager.setVolume(e), (this.adMuted = 0 == e);
      //   }),
      //   (l.prototype.initializeAdDisplayContainer = function () {
      //     this.adDisplayContainer &&
      //       (this.adDisplayContainerInitialized ||
      //         (this.adDisplayContainer.initialize(),
      //         (this.adDisplayContainerInitialized = !0)));
      //   }),
      //   (l.prototype.playAdBreak = function () {
      //     this.autoPlayAdBreaks ||
      //       (this.controller.showAdContainer(),
      //       this.adsManager.setVolume(this.controller.getPlayerVolume()),
      //       this.adsManager.start());
      //   }),
      //   (l.prototype.addEventListener = function (e, t) {
      //     this.adsManager && this.adsManager.addEventListener(e, t);
      //   }),
      //   (l.prototype.getAdsManager = function () {
      //     return this.adsManager;
      //   }),
      //   (l.prototype.reset = function () {
      //     (this.adsActive = !1),
      //       (this.adPlaying = !1),
      //       this.adTrackingTimer && clearInterval(this.adTrackingTimer),
      //       this.adsManager &&
      //         (this.adsManager.destroy(), (this.adsManager = null)),
      //       this.adsLoader &&
      //         !this.contentCompleteCalled &&
      //         this.adsLoader.contentComplete(),
      //       (this.contentCompleteCalled = !1),
      //       (this.allAdsCompleted = !1);
      //   });
      var u = function (e, t) {
        (this.settings = {}),
          (this.contentAndAdsEndedListeners = []),
          (this.isMobile =
            navigator.userAgent.match(/iPhone/i) ||
            navigator.userAgent.match(/iPad/i) ||
            navigator.userAgent.match(/Android/i)),
          (this.isIos =
            navigator.userAgent.match(/iPhone/i) ||
            navigator.userAgent.match(/iPad/i)),
          this.initWithSettings(t);
        var i = {
            debug: this.settings.debug,
            timeout: this.settings.timeout,
            prerollTimeout: this.settings.prerollTimeout,
          },
          n = this.extend({}, i, t.contribAdsSettings || {});
        (this.playerWrapper = new r(e, n, this)),
          (this.adUi = new s(this)),
          (this.sdkImpl = new l(this));
      };
      (u.IMA_DEFAULTS = {
        adLabel: 'Advertisement',
        adLabelNofN: 'of',
        debug: !1,
        disableAdControls: !1,
        prerollTimeout: 1e3,
        preventLateAdStart: !1,
        requestMode: 'onLoad',
        showControlsForJSAds: !0,
        timeout: 5e3,
      }),
        (u.prototype.initWithSettings = function (e) {
          (this.settings = this.extend({}, u.IMA_DEFAULTS, e || {})),
            this.warnAboutDeprecatedSettings(),
            (this.showCountdown = !0),
            !1 === this.settings.showCountdown && (this.showCountdown = !1);
        }),
        (u.prototype.warnAboutDeprecatedSettings = function () {
          var e = this;
          [
            'adWillAutoplay',
            'adsWillAutoplay',
            'adWillPlayMuted',
            'adsWillPlayMuted',
          ].forEach(function (t) {
            void 0 !== e.settings[t] &&
              console.warn(
                'WARNING: videojs.ima setting ' + t + ' is deprecated',
              );
          });
        }),
        (u.prototype.getSettings = function () {
          return this.settings;
        }),
        (u.prototype.getIsMobile = function () {
          return this.isMobile;
        }),
        (u.prototype.getIsIos = function () {
          return this.isIos;
        }),
        (u.prototype.injectAdContainerDiv = function (e) {
          this.playerWrapper.injectAdContainerDiv(e);
        }),
        (u.prototype.getAdContainerDiv = function () {
          return this.adUi.getAdContainerDiv();
        }),
        (u.prototype.getContentPlayer = function () {
          return this.playerWrapper.getContentPlayer();
        }),
        (u.prototype.getContentPlayheadTracker = function () {
          return this.playerWrapper.getContentPlayheadTracker();
        }),
        (u.prototype.requestAds = function () {
          this.sdkImpl.requestAds();
        }),
        (u.prototype.setSetting = function (e, t) {
          this.settings[e] = t;
        }),
        (u.prototype.onErrorLoadingAds = function (e) {
          this.adUi.onAdError(), this.playerWrapper.onAdError(e);
        }),
        (u.prototype.onAdPlayPauseClick = function () {
          this.sdkImpl.isAdPlaying()
            ? (this.adUi.onAdsPaused(), this.sdkImpl.pauseAds())
            : (this.adUi.onAdsPlaying(), this.sdkImpl.resumeAds());
        }),
        (u.prototype.onAdMuteClick = function () {
          this.sdkImpl.isAdMuted()
            ? (this.playerWrapper.unmute(),
              this.adUi.unmute(),
              this.sdkImpl.unmute())
            : (this.playerWrapper.mute(),
              this.adUi.mute(),
              this.sdkImpl.mute());
        }),
        (u.prototype.setVolume = function (e) {
          this.playerWrapper.setVolume(e), this.sdkImpl.setVolume(e);
        }),
        (u.prototype.getPlayerVolume = function () {
          return this.playerWrapper.getVolume();
        }),
        (u.prototype.toggleFullscreen = function () {
          this.playerWrapper.toggleFullscreen();
        }),
        (u.prototype.onAdError = function (e) {
          this.adUi.onAdError(), this.playerWrapper.onAdError(e);
        }),
        (u.prototype.onAdBreakStart = function (e) {
          this.playerWrapper.onAdBreakStart(), this.adUi.onAdBreakStart(e);
        }),
        (u.prototype.showAdContainer = function () {
          this.adUi.showAdContainer();
        }),
        (u.prototype.onAdBreakEnd = function () {
          this.playerWrapper.onAdBreakEnd(), this.adUi.onAdBreakEnd();
        }),
        (u.prototype.onAllAdsCompleted = function () {
          this.adUi.onAllAdsCompleted(), this.playerWrapper.onAllAdsCompleted();
        }),
        (u.prototype.onAdsPaused = function () {
          this.adUi.onAdsPaused();
        }),
        (u.prototype.onAdsResumed = function () {
          this.adUi.onAdsResumed();
        }),
        (u.prototype.onAdPlayheadUpdated = function (e, t, i, n, r) {
          this.adUi.updateAdUi(e, t, i, n, r);
        }),
        (u.prototype.onAdLog = function (e) {
          this.playerWrapper.onAdLog(e);
        }),
        (u.prototype.getCurrentAd = function () {
          return this.sdkImpl.getCurrentAd();
        }),
        (u.prototype.playContent = function () {
          this.playerWrapper.play();
        }),
        (u.prototype.onLinearAdStart = function () {
          this.adUi.onLinearAdStart(), this.playerWrapper.onAdStart();
        }),
        (u.prototype.onNonLinearAdLoad = function () {
          this.adUi.onNonLinearAdLoad();
        }),
        (u.prototype.onNonLinearAdStart = function () {
          this.adUi.onNonLinearAdLoad(), this.playerWrapper.onAdStart();
        }),
        (u.prototype.getPlayerWidth = function () {
          return this.playerWrapper.getPlayerWidth();
        }),
        (u.prototype.getPlayerHeight = function () {
          return this.playerWrapper.getPlayerHeight();
        }),
        (u.prototype.onAdsReady = function () {
          this.playerWrapper.onAdsReady();
        }),
        (u.prototype.onPlayerResize = function (e, t) {
          this.sdkImpl.onPlayerResize(e, t);
        }),
        (u.prototype.onContentComplete = function () {
          this.sdkImpl.onContentComplete();
        }),
        (u.prototype.onNoPostroll = function () {
          this.playerWrapper.onNoPostroll();
        }),
        (u.prototype.onContentAndAdsCompleted = function () {
          for (var e in this.contentAndAdsEndedListeners)
            'function' == typeof this.contentAndAdsEndedListeners[e] &&
              this.contentAndAdsEndedListeners[e]();
        }),
        (u.prototype.onPlayerDisposed = function () {
          (this.contentAndAdsEndedListeners = []),
            this.sdkImpl.onPlayerDisposed();
        }),
        (u.prototype.onPlayerReadyForPreroll = function () {
          this.sdkImpl.onPlayerReadyForPreroll();
        }),
        (u.prototype.onAdTimeout = function () {
          this.sdkImpl.onAdTimeout();
        }),
        (u.prototype.onPlayerReady = function () {
          this.sdkImpl.onPlayerReady();
        }),
        (u.prototype.onPlayerEnterFullscreen = function () {
          this.adUi.onPlayerEnterFullscreen(),
            this.sdkImpl.onPlayerEnterFullscreen();
        }),
        (u.prototype.onPlayerExitFullscreen = function () {
          this.adUi.onPlayerExitFullscreen(),
            this.sdkImpl.onPlayerExitFullscreen();
        }),
        (u.prototype.onPlayerVolumeChanged = function (e) {
          this.adUi.onPlayerVolumeChanged(e),
            this.sdkImpl.onPlayerVolumeChanged(e);
        }),
        (u.prototype.setContentWithAdTag = function (e, t) {
          this.reset(),
            (this.settings.adTagUrl = t || this.settings.adTagUrl),
            this.playerWrapper.changeSource(e);
        }),
        (u.prototype.setContentWithAdsResponse = function (e, t) {
          this.reset(),
            (this.settings.adsResponse = t || this.settings.adsResponse),
            this.playerWrapper.changeSource(e);
        }),
        (u.prototype.setContentWithAdsRequest = function (e, t) {
          this.reset(),
            (this.settings.adsRequest = t || this.settings.adsRequest),
            this.playerWrapper.changeSource(e);
        }),
        (u.prototype.reset = function () {
          this.sdkImpl.reset(), this.playerWrapper.reset(), this.adUi.reset();
        }),
        (u.prototype.addContentEndedListener = function (e) {
          this.playerWrapper.addContentEndedListener(e);
        }),
        (u.prototype.addContentAndAdsEndedListener = function (e) {
          this.contentAndAdsEndedListeners.push(e);
        }),
        (u.prototype.setAdBreakReadyListener = function (e) {
          this.sdkImpl.setAdBreakReadyListener(e);
        }),
        (u.prototype.setShowCountdown = function (e) {
          this.adUi.setShowCountdown(e),
            (this.showCountdown = e),
            (this.adUi.countdownDiv.style.display = this.showCountdown
              ? 'block'
              : 'none');
        }),
        (u.prototype.initializeAdDisplayContainer = function () {
          this.sdkImpl.initializeAdDisplayContainer();
        }),
        (u.prototype.playAdBreak = function () {
          this.sdkImpl.playAdBreak();
        }),
        (u.prototype.addEventListener = function (e, t) {
          this.sdkImpl.addEventListener(e, t);
        }),
        (u.prototype.getAdsManager = function () {
          return this.sdkImpl.getAdsManager();
        }),
        (u.prototype.getPlayerId = function () {
          return this.playerWrapper.getPlayerId();
        }),
        (u.prototype.changeAdTag = function (e) {
          this.reset(), (this.settings.adTagUrl = e);
        }),
        (u.prototype.pauseAd = function () {
          this.adUi.onAdsPaused(), this.sdkImpl.pauseAds();
        }),
        (u.prototype.resumeAd = function () {
          this.adUi.onAdsPlaying(), this.sdkImpl.resumeAds();
        }),
        (u.prototype.togglePlayback = function () {
          this.playerWrapper.togglePlayback();
        }),
        (u.prototype.adsWillAutoplay = function () {
          return void 0 !== this.settings.adsWillAutoplay
            ? this.settings.adsWillAutoplay
            : void 0 !== this.settings.adWillAutoplay
              ? this.settings.adWillAutoplay
              : !!this.playerWrapper.getPlayerOptions().autoplay;
        }),
        (u.prototype.adsWillPlayMuted = function () {
          return void 0 !== this.settings.adsWillPlayMuted
            ? this.settings.adsWillPlayMuted
            : void 0 !== this.settings.adWillPlayMuted
              ? this.settings.adWillPlayMuted
              : void 0 !== this.playerWrapper.getPlayerOptions().muted
                ? this.playerWrapper.getPlayerOptions().muted
                : 0 == this.playerWrapper.getVolume();
        }),
        (u.prototype.triggerPlayerEvent = function (e, t) {
          this.playerWrapper.triggerPlayerEvent(e, t);
        }),
        (u.prototype.extend = function (e) {
          for (
            var t = void 0,
              i = void 0,
              n = void 0,
              r = arguments.length,
              s = Array(r > 1 ? r - 1 : 0),
              a = 1;
            a < r;
            a++
          )
            s[a - 1] = arguments[a];
          for (i = 0; i < s.length; i++)
            for (n in (t = s[i])) t.hasOwnProperty(n) && (e[n] = t[n]);
          return e;
        });
      var d = function (e, t) {
        (this.controller = new u(e, t)),
          (this.addContentAndAdsEndedListener = function (e) {
            this.controller.addContentAndAdsEndedListener(e);
          }.bind(this)),
          (this.addContentEndedListener = function (e) {
            this.controller.addContentEndedListener(e);
          }.bind(this)),
          (this.addEventListener = function (e, t) {
            this.controller.addEventListener(e, t);
          }.bind(this)),
          (this.changeAdTag = function (e) {
            this.controller.changeAdTag(e);
          }.bind(this)),
          (this.getAdsManager = function () {
            return this.controller.getAdsManager();
          }.bind(this)),
          (this.initializeAdDisplayContainer = function () {
            this.controller.initializeAdDisplayContainer();
          }.bind(this)),
          (this.pauseAd = function () {
            this.controller.pauseAd();
          }.bind(this)),
          (this.playAdBreak = function () {
            this.controller.playAdBreak();
          }.bind(this)),
          (this.requestAds = function () {
            this.controller.requestAds();
          }.bind(this)),
          (this.resumeAd = function () {
            this.controller.resumeAd();
          }.bind(this)),
          (this.setAdBreakReadyListener = function (e) {
            this.controller.setAdBreakReadyListener(e);
          }.bind(this)),
          (this.setContentWithAdTag = function (e, t) {
            this.controller.setContentWithAdTag(e, t);
          }.bind(this)),
          (this.setContentWithAdsResponse = function (e, t) {
            this.controller.setContentWithAdsResponse(e, t);
          }.bind(this)),
          (this.setContentWithAdsRequest = function (e, t) {
            this.controller.setContentWithAdsRequest(e, t);
          }.bind(this)),
          (this.setShowCountdown = function (e) {
            this.controller.setShowCountdown(e);
          }.bind(this));
      };
      (e.default.registerPlugin || e.default.plugin)('ima', function (e) {
        this.ima = new d(this, e);
      });
      const c = 'fuel-video',
        h = '3.2.10-hotfix.1',
        p = 'fuel-streaming-prod01.fuelmedia.io',
        f = 'https://jie50dcwuh.execute-api.us-east-1.amazonaws.com/Prod',
        m = 'hy8rRcloez2XiZJD2ACIe8N6EZfRKyMw907TP85C',
        g =
          '[{"baseUrl": "fuel-streaming-dev01.mediapipe.com","adUrl": "https://w2s6i0rms9.execute-api.us-east-1.amazonaws.com/Prod", "adKey": "YiZJKTLy702tP2tiVz6X35Sdls5HFNmp8XAQ8j8M"}, {"baseUrl": "fuel-streaming-qa01.mediapipe.com","adUrl": "https://8ngelehmai.execute-api.us-east-1.amazonaws.com/Prod", "adKey": "yIFBaZ1WY76TGmc0FYwuz7eiaqMv1rlAaqgXFsXm"}, {"baseUrl": "fuel-streaming-prod01.fuelmedia.io","adUrl": "https://jie50dcwuh.execute-api.us-east-1.amazonaws.com/Prod", "adKey": "hy8rRcloez2XiZJD2ACIe8N6EZfRKyMw907TP85C"}]',
        v = 'v1',
        y = '16:9',
        A = { maxRetries: 3, retryInterval: 1e3 },
        b = 'dataLayer';
      class T extends HTMLElement {
        constructor() {
          super(),
            (this.options = {
              controls: !0,
              liveui: !0,
              nativeControlsForTouch: !1,
              preload: 'none',
              html5: {
                vhs: {
                  overrideNative: !0,
                  allowSeeksWithinUnsafeLiveWindow: !0,
                },
                nativeAudioTracks: !1,
                nativeVideoTracks: !1,
              },
              responsive: !0,
            }),
            (this.video = document.createElement('video-js')),
            this.video.setAttribute('playsinline', 'playsinline'),
            (this.player = this.exposeVideoJSAPI());
        }
        connectedCallback() {
          this.appendChild(this.video);
          const t = Object.assign(
            Object.assign({}, this.settings),
            this.dataset,
          );
          (0, e.default)(this.video, this.options).fuel(t),
            (this.video.play = () => (0, e.default)(this.video).play()),
            (this.video.pause = () => (0, e.default)(this.video).pause());
        }
        disconnectedCallback() {
          this.video && (0, e.default)(this.video).dispose();
        }
        exposeVideoJSAPI() {
          return { play: () => this.play(), pause: () => this.pause() };
        }
        play() {
          (0, e.default)(this.video).play();
        }
        pause() {
          (0, e.default)(this.video).pause();
        }
      }
      // const S = function (e) {
      //   return new Promise(function (t, i) {
      //     var n = document.createElement('script');
      //     (n.async = !0),
      //       (n.src = e),
      //       (n.onload = t),
      //       (n.onerror = i),
      //       document.body.appendChild(n);
      //   });
      // };
      var w = null,
        k = function () {
          w = null;
        };
      const _ = function () {
        // var e = window;
        // return e.google && e.google.ima
        //   ? Promise.resolve(e.google.ima)
        //   : w ||
        //       ((w = S(
        //         'https://imasdk.googleapis.com/js/sdkloader/ima3.js',
        //       ).then(function () {
        //         return e.google.ima;
        //       }))
        //         .then(k)
        //         .catch(k),
        //       w);
        return '';
      };
      var C,
        E = new Uint8Array(16);
      function j() {
        if (
          !C &&
          !(C =
            ('undefined' != typeof crypto &&
              crypto.getRandomValues &&
              crypto.getRandomValues.bind(crypto)) ||
            ('undefined' != typeof msCrypto &&
              'function' == typeof msCrypto.getRandomValues &&
              msCrypto.getRandomValues.bind(msCrypto)))
        )
          throw new Error(
            'crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported',
          );
        return C(E);
      }
      const P =
        /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;
      const I = function (e) {
        return 'string' == typeof e && P.test(e);
      };
      for (var x = [], L = 0; L < 256; ++L)
        x.push((L + 256).toString(16).substr(1));
      const D = function (e) {
        var t =
            arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0,
          i = (
            x[e[t + 0]] +
            x[e[t + 1]] +
            x[e[t + 2]] +
            x[e[t + 3]] +
            '-' +
            x[e[t + 4]] +
            x[e[t + 5]] +
            '-' +
            x[e[t + 6]] +
            x[e[t + 7]] +
            '-' +
            x[e[t + 8]] +
            x[e[t + 9]] +
            '-' +
            x[e[t + 10]] +
            x[e[t + 11]] +
            x[e[t + 12]] +
            x[e[t + 13]] +
            x[e[t + 14]] +
            x[e[t + 15]]
          ).toLowerCase();
        if (!I(i)) throw TypeError('Stringified UUID is invalid');
        return i;
      };
      const R = function (e, t, i) {
        var n = (e = e || {}).random || (e.rng || j)();
        if (((n[6] = (15 & n[6]) | 64), (n[8] = (63 & n[8]) | 128), t)) {
          i = i || 0;
          for (var r = 0; r < 16; ++r) t[i + r] = n[r];
          return t;
        }
        return D(n);
      };
      var O,
        M,
        N,
        B,
        U = i(279);
      !(function (e) {
        (e[(e.Allowed = 0)] = 'Allowed'),
          (e[(e.Blocked = 1)] = 'Blocked'),
          (e[(e.NotDetermined = 2)] = 'NotDetermined');
      })(O || (O = {})),
        (function (e) {
          (e[(e.PlayAttemptSound = 1)] = 'PlayAttemptSound'),
            (e[(e.PlayMuted = 2)] = 'PlayMuted'),
            (e[(e.Hold = 3)] = 'Hold'),
            (e[(e.SoundAttemptPlay = 4)] = 'SoundAttemptPlay'),
            (e[(e.HoldMuted = 5)] = 'HoldMuted');
        })(M || (M = {})),
        (function (e) {
          (e[(e.Serverside = 1)] = 'Serverside'),
            (e[(e.Clientside = 2)] = 'Clientside'),
            (e[(e.GoogleDAI = 3)] = 'GoogleDAI');
        })(N || (N = {})),
        (function (e) {
          (e.TopLeft = 'TL'),
            (e.TopRight = 'TR'),
            (e.BottomLeft = 'BL'),
            (e.BottomRight = 'BR');
        })(B || (B = {}));
      class F {}
      class W extends F {
        constructor() {
          super(...arguments),
            (this.baseurl = p),
            (this.floating = !1),
            (this.isDebugMode = !1),
            (this.adMethod = N.Serverside),
            (this.audioAndAutoplay = M.Hold),
            (this.analyticsDataLayer = b),
            (this.useHotkeys = !0),
            (this.floatingCorner = B.TopRight),
            (this.adMetadataUrl = f),
            (this.adMetadataKey = m);
        }
      }
      var V = new Blob(
          [
            new Uint8Array([
              255, 227, 24, 196, 0, 0, 0, 3, 72, 1, 64, 0, 0, 4, 132, 16, 31,
              227, 192, 225, 76, 255, 67, 12, 255, 221, 27, 255, 228, 97, 73,
              63, 255, 195, 131, 69, 192, 232, 223, 255, 255, 207, 102, 239,
              255, 255, 255, 101, 158, 206, 70, 20, 59, 255, 254, 95, 70, 149,
              66, 4, 16, 128, 0, 2, 2, 32, 240, 138, 255, 36, 106, 183, 255,
              227, 24, 196, 59, 11, 34, 62, 80, 49, 135, 40, 0, 253, 29, 191,
              209, 200, 141, 71, 7, 255, 252, 152, 74, 15, 130, 33, 185, 6, 63,
              255, 252, 195, 70, 203, 86, 53, 15, 255, 255, 247, 103, 76, 121,
              64, 32, 47, 255, 34, 227, 194, 209, 138, 76, 65, 77, 69, 51, 46,
              57, 55, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 255,
              227, 24, 196, 73, 13, 153, 210, 100, 81, 135, 56, 0, 170, 170,
              170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170,
              170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170,
              170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170,
              170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170,
              170, 170, 170, 170, 170,
            ]),
          ],
          { type: 'audio/mpeg' },
        ),
        H = new Blob(
          [
            new Uint8Array([
              0, 0, 0, 28, 102, 116, 121, 112, 105, 115, 111, 109, 0, 0, 2, 0,
              105, 115, 111, 109, 105, 115, 111, 50, 109, 112, 52, 49, 0, 0, 0,
              8, 102, 114, 101, 101, 0, 0, 2, 239, 109, 100, 97, 116, 33, 16, 5,
              32, 164, 27, 255, 192, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
              0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
              0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
              0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
              0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
              0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
              0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
              0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
              0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
              0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
              0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
              0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
              0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 55, 167, 0, 0, 0, 0, 0, 0, 0,
              0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
              0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
              0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
              0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 112, 33,
              16, 5, 32, 164, 27, 255, 192, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
              0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
              0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
              0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
              0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
              0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
              0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
              0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
              0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
              0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
              0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
              0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
              0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 55, 167, 128, 0, 0, 0,
              0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
              0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
              0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
              0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
              0, 112, 0, 0, 2, 194, 109, 111, 111, 118, 0, 0, 0, 108, 109, 118,
              104, 100, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 232, 0, 0,
              0, 47, 0, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0,
              0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0,
              0, 0, 0, 0, 0, 0, 64, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
              0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 0, 0, 1, 236, 116,
              114, 97, 107, 0, 0, 0, 92, 116, 107, 104, 100, 0, 0, 0, 3, 0, 0,
              0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, 47, 0, 0, 0, 0,
              0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0,
              0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
              64, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 36, 101, 100, 116,
              115, 0, 0, 0, 28, 101, 108, 115, 116, 0, 0, 0, 0, 0, 0, 0, 1, 0,
              0, 0, 47, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 100, 109, 100, 105, 97,
              0, 0, 0, 32, 109, 100, 104, 100, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
              0, 0, 0, 172, 68, 0, 0, 8, 0, 85, 196, 0, 0, 0, 0, 0, 45, 104,
              100, 108, 114, 0, 0, 0, 0, 0, 0, 0, 0, 115, 111, 117, 110, 0, 0,
              0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 83, 111, 117, 110, 100, 72, 97, 110,
              100, 108, 101, 114, 0, 0, 0, 1, 15, 109, 105, 110, 102, 0, 0, 0,
              16, 115, 109, 104, 100, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 36, 100,
              105, 110, 102, 0, 0, 0, 28, 100, 114, 101, 102, 0, 0, 0, 0, 0, 0,
              0, 1, 0, 0, 0, 12, 117, 114, 108, 32, 0, 0, 0, 1, 0, 0, 0, 211,
              115, 116, 98, 108, 0, 0, 0, 103, 115, 116, 115, 100, 0, 0, 0, 0,
              0, 0, 0, 1, 0, 0, 0, 87, 109, 112, 52, 97, 0, 0, 0, 0, 0, 0, 0, 1,
              0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 0, 16, 0, 0, 0, 0, 172, 68, 0, 0, 0,
              0, 0, 51, 101, 115, 100, 115, 0, 0, 0, 0, 3, 128, 128, 128, 34, 0,
              2, 0, 4, 128, 128, 128, 20, 64, 21, 0, 0, 0, 0, 1, 244, 0, 0, 1,
              243, 249, 5, 128, 128, 128, 2, 18, 16, 6, 128, 128, 128, 1, 2, 0,
              0, 0, 24, 115, 116, 116, 115, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 2,
              0, 0, 4, 0, 0, 0, 0, 28, 115, 116, 115, 99, 0, 0, 0, 0, 0, 0, 0,
              1, 0, 0, 0, 1, 0, 0, 0, 2, 0, 0, 0, 1, 0, 0, 0, 28, 115, 116, 115,
              122, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 0, 0, 1, 115, 0, 0, 1,
              116, 0, 0, 0, 20, 115, 116, 99, 111, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0,
              0, 44, 0, 0, 0, 98, 117, 100, 116, 97, 0, 0, 0, 90, 109, 101, 116,
              97, 0, 0, 0, 0, 0, 0, 0, 33, 104, 100, 108, 114, 0, 0, 0, 0, 0, 0,
              0, 0, 109, 100, 105, 114, 97, 112, 112, 108, 0, 0, 0, 0, 0, 0, 0,
              0, 0, 0, 0, 0, 45, 105, 108, 115, 116, 0, 0, 0, 37, 169, 116, 111,
              111, 0, 0, 0, 29, 100, 97, 116, 97, 0, 0, 0, 1, 0, 0, 0, 0, 76,
              97, 118, 102, 53, 54, 46, 52, 48, 46, 49, 48, 49,
            ]),
          ],
          { type: 'video/mp4' },
        );
      function q(e) {
        return Object.assign({ muted: !1, timeout: 250, inline: !1 }, e);
      }
      function z(e, t) {
        var i = e.muted,
          n = e.timeout,
          r = e.inline,
          s = t(),
          a = s.element,
          o = s.source,
          l = void 0,
          u = void 0,
          d = void 0;
        return (
          (a.muted = i),
          !0 === i && a.setAttribute('muted', 'muted'),
          !0 === r && a.setAttribute('playsinline', 'playsinline'),
          (a.src = o),
          new Promise(function (e) {
            (l = a.play()),
              (u = setTimeout(function () {
                d(!1, new Error('Timeout ' + n + ' ms has been reached'));
              }, n)),
              (d = function (t) {
                var i =
                  arguments.length > 1 && void 0 !== arguments[1]
                    ? arguments[1]
                    : null;
                a.remove(),
                  (a.srcObject = null),
                  clearTimeout(u),
                  e({ result: t, error: i });
              }),
              void 0 !== l
                ? l
                    .then(function () {
                      return d(!0);
                    })
                    .catch(function (e) {
                      return d(!1, e);
                    })
                : d(!0);
          })
        );
      }
      var K = {
        audio: function (e) {
          return z((e = q(e)), function () {
            return {
              element: document.createElement('audio'),
              source: URL.createObjectURL(V),
            };
          });
        },
        video: function (e) {
          return z((e = q(e)), function () {
            return {
              element: document.createElement('video'),
              source: URL.createObjectURL(H),
            };
          });
        },
      };
      const X = K;
      var Q = i(878),
        G = i.n(Q),
        Y = function (e, t, i, n) {
          return new (i || (i = Promise))(function (r, s) {
            function a(e) {
              try {
                l(n.next(e));
              } catch (e) {
                s(e);
              }
            }
            function o(e) {
              try {
                l(n.throw(e));
              } catch (e) {
                s(e);
              }
            }
            function l(e) {
              var t;
              e.done
                ? r(e.value)
                : ((t = e.value),
                  t instanceof i
                    ? t
                    : new i(function (e) {
                        e(t);
                      })).then(a, o);
            }
            l((n = n.apply(e, t || [])).next());
          });
        };
      class J extends F {
        constructor(e, t) {
          super(),
            (this.fuel = e),
            (this.params = t),
            (this.ready = this.initialize());
        }
        initialize() {
          return Y(this, void 0, void 0, function* () {
            this.dnt = this.resolveDoNotTrackPreference();
            const [e, t] = yield Promise.all([
                this.detectAdblock(),
                this.resolveAutoplay(),
              ]),
              i = this.resolveAdMetadata();
            return (
              (this.adBlockerDetected = e),
              (this.canAutoplayMuted = t[0]),
              (this.canAutoplayWithSound = t[1]),
              i &&
                ((this.adMetadataUrl = i.adUrl),
                (this.adMetadataKey = i.adKey)),
              this
            );
          });
        }
        detectAdblock() {
          return Y(this, void 0, void 0, function* () {
            return (yield G().detectAnyAdblocker()) || void 0 === this.fuel.ima;
          });
        }
        resolveDoNotTrackPreference() {
          switch (
            window.doNotTrack ||
            window.navigator.doNotTrack ||
            window.navigator.msDoNotTrack
          ) {
            case '1':
              return O.Blocked;
            case '0':
              return O.Allowed;
            default:
              return O.NotDetermined;
          }
        }
        resolveAutoplay() {
          return Y(this, void 0, void 0, function* () {
            let e = yield X.video({ inline: !0, muted: !0 });
            const t = yield X.video({ inline: !0 });
            return (
              e.result ||
                (e = yield X.video({ timeout: 250, muted: !0, inline: !0 })),
              [e.result, t.result]
            );
          });
        }
        resolveAdMetadata() {
          if (g)
            try {
              const e = JSON.parse(g),
                t = this.params.baseurl || p,
                i = e.find((e) => e.baseUrl === t);
              return (
                i ||
                  this.fuel.log.warn(
                    'No ad metadata matching baseurl was found. The default ad metadata will be used',
                  ),
                i
              );
            } catch (e) {
              this.fuel.log.warn(
                'Error parsing available option metadata. The default ad metadata will be used',
              );
            }
        }
      }
      class Z extends F {
        constructor(e) {
          super(),
            this.assign(e, 'baseurl')
              .assign(e, 'width', Number)
              .assign(e, 'height', Number)
              .assign(e, 'dnt', this.asTracking)
              .assign(e, 'channel')
              .assign(e, 'swc')
              .assign(e, 'audioAndAutoplay', this.asAutoplay)
              .assign(e, 'posterImage')
              .assign(e, 'useHotkeys', this.asHTMLBoolean)
              .assign(e, 'floating', this.asHTMLBoolean)
              .assign(e, 'floatingWidth', Number)
              .assign(e, 'floatingHeight', Number)
              .assign(e, 'floatingCorner', this.asFloatingCorner)
              .assign(e, 'isDebugMode', this.asHTMLBoolean)
              .assign(e, 'prerollVastUrl')
              .assign(e, 'adMethod', this.asAdMethod)
              .assign(e, 'analyticsDataLayer');
        }
        assign(e, t, i) {
          const n = e[t];
          if (null == n) return this;
          const r = i ? { [t]: i(n) } : { [t]: n };
          return Object.assign(this, r);
        }
        asTracking(e) {
          if (Number(e) in O) return Number(e);
          throw new Error(`data-dnt property has invalid value: ${e}`);
        }
        asAutoplay(e) {
          if (Number(e) in M) return Number(e);
          throw new Error(
            `data-audio-and-autoplay property has invalid value: ${e}`,
          );
        }
        asAdMethod(e) {
          if (Number(e) in N) return Number(e);
          throw new Error(`data-adMethod property has invalid value: ${e}`);
        }
        asFloatingCorner(e) {
          if (Object.values(B).some((t) => t === e.toUpperCase()))
            return e.toUpperCase();
          throw new Error(
            `data-floating-corner property has invalid value: ${e}`,
          );
        }
        asHTMLBoolean(e) {
          return 'false' !== e;
        }
      }
      class $ extends F {
        constructor(e) {
          super();
          const { muted: t, autoplay: i } = e,
            n = this.asStrictTrueFalse(t),
            r = this.asHTMLBoolean(i);
          n && r
            ? (this.audioAndAutoplay = M.PlayMuted)
            : r
              ? (this.audioAndAutoplay = M.PlayAttemptSound)
              : n && (this.audioAndAutoplay = M.HoldMuted);
        }
        asHTMLBoolean(e) {
          return (
            void 0 !== e && ('string' == typeof e ? 'false' !== e : Boolean(e))
          );
        }
        asStrictTrueFalse(e) {
          return void 0 !== e && (!0 === e || 'true' === e);
        }
      }
      class ee {
        constructor(e, t) {
          this.fuel = e;
          const i = this.resolveAutoplay(t);
          (this.willAutoplay = i.willAutoplay), (this.willMute = i.willMute);
        }
        resolveAutoplay(t) {
          const {
            canAutoplayMuted: i,
            canAutoplayWithSound: n,
            audioAndAutoplay: r,
          } = t;
          return e.default.browser.IS_IOS
            ? (this.fuel.log('iOS detected. Forcing mute on autoplay.'),
              this.resolveAutoplayMuted(r))
            : e.default.browser.IS_ANDROID
              ? (this.fuel.log('Android detected. Forcing mute on autoplay.'),
                this.resolveAutoplayMuted(r))
              : n
                ? (this.fuel.log('Browser allows autoplay with sound.'),
                  this.resolveAutoplayWithSound(r))
                : i
                  ? (this.fuel.log('Browser allows autoplay while muted.'),
                    this.resolveAutoplayMuted(r))
                  : (this.fuel.log('Browser does not allow autoplay.'),
                    this.resolveNoAutoplay(r));
        }
        resolveAutoplayWithSound(e) {
          switch (e) {
            case M.PlayAttemptSound:
              return { willAutoplay: !0, willMute: !1 };
            case M.PlayMuted:
              return { willAutoplay: !0, willMute: !0 };
            case M.SoundAttemptPlay:
              return { willAutoplay: !0, willMute: !1 };
            case M.HoldMuted:
              return { willAutoplay: !1, willMute: !0 };
            case M.Hold:
            default:
              return { willAutoplay: !1, willMute: !1 };
          }
        }
        resolveAutoplayMuted(e) {
          switch (e) {
            case M.PlayAttemptSound:
            case M.PlayMuted:
              return { willAutoplay: !0, willMute: !0 };
            case M.HoldMuted:
              return { willAutoplay: !1, willMute: !0 };
            case M.SoundAttemptPlay:
            case M.Hold:
            default:
              return { willAutoplay: !1, willMute: !1 };
          }
        }
        resolveNoAutoplay(e) {
          switch (e) {
            case M.PlayMuted:
            case M.HoldMuted:
              return { willAutoplay: !1, willMute: !0 };
            case M.SoundAttemptPlay:
            case M.PlayAttemptSound:
            case M.Hold:
            default:
              return { willAutoplay: !1, willMute: !1 };
          }
        }
      }
      class te extends F {
        constructor(e, t) {
          super(),
            (this.fuel = e),
            (this.passThrough = {
              'a-adPlacement': '1',
              'a-adSkippability': '0',
            }),
            this.validatePassThroughParams(t);
          const i = this.getPassThroughKeys(t);
          for (const e of i) this.passThrough[this.parseKey(e)] = String(t[e]);
        }
        getPassThroughKeys(e) {
          const t = ['aAp', 'aMute', 'aSsid', 'aDnt'];
          return Object.keys(e)
            .filter((e) => this.isPassThroughParam(e))
            .filter((e) => this.isNotRestricted(e, t));
        }
        isPassThroughParam(e) {
          const [t, i] = e;
          return 'a' === t && Boolean(i) && i === i.toUpperCase();
        }
        isNotRestricted(e, t) {
          const i = t.includes(e);
          return (
            i &&
              this.fuel.log.warn(
                `Settings: ${e} is reserved FUEL setting. This value will be ignored.`,
              ),
            !i
          );
        }
        parseKey(e) {
          const [t, i, ...n] = e;
          return `${t}-${i.toLowerCase()}${n.join('')}`;
        }
        validatePassThroughParams(e) {
          const {
            aAdPlacement: t,
            aAdSkippability: i,
            aAdSkippableAfter: n,
            aAdSkippableMin: r,
          } = e;
          if (t && !['1', '2', '3', '4', '5'].includes(String(t)))
            throw new Error('a-adPlacement has invalid value: ' + t);
          if (i && !['0', '1'].includes(String(i)))
            throw new Error('a-adSkippability has invalid value: ' + i);
          if ('1' === i) {
            if (!this.isRequiredNumber(n))
              throw new Error('a-adSkippableAfter has invalid value: ' + n);
            if (!this.isRequiredNumber(r))
              throw new Error('a-adSkippableMin has invalid value: ' + r);
          }
        }
        isRequiredNumber(e) {
          return null != e && !Number.isNaN(Number(e));
        }
      }
      class ie {
        constructor(e, t) {
          (this.fuel = e),
            this.logPlayerSettings(t),
            this.logStreamingEngineSettings(t),
            this.logAutoplaySettings(t),
            this.logAdSettings(t),
            this.logFloatingSettings(t),
            this.logPassThroughSettings(t);
        }
        logPlayerSettings(e) {
          const { width: t, height: i, posterImage: n, useHotkeys: r } = e;
          this.fuel.log('Player settings:', {
            width: t,
            height: i,
            posterImage: n,
            useHotkeys: r,
          });
        }
        logStreamingEngineSettings(e) {
          const { baseurl: t, channel: i, swc: n } = e;
          this.fuel.log('Streaming Engine settings:', {
            baseurl: t,
            channel: i,
            swc: n,
          });
          // console.log('settings?', {
          //   baseurl: t,
          //   channel: i,
          //   swc: n,
          // });
        }
        logAutoplaySettings(e) {
          const {
              audioAndAutoplay: t,
              canAutoplayMuted: i,
              canAutoplayWithSound: n,
              play: r,
            } = e,
            { willAutoplay: s, willMute: a } = r || {};
          this.fuel.log('Autoplay settings:', {
            canAutoplayMuted: i,
            canAutoplayWithSound: n,
            willAutoplay: s,
            willMute: a,
            audioAndAutoplay: t,
          });
        }
        logAdSettings(e) {
          const {
            adBlockerDetected: t,
            adMethod: i,
            dnt: n,
            prerollVastUrl: r,
            analyticsDataLayer: s,
            adMetadataUrl: a,
            adMetadataKey: o,
          } = e;
          this.fuel.log('Ad-related settings:', {
            adBlockerDetected: t,
            dnt: n,
            analyticsDataLayer: s,
            prerollVastUrl: r,
            adMethod: i,
            adMetadataUrl: a,
            adMetadataKey: o,
          });
        }
        logPassThroughSettings(e) {
          this.fuel.log('Pass-through settings:', e.passThrough);
        }
        logFloatingSettings(e) {
          const {
            floatingCorner: t,
            floatingHeight: i,
            floatingWidth: n,
            floating: r,
          } = e;
          this.fuel.log('Floating settings:', {
            floating: r,
            floatingCorner: t,
            floatingHeight: i,
            floatingWidth: n,
          });
        }
      }
      var ne,
        re = function (e, t, i, n) {
          return new (i || (i = Promise))(function (r, s) {
            function a(e) {
              try {
                l(n.next(e));
              } catch (e) {
                s(e);
              }
            }
            function o(e) {
              try {
                l(n.throw(e));
              } catch (e) {
                s(e);
              }
            }
            function l(e) {
              var t;
              e.done
                ? r(e.value)
                : ((t = e.value),
                  t instanceof i
                    ? t
                    : new i(function (e) {
                        e(t);
                      })).then(a, o);
            }
            l((n = n.apply(e, t || [])).next());
          });
        };
      class se {
        constructor(e, t) {
          (this.fuel = e),
            (this.isDebugMode = !1),
            (this.adMethod = N.Serverside),
            (this.ready = this.initialize(t));
        }
        initialize(e) {
          return re(this, void 0, void 0, function* () {
            const t = new W(),
              i = yield new J(this.fuel, e).ready,
              n = new $(e),
              r = new Z(e),
              s = new te(this.fuel, e);
            return (
              this.merge(t, s, i, n, r).validate(),
              this.reformatBaseUrl(),
              this.resolveAdMethod(),
              (this.play = new ee(this.fuel, this)),
              new ie(this.fuel, this),
              this
            );
          });
        }
        validate() {
          return this.isRequired('channel')
            .isRequired('audioAndAutoplay')
            .isRequired('dnt');
        }
        isRequired(e) {
          if (void 0 === this[e]) throw new Error(`Setting ${e} is required.`);
          return this;
        }
        merge(...e) {
          return Object.assign(this, ...e);
        }
        reformatBaseUrl() {
          var e;
          this.baseurl =
            null === (e = this.baseurl) || void 0 === e
              ? void 0
              : e.trim().replace('http://', '').replace('https://', '');
        }
        resolveAdMethod() {
          e.default.browser.IS_IOS &&
            (this.fuel.log(
              'Settings: Forcing SSAI mode due to iOS one-video-at-time policy.',
            ),
            (this.adMethod = N.Serverside)),
            this.adBlockerDetected &&
              (this.fuel.log(
                'Settings: Ad-blocker detected. Forcing SSAI mode.',
              ),
              (this.adMethod = N.Serverside));
        }
        static isDebug(e) {
          return (
            Object.keys(e).includes('isDebugMode') && 'false' !== e.isDebugMode
          );
        }
      }
      class ae {
        constructor(e, t, i) {
          (this.defaultParams = ['width', 'height', 'swc', 'floating']),
            (this.type = 'application/x-mpegURL');
          const { baseurl: n, channel: r } = e,
            s = this.createURLParams(e, t, i);
          this.src = this.createURL(r, s, n).toString();
        }
        createURL(e, t, i) {
          // console.log(
          //   'url?',
          //   new URL(`${v}/sem/${e}.m3u8?${t}`, window.location.protocol + i),
          // );
          return new URL(
            `${v}/sem/${e}.m3u8?${t}`,
            window.location.protocol + i,
          );
        }
        createURLParams(e, t, i) {
          const n = this.getDefaultParams(e),
            r = this.getAdMethod(e),
            s = this.getAutoplayParams(e),
            a = this.getDNTParams(e),
            o = this.getSSIDParam(i),
            l = e.passThrough || {},
            u = Object.assign(
              Object.assign(
                Object.assign(
                  Object.assign(
                    Object.assign(Object.assign({ sessionId: t }, n), r),
                    s,
                  ),
                  a,
                ),
                o,
              ),
              l,
            );
          return new URLSearchParams(u).toString();
        }
        getDefaultParams(e) {
          return this.defaultParams.reduce((t, i) => {
            const n = e[i];
            return void 0 === n
              ? t
              : Object.assign(Object.assign({}, t), {
                  [i.toLowerCase()]: String(n),
                });
          }, {});
        }
        getAdMethod(e) {
          const { adMethod: t } = e;
          return t ? { adMethod: String(t) } : {};
        }
        getSSIDParam(e) {
          return e ? { 'a-ssid': e } : {};
        }
        getAutoplayParams(e) {
          var t, i;
          return {
            'a-ap': (
              null === (t = e.play) || void 0 === t ? void 0 : t.willAutoplay
            )
              ? '1'
              : '0',
            'a-mute': (
              null === (i = e.play) || void 0 === i ? void 0 : i.willMute
            )
              ? '1'
              : '0',
          };
        }
        getDNTParams(e) {
          switch (e.dnt) {
            case O.Blocked:
              return { 'a-dnt': '1' };
            case O.Allowed:
              return { 'a-dnt': '0' };
            case O.NotDetermined:
            default:
              return { 'a-dnt': '' };
          }
        }
      }
      !(function (e) {
        (e.PlayerError = 'Player.Error'),
          (e.PlayerSeek = 'Player.Seek'),
          (e.PlayerPlay = 'Player.Play'),
          (e.PlayerPause = 'Player.Pause'),
          (e.StreamStalled = 'StreamingEngine.Stream.Stalled'),
          (e.StreamError = 'StreamingEngine.Stream.Error'),
          (e.StreamInitializationError =
            'StreamingEngine.Stream.InitializationError'),
          (e.NewStream = 'StreamingEngine.Stream.New'),
          (e.ResyncStream = 'StreamingEngine.Stream.Sync'),
          (e.NewSection = 'StreamingEngine.Section.New'),
          (e.UpcomingAds = 'StreamingEngine.Ads.Upcoming'),
          (e.SSAIClicked = 'Ads.SSAI.Clicked'),
          (e.SSAIImpression = 'Ads.SSAI.Impression'),
          (e.CSAIStarting = 'Ads.CSAI.Starting'),
          (e.SkipToSection = 'StreamingEngine.Section.Skip'),
          (e.EnableProgressBar = 'Player.EnableProgressBar'),
          (e.DisableProgressBar = 'Player.DisableProgressBar'),
          (e.DisableTagManager = 'TagManager.Block'),
          (e.EnableTagManager = 'TagManager.Unblock'),
          (e.PrerollReport = 'TagManager.Preroll'),
          (e.FloatingOn = 'Player.Floating.On'),
          (e.FloatingOff = 'Player.Floating.Off');
      })(ne || (ne = {}));
      var oe = function (e, t, i, n) {
        return new (i || (i = Promise))(function (r, s) {
          function a(e) {
            try {
              l(n.next(e));
            } catch (e) {
              s(e);
            }
          }
          function o(e) {
            try {
              l(n.throw(e));
            } catch (e) {
              s(e);
            }
          }
          function l(e) {
            var t;
            e.done
              ? r(e.value)
              : ((t = e.value),
                t instanceof i
                  ? t
                  : new i(function (e) {
                      e(t);
                    })).then(a, o);
          }
          l((n = n.apply(e, t || [])).next());
        });
      };
      const { maxRetries: le, retryInterval: ue } = A;
      class de {
        constructor(e, t, i) {
          (this.fuel = e),
            (this.channel = i),
            (this.sections = []),
            (this.streamStarted = !1),
            (this.maxCutoffWithoutManifest = 6),
            (this.url = this.createURL(e.session, t)),
            // console.log('more testing', this.createURL(e.session, t));
            this.fuel.log('Requesting channel data via:', this.url.toString()),
            this.attachEvents();
        }
        attachEvents() {
          this.fuel.player.on('timeupdate', () => this.updateCurrentSection()),
            this.fuel.player.one('timeupdate', () =>
              this.setManualManifestCalls(),
            ),
            this.fuel.player.tech(!0).on('usage', (e) =>
              oe(this, void 0, void 0, function* () {
                'hls-timestamp-offset' === e.name &&
                  (this.fuel.log(
                    'HLS Manifest updated. Fetching new sections.',
                  ),
                  yield this.call().catch(() => {}));
              }),
            ),
            this.fuel.events.on(ne.ResyncStream, () =>
              oe(this, void 0, void 0, function* () {
                yield this.call().catch(() => {});
              }),
            );
        }
        createURL(e, t) {
          return new URL(
            `${v}/session/${e}/sections`,
            window.location.protocol + t,
          );
        }
        updateCurrentSection() {
          var e;
          const t = this.fuel.time.absoluteTime();
          if (
            !(
              t >=
              ((null === (e = this.currentSection) || void 0 === e
                ? void 0
                : e.endTime) || -1)
            )
          )
            return;
          const i = this.sections.find(
            (e) => e.startTime <= t && t < e.endTime,
          );
          void 0 !== i
            ? ((this.currentSection = i), this.notifyChange(i))
            : this.fuel.log('Stream jumped ahead of available Sections.');
        }
        notifyChange(e) {
          this.streamStarted
            ? this.notifyNewSection(e)
            : (this.notifyNewStream(e), (this.streamStarted = !0)),
            this.fuel.player.tech(!0).trigger('durationchange');
        }
        notifyNewStream(e) {
          // console.log('testing?', this), console.log('testing e?', e);
          this.fuel.log(
            `Started stream: ${this.channelName} \n      with clip ${e.videoName} (from ${e.startTime}s to ${e.endTime}s)`,
          ),
            this.fuel.events.emit(
              ne.NewStream,
              e,
              this.channelId,
              this.channelName,
            );
        }
        notifyNewSection(e) {
          this.fuel.log(
            `Started new section: ${e.videoName} \n      (from ${e.startTime}s to ${e.endTime}s)`,
          ),
            this.fuel.events.emit(ne.NewSection, e);
        }
        call(e = 0) {
          return oe(this, void 0, void 0, function* () {
            try {
              this.lastManifestCall = this.fuel.time.absoluteTime();
              const e = yield fetch(this.url.toString());
              return yield this.parseResponse(e);
            } catch (t) {
              return (
                this.fuel.log.warn(`Sections call (${e} retry): ${t.message}`),
                yield this.handleError(e, t.message)
              );
            }
          });
        }
        parseResponse(e) {
          return oe(this, void 0, void 0, function* () {
            if (!e.ok) throw new Error('Invalid response code.');
            const { data: t } = yield e.json();
            this.fuel.log('Channel data:', t);
            const {
              channelId: i,
              channelName: n,
              sections: r,
              maxAdDuration: s,
            } = t;
            if (i !== this.channel) throw new Error('Invalid channel id.');
            if (!r.length)
              throw new Error('No sections specified for the channel.');
            return (
              (this.channelId = i),
              (this.channelName = n),
              (this.sections = this.mergeSections(
                r,
                this.fuel.time.absoluteTime(),
              )),
              this.scheduleSeverSideAds(r),
              this.updateCurrentSection(),
              this.checkSkipToClip(this.sections),
              this
            );
          });
        }
        mergeSections(e, t) {
          return [
            ...this.sections.filter((e) => e.endTime < t),
            ...e.filter((e) => e.endTime >= t),
          ];
        }
        scheduleSeverSideAds(e) {
          const t = this.getAdIds(e);
          t.length && this.fuel.events.emit(ne.UpcomingAds, t);
        }
        getAdIds(e) {
          return e
            .filter(
              (e) => 'LiveAd' === e.contentType || 'LODAd' === e.contentType,
            )
            .map((e) => e.contentId)
            .filter((e) => Boolean(e));
        }
        checkSkipToClip(e) {
          const t = e
            .slice()
            .reverse()
            .find((e) => e.skipToClip);
          if (!t) return;
          this.fuel.log(
            `Cut-To-Live detected: ${t.videoName} at ${t.startTime}`,
          );
          this.fuel.time.absoluteTime() < t.startTime
            ? this.skipTo(t)
            : this.fuel.log(
                'Cut-To-Live ignored: Player is already on required section.',
              );
        }
        skipTo(e) {
          const t = this.fuel.time.absoluteTime();
          this.fuel.events.emit(ne.SkipToSection, t, e.startTime),
            this.fuel.log(`Cut-To-Live: Skipping to ${e.startTime}`);
          const i = this.fuel.time.convertToSectionTime(e.startTime);
          this.fuel.player.currentTime(i);
        }
        handleError(e, t) {
          return oe(this, void 0, void 0, function* () {
            const i = e + 1;
            return i === le
              ? (this.fuel.events.emit(
                  ne.PlayerError,
                  `Cannot fetch sections info for the stream: ${t}`,
                ),
                Promise.reject())
              : yield this.tryAgain(i);
          });
        }
        tryAgain(e) {
          return oe(this, void 0, void 0, function* () {
            return yield this.interval(), this.call(e);
          });
        }
        interval() {
          return new Promise((e) => setTimeout(e, ue));
        }
        setManualManifestCalls() {
          void 0 === this.lastManifestCall && this.call(),
            setInterval(() => {
              const e = this.fuel.time.absoluteTime();
              void 0 !== this.lastManifestCall &&
                this.lastManifestCall <= e - this.maxCutoffWithoutManifest &&
                this.call();
            }, 1e3);
        }
      }
      class ce {
        constructor(e, t) {
          (this.fuel = e),
            (this.from = 0),
            (this.to = 0),
            (this.intervalTime = 1e4),
            (this.url = this.createURL(e.session, t)),
            this.attachEvents();
        }
        attachEvents() {
          this.fuel.events.on(ne.NewStream, () => {
            this.reportPosition('play', !0);
          }),
            this.fuel.events.on(ne.PlayerPlay, () => {
              var e;
              (null === (e = this.fuel.ads) || void 0 === e
                ? void 0
                : e.running) || this.reportPosition('play', !0);
            }),
            this.fuel.events.on(ne.PlayerPause, () => {
              var e;
              (null === (e = this.fuel.ads) || void 0 === e
                ? void 0
                : e.running) || this.reportPosition('pause', !0);
            }),
            this.fuel.events.on(ne.PlayerSeek, (e) => {
              this.reportPreSeekPosition(e),
                this.reportPosition('post-seek', !0);
            }),
            this.fuel.events.on(ne.SkipToSection, (e, t) => {
              this.reportPreSeekPosition(e), this.reportPostSeekPosition(t);
            }),
            this.fuel.events.on(ne.ResyncStream, () => {
              this.reportPosition('resync', !0);
            }),
            this.fuel.events.on(ne.CSAIStarting, (e) => {
              e
                ? this.reportPosition('csai', !0)
                : this.artificiallyReportPosition();
            });
        }
        createURL(e, t) {
          return new URL(`${v}/session/${e}/pos`, window.location.protocol + t);
        }
        reportPreSeekPosition(e) {
          this.cancelPreviousSchedule(),
            (this.from = this.to),
            (this.to = e),
            this.sendReport('pre-seek'),
            this.updateTimes();
        }
        reportPostSeekPosition(e) {
          this.cancelPreviousSchedule(),
            (this.from = e),
            (this.to = e),
            this.sendReport('post-seek'),
            this.scheduleNewReport(!0);
        }
        artificiallyReportPosition() {
          this.cancelPreviousSchedule(),
            this.artificiallyUpdateTimes(),
            this.sendReport('csai'),
            this.scheduleNewReport(!0);
        }
        reportPosition(e, t = !1) {
          this.cancelPreviousSchedule(),
            this.updateTimes(),
            this.sendReport(e),
            t && this.scheduleNewReport(!0);
        }
        cancelPreviousSchedule() {
          window.clearTimeout(this.interval);
        }
        updateTimes() {
          (this.from = this.to), (this.to = this.fuel.time.absoluteTime());
        }
        artificiallyUpdateTimes() {
          this.from = this.to;
        }
        sendReport(e) {
          try {
            this.fuel.log(
              `Reporting position for ${e}:`,
              this.from.toFixed(1),
              this.to.toFixed(1),
            ),
              this.url.searchParams.set('f', String(this.from)),
              this.url.searchParams.set('t', String(this.to)),
              fetch(this.url.toString());
          } catch (e) {
            this.fuel.log.warn('Reporting position failed:', e.message);
          }
        }
        scheduleNewReport(e = !1) {
          this.interval = window.setTimeout(
            () => this.reportPosition('progress', e),
            this.intervalTime,
          );
        }
      }
      class he {
        constructor(e) {
          (this.fuel = e),
            (this.stalled = !0),
            (this.reportStallAfter = 1e3),
            (this.reportRecoveryAfter = 1e4),
            (this.bufferEnd = this.fuel.player.bufferedEnd()),
            this.attachEvents(),
            this.checkStalled(),
            this.checkRecovered();
        }
        attachEvents() {
          this.fuel.events.once(ne.NewSection, () => {
            this.stalled = !1;
          }),
            this.fuel.player.one('timeupdate', () => {
              this.stalled = !1;
            });
        }
        checkBuffer() {
          const e = this.fuel.player.bufferedEnd(),
            t = e > this.bufferEnd,
            i = e >= this.fuel.time.sectionDuration();
          (t || i) && (this.stalled = !1);
        }
        checkStalled() {
          setTimeout(() => {
            this.checkBuffer(),
              this.stalled &&
                this.fuel.log(`Stream stalled at: ${this.bufferEnd}`);
          }, this.reportStallAfter);
        }
        checkRecovered() {
          setTimeout(() => {
            this.checkBuffer(),
              this.stalled &&
                (this.fuel.log.warn(
                  `Stream stalling for more than 10s at: ${this.bufferEnd}.`,
                ),
                this.fuel.events.emit(ne.StreamStalled));
          }, this.reportRecoveryAfter);
        }
      }
      class pe {
        constructor(e) {
          (this.fuel = e),
            (this.retryCount = 0),
            (this.video = this.fuel.player.tech(!0).el()),
            this.attachEvents();
        }
        attachEvents() {
          this.fuel.player.tech(!0).on('retryplaylist', () => {
            (this.retryCount += 1),
              this.retryCount >= 3 &&
                this.fuel.events.emit(
                  ne.StreamError,
                  'Cannot fetch playlist info for the stream',
                );
          }),
            this.fuel.player.on(['timeupdate'], () => {
              this.retryCount = 0;
            }),
            this.fuel.player.on('error', (e) => {
              this.fuel.events.emit(ne.StreamError, e.message);
            }),
            (this.video.onerror = () => {
              const e = this.video.error;
              4 === e.code &&
                this.fuel.events.emit(ne.StreamInitializationError, e.message);
            }),
            this.fuel.player.one('timeupdate', () => {
              this.video.onerror = null;
            }),
            this.fuel.player.on(['stalled', 'suspend', 'waiting'], () => {
              var e;
              (null === (e = this.fuel.ads) || void 0 === e
                ? void 0
                : e.running) || new he(this.fuel);
            });
        }
      }
      class fe {
        constructor(e, t) {
          (this.fuel = e), (this.shouldWaitForStream = !1);
          const { baseurl: i, channel: n } = t;
          new de(e, i, n), new ce(e, i), new pe(e), this.attachEvents();
        }
        attachEvents() {
          this.fuel.events.once(ne.NewStream, () => {
            this.fuel.player.on('waiting', () => {
              var e;
              (null === (e = this.fuel.ads) || void 0 === e
                ? void 0
                : e.running) ||
                this.shouldWaitForStream ||
                (this.fuel.log(
                  'User scrubbed past available buffer. Resyncing stream.',
                ),
                this.fuel.events.emit(ne.ResyncStream));
            });
          }),
            this.fuel.events.on(ne.SkipToSection, () => {
              this.shouldWaitForStream = !0;
            }),
            this.fuel.events.on(ne.NewSection, () => {
              this.shouldWaitForStream = !1;
            });
        }
      }
      class me {
        constructor(e) {
          (this.fuel = e),
            (this.sectionStart = 0),
            (this.sectionEnd = 0),
            this.attachEvents();
        }
        attachEvents() {
          this.fuel.events.on(ne.NewStream, (e) => {
            (this.sectionStart = e.startTime), (this.sectionEnd = e.endTime);
          }),
            this.fuel.events.on(ne.NewSection, (e) => {
              (this.sectionStart = e.startTime), (this.sectionEnd = e.endTime);
            });
        }
        relativeTime() {
          return this.fuel.player.currentTime();
        }
        absoluteTime() {
          return this.fuel.player.currentTime() + this.sectionStart;
        }
        sectionDuration() {
          return this.sectionEnd - this.sectionStart;
        }
        isOnCue(e) {
          return this.absoluteTime() >= e;
        }
        convertToSectionTime(e) {
          return 0 === this.sectionEnd ? 0 : e - this.sectionStart;
        }
        convertFromSectionTime(e) {
          return e + this.sectionStart;
        }
        convertTimeRangesToSectionTime(t) {
          if (0 === this.sectionEnd)
            return e.default.createTimeRanges([[0, 0]]);
          const i = [],
            n = this.sectionDuration();
          for (let e = 0; e < t.length; e++) {
            const r = this.convertToSectionTime(t.start(e)),
              s = this.convertToSectionTime(t.end(e));
            i.push([r < 0 ? 0 : r, s > n ? n : s]);
          }
          return e.default.createTimeRanges(i);
        }
      }
      const ge = 'This video is currently unavailable.',
        ve = e.default.getComponent('Component'),
        ye = e.default.getComponent('ClickableComponent'),
        Ae = e.default.getComponent('Button');
      class be {
        constructor(e) {
          (this.fuel = e),
            (this.baseClass = 'bc-fuel-s-c'),
            (this.clickableClass = 'bc-fuel-s-cc'),
            (this.impressionTime = 1e3),
            (this.active = !1),
            (this.clicked = !1),
            (this.area = new ye(this.fuel.player, {
              clickHandler: () => this.handleClick(),
            })),
            this.area.hide(),
            this.area.addClass(this.baseClass),
            this.fuel.player.addChild(this.area);
        }
        activate(e) {
          this.target !== e &&
            (e &&
              this.fuel.log(
                `SSAI: Activating clickable area: ${e.substr(0, 30)}...`,
              ),
            (this.clicked = !1)),
            (this.target = e),
            this.resetArea(),
            e && this.area.addClass(this.clickableClass),
            this.fuel.isDebug && this.addDebugInfo(e),
            (this.clicked && this.fuel.isMobile) || this.area.show(),
            (this.active = !0);
        }
        deactivate() {
          this.active &&
            (this.fuel.log('SSAI: Deactivating clickable area.'),
            (this.active = !1)),
            this.resetArea();
        }
        handleClick() {
          this.target && this.openAd();
        }
        openAd() {
          (this.clicked = !0),
            this.fuel.player.pause(),
            window.open(this.target, '_blank'),
            this.fuel.isMobile && this.area.hide(),
            this.fuel.events.emit(ne.SSAIClicked),
            setTimeout(() => {
              this.fuel.events.emit(ne.SSAIImpression);
            }, this.impressionTime);
        }
        resetArea() {
          this.area.removeClass(this.clickableClass),
            (this.area.el().innerHTML = ''),
            this.area.hide();
        }
        addDebugInfo(e) {
          const t = e
            ? `SSAI with target: ${e.substr(0, 500)}...`
            : 'Playing SSAI without a clickthrough link.';
          this.area.el().innerHTML = t;
        }
      }
      var Te = function (e, t, i, n) {
        return new (i || (i = Promise))(function (r, s) {
          function a(e) {
            try {
              l(n.next(e));
            } catch (e) {
              s(e);
            }
          }
          function o(e) {
            try {
              l(n.throw(e));
            } catch (e) {
              s(e);
            }
          }
          function l(e) {
            var t;
            e.done
              ? r(e.value)
              : ((t = e.value),
                t instanceof i
                  ? t
                  : new i(function (e) {
                      e(t);
                    })).then(a, o);
          }
          l((n = n.apply(e, t || [])).next());
        });
      };
      class Se {
        constructor(e, t) {
          (this.fuel = e),
            (this.adMetadata = t),
            (this.clickthroughs = {}),
            this.fuel.log('Ads: Starting in SSAI mode.'),
            (this.clickArea = new be(e)),
            this.attachEvents();
        }
        attachEvents() {
          this.fuel.events.on(ne.NewStream, (e) => {
            (this.currentSection = e), this.handleFirstSection(e);
          }),
            this.fuel.events.on(ne.NewSection, (e) => {
              (this.currentSection = e), this.handleSectionChange(e);
            }),
            this.fuel.events.on(ne.UpcomingAds, (e) => this.handleAdUrls(e));
        }
        handleAdUrls(e) {
          return Te(this, void 0, void 0, function* () {
            yield this.fetchAdUrls(e),
              this.currentSection &&
                this.handleSectionChange(this.currentSection);
          });
        }
        fetchAdUrls(e) {
          return Te(this, void 0, void 0, function* () {
            try {
              const t = yield this.adMetadata.post('Prod/data/Contents', e);
              this.clickthroughs = this.parseResponse(t);
            } catch (e) {}
          });
        }
        parseResponse(e) {
          return 'object' != typeof e || null === e
            ? {}
            : Object.entries(e).reduce((e, [t, i]) => {
                const n = t.replace('Contents-', '').trim(),
                  r = null == i ? void 0 : i.clickThroughUrl;
                return r ? Object.assign(Object.assign({}, e), { [n]: r }) : e;
              }, {});
        }
        handleFirstSection(e) {
          return Te(this, void 0, void 0, function* () {
            return (
              this.isAd(e) &&
                e.contentId &&
                (yield this.fetchAdUrls([e.contentId])),
              this.handleSectionChange(e)
            );
          });
        }
        handleSectionChange(e) {
          return this.isAd(e)
            ? this.handleAd(e.contentId)
            : this.handleContent();
        }
        isAd(e) {
          return ['LiveAd', 'LODAd'].includes(e.contentType);
        }
        handleAd(e) {
          const t = e ? this.clickthroughs[e] : void 0;
          this.clickArea.activate(t);
        }
        handleContent() {
          this.clickArea.deactivate();
        }
      }
      function we(e, t, i) {
        return e >= t && e <= i;
      }
      var ke = function (e, t, i, n) {
        return new (i || (i = Promise))(function (r, s) {
          function a(e) {
            try {
              l(n.next(e));
            } catch (e) {
              s(e);
            }
          }
          function o(e) {
            try {
              l(n.throw(e));
            } catch (e) {
              s(e);
            }
          }
          function l(e) {
            var t;
            e.done
              ? r(e.value)
              : ((t = e.value),
                t instanceof i
                  ? t
                  : new i(function (e) {
                      e(t);
                    })).then(a, o);
          }
          l((n = n.apply(e, t || [])).next());
        });
      };
      class _e {
        constructor(e) {
          (this.fuel = e),
            (this.forceFullBreak = !1),
            (this.adStartTime = 0),
            this.fuel.log('Ads: Starting in CSAI mode.'),
            (this.volume = this.fuel.player.volume()),
            (this.contribAds = this.fuel.player.ads),
            (this.imaPlugin = this.fuel.player.ima),
            this.attachEvents();
        }
        attachEvents() {
          this.fuel.events.on(ne.NewSection, (e) =>
            this.resolveSectionChange(e),
          ),
            this.fuel.events.on(ne.NewStream, (e) => {
              this.resolveSectionChange(e);
            });
        }
        resolveSectionChange(e) {
          this.shouldReturnToContent(e) && this.stopAd(e),
            this.hasLinearAd(e) && this.scheduleAdBreak(e),
            this.hasLiveAd(e) && this.scheduleAdBreak(e, !0);
        }
        shouldReturnToContent(e) {
          const t = this.contribAds.isAdPlaying(),
            i = this.isAdStarting(),
            n = 'AdFiller' === e.contentType;
          return !this.forceFullBreak && !i && t && !n;
        }
        isAdStarting() {
          return we(
            this.fuel.time.absoluteTime(),
            this.adStartTime - 2,
            this.adStartTime + 2,
          );
        }
        stopAd(e) {
          this.fuel.log(
            `Ads: Stopping ad early due to ${e.contentType} appearing in stream.`,
          ),
            this.imaPlugin.changeAdTag(null),
            this.contribAds.endLinearAdMode(),
            this.fuel.player.trigger('contentresumed'),
            this.fuel.player.volume(this.volume);
        }
        hasLinearAd(e) {
          return 'LODContent' === e.contentType && this.hasAd(e);
        }
        hasLiveAd(e) {
          return 'AdFiller' === e.contentType && this.hasAd(e);
        }
        hasAd(e) {
          return (
            void 0 !== e.adTag &&
            void 0 !== e.adBreakStartTime &&
            void 0 !== e.adBreakDuration
          );
        }
        scheduleAdBreak(e, t = !1) {
          return ke(this, void 0, void 0, function* () {
            const { adBreakStartTime: i, adTag: n } = e;
            void 0 !== i &&
              void 0 !== n &&
              (this.fuel.log(`Ads: Scheduling client-side ad break at: ${i}`),
              yield this.waitUntil(i),
              this.contribAds.isAdPlaying()
                ? this.fuel.log(
                    `Ads: Skipping ad at: ${i} due to previous ad still ongoing.`,
                  )
                : this.playAd(n, t));
          });
        }
        playAd(e, t) {
          this.fuel.log(`Ads: Starting ads. Parsed VAST tag: ${e}`),
            (this.adStartTime = this.fuel.time.absoluteTime()),
            this.fuel.events.emit(ne.CSAIStarting, t),
            t && this.keepContentPlaying();
          try {
            this.imaPlugin.changeAdTag(e),
              this.imaPlugin.requestAds(),
              this.fuel.player.one('adend', () => {
                this.imaPlugin.changeAdTag(null);
              });
          } catch (e) {
            this.fuel.log('Ads: Preroll blocked by client.');
          }
        }
        keepContentPlaying() {
          this.fuel.player.one('ads-ad-started', () => {
            (this.volume = this.fuel.player.volume()),
              this.fuel.player.play(),
              this.fuel.player.volume(0),
              this.fuel.player.one('adend', () => {
                this.fuel.player.volume(this.volume);
              });
          });
        }
        waitUntil(e) {
          return new Promise((t) => {
            const i = () => {
              this.fuel.time.isOnCue(e - 0.5)
                ? t()
                : setTimeout(() => i(), 500);
            };
            i();
          });
        }
      }
      var Ce = function (e, t, i, n) {
        return new (i || (i = Promise))(function (r, s) {
          function a(e) {
            try {
              l(n.next(e));
            } catch (e) {
              s(e);
            }
          }
          function o(e) {
            try {
              l(n.throw(e));
            } catch (e) {
              s(e);
            }
          }
          function l(e) {
            var t;
            e.done
              ? r(e.value)
              : ((t = e.value),
                t instanceof i
                  ? t
                  : new i(function (e) {
                      e(t);
                    })).then(a, o);
          }
          l((n = n.apply(e, t || [])).next());
        });
      };
      class Ee {
        constructor(e, t, i) {
          var n;
          (this.fuel = e),
            (this.settings = t),
            (this.session = i),
            (this.instanceId = R()),
            (this.playinit = (
              null === (n = t.play) || void 0 === n ? void 0 : n.willAutoplay
            )
              ? 'auto'
              : 'user'),
            this.attachEvents();
        }
        attachEvents() {
          this.fuel.events.on(ne.NewStream, () => {
            this.synchronize(this.settings, this.session);
          });
          const e = this.debounce(this.synchronize);
          this.fuel.player.on('volumechange', () => {
            e(this.settings, this.session);
          }),
            this.fuel.player.on('playerresize', () => {
              e(this.settings, this.session);
            });
        }
        synchronize(e, t) {
          return Ce(this, void 0, void 0, function* () {
            const i = this.createSynchronizationData(e, t);
            try {
              const e = yield this.post(`Prod/data/ads/${t}`, i);
              this.fuel.log('AdMetadata: Synchronized:', e);
            } catch (e) {
              this.fuel.log.warn('Cannot synchronize with AdMetadata.');
            }
          });
        }
        createSynchronizationData(e, t) {
          const { channel: i } = e,
            n = this.getPlayerParams();
          return Object.assign(
            {
              instanceId: this.instanceId,
              contentId: i,
              sessionId: t,
              playinit: this.playinit,
            },
            n,
          );
        }
        getPlayerParams() {
          const e = this.fuel.player,
            t = e.el();
          return {
            width: e.width() || (null == t ? void 0 : t.offsetWidth) || 0,
            height: e.height() || (null == t ? void 0 : t.offsetHeight) || 0,
            volume: 100 * e.volume(),
          };
        }
        post(e, t) {
          return Ce(this, void 0, void 0, function* () {
            const i = this.createURL(e).toString(),
              n = yield fetch(i, {
                method: 'POST',
                headers: {
                  'x-api-key': this.settings.adMetadataKey,
                  'Content-Type': 'application/json',
                },
                body: JSON.stringify(t),
              });
            return yield n.json();
          });
        }
        createURL(e) {
          return new URL(e, this.settings.adMetadataUrl);
        }
        debounce(e, t = 300) {
          let i;
          return (...n) => {
            clearTimeout(i),
              (i = setTimeout(() => {
                e.apply(this, n);
              }, t));
          };
        }
      }
      var je = function (e, t, i, n) {
        return new (i || (i = Promise))(function (r, s) {
          function a(e) {
            try {
              l(n.next(e));
            } catch (e) {
              s(e);
            }
          }
          function o(e) {
            try {
              l(n.throw(e));
            } catch (e) {
              s(e);
            }
          }
          function l(e) {
            var t;
            e.done
              ? r(e.value)
              : ((t = e.value),
                t instanceof i
                  ? t
                  : new i(function (e) {
                      e(t);
                    })).then(a, o);
          }
          l((n = n.apply(e, t || [])).next());
        });
      };
      class Pe {
        constructor(e) {
          this.fuel = e;
          // (this.syncEndpoint = 'https://sync.springserve.com/usersync/json'),
          // (this.syncScript = 'https://vid.springserve.com/ssusersync'),
          // (this.ready = this.initialize());
        }
        initialize() {
          return je(this, void 0, void 0, function* () {
            try {
              (this.id = yield this.getUserId()),
                this.appendScriptTag(this.id),
                this.fuel.log(`Ads: SSID synced with SpringServe: ${this.id}`);
            } catch (e) {
              this.fuel.log(`Ads: Cannot sync with SpringServe: ${e.message}`);
            }
            return this;
          });
        }
        getUserId() {
          return je(this, void 0, void 0, function* () {
            const e = yield fetch(this.syncEndpoint);
            if (!e.ok) throw new Error('Cannot sync with SpringServe');
            const t = yield e.json();
            return this.parseResponse(t);
          });
        }
        parseResponse(e) {
          if ('object' != typeof e || null === e)
            throw new Error('Invalid response from SpringServe');
          const { user_id: t } = e;
          if ('string' != typeof t)
            throw new Error('Invalid response from SpringServe');
          return t;
        }
        appendScriptTag(e) {
          const t = `FUELPlayer_SpringServe_UserScript_${e}`;
          if (document.getElementById(t)) return;
          const i = document.createElement('script');
          (i.type = 'text/javascript'),
            (i.src = this.syncScript),
            document.head.append(i);
        }
      }
      class Ie {
        constructor(e, t) {
          (this.fuel = e), this.attachEvents();
          try {
            this.fuel.player.ima.changeAdTag(t),
              this.fuel.player.ima.requestAds();
          } catch (e) {
            this.fuel.log('Ads: Preroll blocked by client.');
          }
        }
        attachEvents() {
          this.fuel.player.one('ads-manager', (e) => {
            this.attachAdsManagerEvents(e.adsManager);
          }),
            this.fuel.player.one('adserror', (e) => {
              this.reportAdError(e.data.AdError);
            });
        }
        attachAdsManagerEvents(e) {
          e.addEventListener(this.fuel.ima.AdEvent.Type.STARTED, () => {
            this.report('prerollStart', 0);
          }),
            e.addEventListener(this.fuel.ima.AdEvent.Type.COMPLETE, () => {
              const e = this.getCurrentAd();
              this.report('prerollEnd', e.getDuration());
            }),
            e.addEventListener(this.fuel.ima.AdEvent.Type.CLICK, () => {
              const t =
                this.getCurrentAd().getDuration() - e.getRemainingTime();
              this.report('prerollClick', t);
            });
        }
        report(e, t) {
          const i = this.getCurrentAd(),
            n = {
              clipId: i.getCreativeId(),
              clipName: i.getTitle(),
              clipType: 'restricted',
              clipTypeDesc: 'prerollAd',
              clipLength: i.getDuration(),
              videoAction: e,
              clipSecondsPlayed: t,
            };
          this.fuel.events.emit(ne.PrerollReport, n);
        }
        reportAdError(e) {
          const t = this.getCurrentAd(),
            i = {
              clipId: t ? t.getCreativeId() : null,
              clipName: t ? t.getTitle() : null,
              clipType: 'restricted',
              clipTypeDesc: 'prerollAd',
              clipLength: t ? t.getDuration() : 0,
              videoAction: 'prerollError',
              clipSecondsPlayed: 0,
              prerollErrorMsg: `${e.getErrorCode()}: ${e.getMessage()}`,
            };
          this.fuel.events.emit(ne.PrerollReport, i);
        }
        getCurrentAd() {
          return this.fuel.player.ima.controller.sdkImpl.currentAd;
        }
      }
      var xe = function (e, t, i, n) {
        return new (i || (i = Promise))(function (r, s) {
          function a(e) {
            try {
              l(n.next(e));
            } catch (e) {
              s(e);
            }
          }
          function o(e) {
            try {
              l(n.throw(e));
            } catch (e) {
              s(e);
            }
          }
          function l(e) {
            var t;
            e.done
              ? r(e.value)
              : ((t = e.value),
                t instanceof i
                  ? t
                  : new i(function (e) {
                      e(t);
                    })).then(a, o);
          }
          l((n = n.apply(e, t || [])).next());
        });
      };
      class Le {
        constructor(e, t, i) {
          (this.fuel = e),
            (this.running = !1),
            (this.ready = this.initialize(t, i)),
            this.attachEvents();
        }
        attachEvents() {
          this.fuel.events.on(ne.CSAIStarting, () => {
            (this.running = !0),
              this.fuel.player.one('adend', () => {
                this.fuel.log('Ads: CSAI ended.'), (this.running = !1);
              });
          });
        }
        initialize(e, t) {
          return xe(this, void 0, void 0, function* () {
            const i = yield new Pe(this.fuel).ready;
            this.springServe = i;
            const n = new Ee(this.fuel, e, t);
            // e.adMethod === N.Clientside
            //   ? new _e(this.fuel)
            //   : new Se(this.fuel, n);
            const { prerollVastUrl: r, adBlockerDetected: s } = e;
            return r && !s && new Ie(this.fuel, r), this;
          });
        }
      }
      class De {
        constructor(e, t) {
          var i;
          (this.fuel = e),
            (this.isBlocked = !1),
            (this.channelId = t.channel),
            (this.dataLayer = this.getOrCreateDataLayer(t.analyticsDataLayer)),
            (this.wasMuted = this.fuel.player.muted()),
            (this.willAutoplay =
              (null === (i = t.play) || void 0 === i
                ? void 0
                : i.willAutoplay) || !1),
            e.log(
              `TagManager: Sending events to window.${t.analyticsDataLayer}`,
            ),
            this.attachEvents();
        }
        getOrCreateDataLayer(e) {
          return (
            void 0 === window[e] &&
              (this.fuel.log(`Created GTM data layer window.${e}`),
              (window[e] = [])),
            Array.isArray(window[e])
              ? window[e]
              : (this.fuel.log.warn(
                  `GTM: window.${e} is not an array. Bailing out from analytics.`,
                ),
                null)
          );
        }
        attachEvents() {
          if (null === this.dataLayer) return;
          this.fuel.events.on(ne.DisableTagManager, () => {
            this.isBlocked = !0;
          }),
            this.fuel.events.on(ne.EnableTagManager, () => {
              this.isBlocked = !1;
            });
          const e = setInterval(() => {
            this.fuel.player.paused() || this.report('clipDuration');
          }, 1e4);
          this.fuel.events.on('ended', () => {
            this.report('clipDuration'), clearInterval(e);
          }),
            this.fuel.player.on('fullscreenchange', () => {
              this.fuel.player.isFullscreen() &&
                (this.report('channelExpand'), this.report('clipDuration'));
            }),
            this.fuel.player.on('volumechange', () => {
              this.report('clipDuration'), this.handleMuteChanges();
            }),
            this.fuel.events.on(ne.PlayerSeek, (e, t) => {
              this.report(e < t ? 'channelFastForward' : 'channelRewind'),
                this.report('clipDuration');
            }),
            this.fuel.events.on(ne.NewStream, (e, t, i) => {
              this.handleStreamStart(t, i, e), this.handlePlayPause();
            }),
            this.fuel.events.on(ne.NewSection, (e) => {
              this.handleSectionChange(e);
            }),
            this.fuel.events.on(ne.SSAIClicked, () => {
              this.report('midrollAdClick');
            }),
            this.fuel.events.on(ne.PrerollReport, (e) => this.prerollReport(e)),
            this.fuel.events.on(ne.StreamStalled, () => {
              this.report('bufferError');
            }),
            this.fuel.events.on(ne.StreamError, (e) => {
              this.report('channelError', e);
            }),
            this.fuel.events.on(ne.StreamInitializationError, (e) => {
              this.initializationErrorReport(e);
            });
        }
        handleStreamStart(e, t, i) {
          (this.channelName = t),
            (this.section = i),
            this.fuel.player.one('timeupdate', () => {
              this.report('channelStart'),
                this.report('firstClip'),
                this.report('clipStart'),
                this.report('clipDuration');
            });
        }
        handleSectionChange(e) {
          this.report('clipEnd'),
            (this.section = e),
            this.fuel.player.one('timeupdate', () => {
              this.report('clipStart'), this.report('clipDuration');
            });
        }
        handlePlayPause() {
          this.fuel.events.on(ne.PlayerPlay, () => {
            this.report('channelResumed'), this.report('clipDuration');
          }),
            this.fuel.events.on(ne.PlayerPause, () => {
              this.report('channelPaused'), this.report('clipDuration');
            });
        }
        handleMuteChanges() {
          const e = 0 === this.fuel.player.volume() || this.fuel.player.muted();
          this.wasMuted && !e && this.report('channelUnmute'),
            !this.wasMuted && e && this.report('channelMute'),
            (this.wasMuted = e);
        }
        report(e, t) {
          var i, n, r, s, a;
          if (!this.channelName)
            return void this.fuel.log(`TagManager: Can't send event ${e}.`);
          if (this.isBlocked) return;
          let o = this.fuel.time.relativeTime();
          'channelStart' === e && (o = 0),
            'clipStart' === e && (o = 0),
            'clipEnd' === e && (o = this.fuel.time.sectionDuration());
          const l = {
            event: 'video',
            videoAction: e,
            currentTime: this.fuel.time.absoluteTime(),
            channelName: this.channelName,
            channelId: this.channelId,
            channelAutoPlay: this.willAutoplay,
            channelStartPosition: 0,
            channelErrorMsg: t,
            clipName:
              null === (i = this.section) || void 0 === i
                ? void 0
                : i.videoName,
            clipId:
              null === (n = this.section) || void 0 === n ? void 0 : n.videoId,
            clipType:
              null === (r = this.section) || void 0 === r ? void 0 : r.type,
            clipTypeDesc:
              null === (s = this.section) || void 0 === s
                ? void 0
                : s.contentType,
            clipLength: this.fuel.time.sectionDuration(),
            clipSecondsPlayed: o,
            sessionId: this.fuel.session,
          };
          null === (a = this.dataLayer) || void 0 === a || a.push(l),
            this.fuel.log(`TagManager: Event ${e} fired.`);
        }
        prerollReport(e) {
          var t;
          const i = Object.assign(
            {
              event: 'video',
              currentTime: 0,
              channelId: this.channelId,
              channelName: null,
              channelAutoPlay: this.willAutoplay,
              channelStartPosition: 0,
              sessionId: this.fuel.session,
            },
            e,
          );
          null === (t = this.dataLayer) || void 0 === t || t.push(i),
            this.fuel.log(`TagManager: Event ${e.videoAction} fired.`);
        }
        initializationErrorReport(e) {
          var t;
          const i = {
            event: 'video',
            videoAction: 'channelError',
            currentTime: 0,
            channelId: this.channelId,
            channelName: null,
            channelAutoPlay: this.willAutoplay,
            channelStartPosition: 0,
            sessionId: this.fuel.session,
            channelErrorMsg: `Channel initialization error: ${e}`,
          };
          null === (t = this.dataLayer) || void 0 === t || t.push(i),
            this.fuel.log(
              'TagManager: Event channelError on channel start fired.',
            );
        }
      }
      class Re {
        constructor(e, t) {
          (this.fuel = e),
            (this.settings = t),
            (this.aspectRatio = y),
            (this.defaultFloatingWidth = 640),
            (this.defaultFloatingHeight = 360),
            (this.fluid = !1);
          const { width: i, height: n, fluid: r } = this.resolveSize(t);
          this.fluid = r || !1;
          const { posterImage: s, play: a } = t,
            { player: o } = e;
          i && o.width(i),
            n && o.height(n),
            (i && n) || o.aspectRatio(this.aspectRatio),
            o.fluid(Boolean(r)),
            (this.defaultWidth = o.currentWidth()),
            (this.defaultHeight = o.currentHeight()),
            o.muted((null == a ? void 0 : a.willMute) || !1),
            o.autoplay((null == a ? void 0 : a.willAutoplay) || !1),
            o.poster(
              s ||
                'data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/CABEIAkAEAAMBIgACEQEDEQH/xAAdAAEAAwEBAQEBAQAAAAAAAAAABgcIBQQCAQMK/9oACAEBAAAAAP8AG+AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACk5/LQCse/LwAABH4FboAFJz6XCs+7LyAp9H5AAAAAAAAAAAZPuKzgDMs6uAAAAQLOeyQAMn3DZ5nSq2ku9Ec+rit2QAAAAAAAAAAGT7il8d6MwOB7/BnSW27IEP50i74h/PkPfcD3+CPSHv+CsqS1V3+B74n3e/4Ib0ZhwPfl+4bPMbclcVnUpXSX6wAAAAAAAAAAGT/VF+9w5DpvoY30XSkQ9UzuzOfh93As3RngzBwelHruu3I/RjfT4Oi/mgOZ1tOZj+108+lO54JBEtU5+uGzylaK6enXgzP5tCW2AAAAAAAAAAMn+LT3f8GcP6aaxvoue5lnVoZFt27XAztomgvnR3QiGY9GUN8ar6FR1HriBZz2SxtL9NQPM2l58zrVWsM/XDZ5z4h0Pfw+5z/wB7/QAAAAAAAAAAGT7Utwh+UNn5H0XPcyzrp0hrwOfjCbd4hsziNs2+iWTdvwLOeyWNr7s7On7oo8GONT5+uGzzn8H3dGHzDn+DvdAAAAAAAAAAAZPuKzjgY/2fkfRc9zLOv61HrcOfjC8veO/Q10Wg4GP9nRPOeyWNtGT3OnTvgY201n64bPKTozq6c/PBmjy6Ct0AAAAAAAAAAZP6WnihIDrnG+i57mWdWBkDWMuKjs3KtnXW/cx2bSt0Wg4GP9nRPOeyWNtGT2oag1b0EAy/rDP1w2eY25K4rOpSukv1gAAAAAAAAAAMn8WQT6IQ3T0vxvoue5lnVwUlT9odGBcvT3BzNZ3cgPP1Xla6LQcDH+zonnPZLG2jJ6yn4rN5tZcvWGfrhs8zLXTSXeiGfly30AAAAAAAAAAKil8QiHStvvqin3frHvy9A698Mus/3ohWvMl1n++o5733PqK7eBAbdVFPu+/ahiHStutLarKXS8VhIJeQHwWaAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFKc06nLu3oRGsOlzR0U8kHQAVlW/qt2XAAAAAAAAAAAAAAAAZX5/tSGG6e71YUlIo70TpfOmwChKlsrn13pKzQAABUdne4AAAAAAAAAAAFH++4UAr68ffEKu6XN0AUevABwMf6gn6hq815z6iflvc+pPyzeB0/bArrpKYRH8ls/qKkLBnv13opbIAAAAAAAAAADMfA+kijenO/WVIyOOfRL+fpoBWObtvlf5g2/wADH+lav78QnvQpK3Yf911oKk78oK/Jh3oDnW3O/Q1kf1vkAAAAAAAAAABkb5s5war1/IKxzdNIXeRAfFrgBSdI7aM6xDXPAx/s6pIrENEd7H+ssre6ewGy5fUeqxkG/rAxp8afl4AAAAAAAAAADI3f00qDP+v5BUefJpC9vmVPFrgBQFSa8oLmxfTE94GP7Bimi4jWXvkeh8q9C7Mnah51R6rrKr9O5Bv6wM6QHZIAAAAAAAAAABkbv6aRHJ1h2DUHPntW2n9o5wrMXb0AztV2vMfWRfHfcDH+z3Qc90A8HveD3uf0Of0Dn9AAAAAAAAAAAAzt7b8KxqTgSC+4hAR3eEaL94VFWmmOfIB+x/vgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAH/8QAFAEBAAAAAAAAAAAAAAAAAAAAAP/aAAgBAhAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oACAEDEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP/EADUQAAIBAwIDBwIFAwUBAAAAAAQFBgABBwI2EBQXAxEVFiQ0NSBgEiElMEczQEQTIiMmsJD/2gAIAQEAAQgA/wDeikGSXChocptCn5ciVnll/syDJV462OT1FJZ5wEYf28hbeXFPjFCZV5woIT96QZJcKGhym0LflyJXcoviWWIGJYwwjKcWHv3aFM2QN7WFE4tZ9FlBPLWVZLipluVvzn+bQkhDML5P7Amu7ZBWH/gGH7WSt5Naw57aQf2+S9sG0q+UA/emu7ZBWKdusfoyVKiHDO6sbhjaQENlmsIj+QgaytKShPxxsXhjR/3F+XDBI9yZljPsCa7tkFYf+AYU1fqlN7WbdTYnQmQ4mZ9HmuJ0IWIYJYwMuVIBCbilz8sM2UsCQ8atlKkdjdsJII8YXygdFliB+9LyFEwvyrqbE6VStA3vewv0F5CiYX5V1NiVKn8fb37hOBcqQCE3FLEaiOBLliNZWgUXtYrqbEqVP4+2veyii2oicSxZc9kMfNRGCBqvlAK87xOhCxDBLmB+a4nQjZSaJzdyMkRcf8tCp+qbX1WU01kClRe1m/U2J0JkOJmcPNcToQsQwS5gc13bIKxTt1j9DX5Q/jh75hlX8hA1krdGvjCt2x/7Bmu7ZBSmYmJkJqhX6swuvJUtoxYaHf1cUmrOOE6L6VLYRwJzgdNfk2VY02wFUsVtPND61EikC6rWICDLL1XsLAlpYsrXWLlcrEjglN5A0kRGoo0VU1bavR+U5RX/ADDaqieSTFF7BNxC+cE5wNs2EjYnNlyGWtZGV3mBrDTL+k1RWRdhfv1/7ux1VC8gkWvpUSCppul/SuamJ0l1SoUM1sVbQL5LlNepDIqBTLVIBdKkzKgpRaBfyxKw0K/qq8KaVC9qoqa/KH0S3MKXAq9WlI27cbn7Y1ithRLOCprP7C/iURztSe2Ivb/WGjj8v2RqpmF+ZcUmrOOE6L6e313I7fVqtj7aqGpru2QVinbrH6MkwsixOuQq6DDLMJ5QWERS8cVfn/IQNZAinmMTnAyhiBNf+gRWOIWSq1+MtfsCa7tkFR6PlyRnYIJBH1UcFuMLRaoRwJYQucRW8cN/EJjiQak7flddNfk2VY02wFwyVvJrWHPbSCiyxAw2BZjdqS4ZGtSoBj8U8W7p17Pu5KpBH1UjE7yi4Q9Fd61AsUj5ccVXELyC+8Ye3HqDxW8jN/EWIIIGJYMOpBCVMjFtemQJSo4wIzGkh8XVcmXNN0v6j6AyRM7BCqVKlOJcQOsqR0XUNpkAUXaXUv1pvDJe2DaVfKAcWvyh9Y3QDt29yTqnr3y+htYQQYk4rsxRopClMcE5wyixBDPRmT2E6FP6qprH21UNTXdsgrFO3WP0FtlIfuyr4+Lv3lBtYSo/ILzZH6u8RWmoB1ebI/RZcJb+7ELx+qv6MRspM9p9gTXdsgrEKm/hZza/GbqfGImwvwDLsaIAZTX5NlWNNsBcMlbya1hz20grKhVxItYOyBbdzIFwVvpbF8kpYF8FM1eR8Xkweq8qrqvKq6ryqpBIC5GXzpuKSbiSiw9TTdL+sOidwrEvjNNqveAntKyXtg2lXygHFr8ofWKQ72j+oq9ZWLuW9DGrFaq5j8or6DBBDRDwzC+w1iE9qNqx9tVDU13bIKxTt1j9BYYhlvWE6YSLe2koQSJm+z8vKa8KVedQAq8vKaLEiaf3Y2mElXvpFEEED9p9gTXdsgrFJl7x/ULfjKyrioH5VqU+jUr6a/JsqxptgLhkreTWsOe2kFZc+CXVCybhypAX9Uh9ZHmHBRjVU3VLzbdH1ldH1ldH1ldH1lIMfCx1uA6Emm6X9Ym2/bjK9pP+AnswKyXtg2lXygHFr8ofWNNsBcMqD30Sv8dsREfhKdC/S1JuU1PMvj7aqGpru2QVinbrH6J9NSRCtUeU0EWapJsUHCpVeRKuav8AyEDWQJX5cE5MMkso0m5JVQCbkt7+Dt/sCa7tkFY/llo22vcv3nrA+GSZUOT3IQosq8YegBcGvybKsabYC4ZK3k1rDntpBUtU+MR5gJwhUqFkSq3fxKyoII91D0raqmwtyhJSq8HenhVi2V2t2GqNl8CyxAxOcMlU1LbuOaV4/kD+RiHeLTTdL+sTbftxle0n/AT2YFZL2wbSr5QDi1+UPrGm2AuGVlXNiAOA482LjbQBuKpbCOBOcD4ZAlYihVyYlY+2qhqa7tkFYp26x+hr8ofxw98wyr+QgayVujXxhW7Y/wDYM13bIK5U7lPEqQTWQRzVfQD1gKptkiQN9FhaFDLNM5YOExS8cEtwa/JsqxptgLhkreTWsOe2kHDIMJt3apEoFMLCM5kNVlVsFfuN6v3t+Qsgmz2RXsITH48zkhdgwkEfFjqrlBJ9FryEXmxPUhE0nyk3E0csaTmDv7+WfzWQSPVbQcgQGSMywoilUIoFAEEmm6X9Ym2/bjK9pP8AgJ7MCsl7YNpV8oBxa/KH1jTbAXAsQQ0S4ZkrihcdLpDIW8eJt2ikbMHd3cy1yu1Nv+k/qTg3hj7aqGpru2QVinbrH6J/Hy1LO7S/DG0fIUrNZpH8hA1laPlGd8jF4YsjpBRlpCV9gP8AG2pu0ObWisWFjytipOa4qVG95ijpU+oTEJum97tI/FFUcv3icC8Vc4UaXUfVeW1XhHCQY1vImxziopE/J4jDi/gKFr3l2Jw+40ey6VPqU4dEtfvbKlIqgS4gnCQxRTJPeEYicaNV9YPSp9SjDw1r/ibCKhE4lxBKbY18YZnNaikf8uKri8WwnjClgnro/wAJCq8yKvCKExVyZQRfEvFVzSjS6j8f8uKbqOJYghgnJmNMVqy7WLUdKn1CYhN03vdpH4oqjl+8QjEWont9RGmPKvCFK9RT/G2pu0ObWisf8uC6hPoLEEMEsGYVimPl/mGpx9H09ub+hrjSPtvWWVY1QB3vqK/+oLTJDhS1PEt1hcV1hcV1hcUVkZwKjWs7dYXFKS+cUry+E1kBccVc2H1hcURkluMsQE26wuK6wuK6wuK6wuKkGSW6doaqFj+SXDdoCpv4sX/mCF3MDXl/syDKqsTTyycvKUnNv/tFypIg7+pQT9VIr3D+4n6womQPb2DjDQ3tOUC8gSyvIEspwgZhxdAKX4EZUf2/HuGSxebj6/lPAjKaqivBInavAjK8gSyvIEsryBLKmi0omUMaiqssaRIb3/ZyVNCjSNUeGGEKNJsMKLiuRGX9S2xvIFGixXCAyq0iF5Mv+2KyoKGUYLUfaCtVYDUb7IbF/qzComX/ANgX345BL77rrVzdKPiF3Cb/ABS+ubosz9KQd/N/RITP+wMO6PGd7Zf+y/aalSA5torH8UEUKucL4ZTi44ers5CHHWd1D0E7g2beEKmDihMwX5q3NtcwX7+5OFmEvUV+rqWojgTmxJDIVUbE5wsvLpvf3BjZfb9/qY/N1Uj/ACElU/LjrXUovDZleV3OtebSryiKvtSvKesowQM0svkw+cM6wl/4jOaFqYstkVK8p80ToGbtcwX7+5PCZWXIxWBZdSDJRidocpow3UWWcVSHJZaZUCptIMgmKBEBdRWf3kbSyoyUysOOrNJNRbIxsgfgKfsV+/kAcgfii+bJFXmuUV5rlFGvn3ldCTbzZIqj/cXH4+YXWSiixEC8sPzZIqaPH4quLd3myRV5rlFea5RXmuUVM370WQNAxotIXZj9AGV+xlYm4sfBDt9GTNqMOAntKm+0n/BVjmMiidxs/igscZhaQ8VtdVmpynVNWpDeQGfix/CVhanxVzNYUpspPbKVDUlOyCai5UV2KHWuhcetdSmUg3rJLK58o7UXhIZTczH4JN06vW2aALdGWNqL6Vqim5wSsIbFEfFFvcxAgVx4XlVNNcaKnDQ9uW1FuA0PFqMY+UuEITcyeoBNEM0DBo2N1DZcdbK7W5bZcLbEarVc09xf7Ele6JBUWTXkDgJNXSEeukI9TaPeXVCNTwie30HDMHwC/g923EOHSEeukI9dIR6n+7XVQvdKD9nMBP4ikQlD/wBbs/oyVKewbF6FQMWVeMPQAuE32k/4CezArMBP4ikQlYs3Tanmm/YtGemsbGd8YCvUsK5OPSDupmsu1ipyrSJ2+sQnsidPqW7WslR+yrwAkXW0LMDCV68UKrmNTm1ZW26uqAbtS/TIdwPKxntRfRYnOB8mYxD1hmmhkGGFGE82Xj5XdRFAL3+xJXuiQVjXeSrjmK3eJHy7VE/WRSP99ZfK71YAnB38VEeAntOM/wB2uqhe6UH7OYvn19D/ANbs6kG35DQeSZYJpuNqbTWQONNxTBhCjSbDCwGLXjwvNl1N9pP+AuTJWGJcTSYW0kDDUUVj+KeXBOcMn8JJ5q8hVIJQ1juu/JvZrIJJ2OkMqCQwo4wFw2qbKfB3x41sbrOdkOgvVP1Vm8VOvqrH6rwhABesrbdXVAN2peGUyCxkOnQHj4kvzSvFEqQ7geVjPai/hlVTcWQXaWUrNTRmCDb7Fle6JBWNd5KuM/VaW6E0QaorPzY1a4uonLyvVf0cgfspIZYs1YqKbHBAh5KDuoLj4Nq6qvq6uvq6uvqyBuljSdprUtAGWjrC4rrC4pSXzileX9WXfngaH/rdnUg2/IeCHG71t3lFR6JqY37PhN9pP+HhKkz3gilSH7TgWpUme7EjykL2fAsMQy3rBBBA/ZV4Qo4FiCGe9EUiBe0osQQz0ZgilSH7SvClJnvOU5P2dcoIX7wQMQO3o/sV/AZQa9PKGhcLkKqQrjTeMqxoI29YoMhEoE19xXhTOleP5Q113/DFYUqjwvffJUVfyNuvLU9NZlXTWZV01mVdNZlUrhEpcP2JYnTWZV01mVdNZlUfEKDVIBC/pyTH2jcwE1SsgMoMJtoosTnBGAZimJx5P7T6CxBDBOTM8kRP/wALz//EAFsQAAECAwIHBwsPCQYGAwAAAAECEQAEBSExAxASQVFVkRQiYXGBocEGICRSkpOVsbKz0RMVJTAyNEJEYHK10tPh8DVFVnWCosLU40BTYmXD1SNDY4Ww8RYzkP/aAAgBAQAJPwD/AM9FTqS0lhCixJNoCTyliC0SSZN6qimOm4ZSQoi0C1BOSrQoNmt9pkBPbhVkhRLB7L7ywcEmJASO4Bmtv5OQjg/s/Z5igp7MUAbXJtNqNNxJ4GPt1OpLSWEKLEk2gJPKWILRIpk2q43yCSk2OWykg32WgbOs7Ak3gVeo2Z1JQNqiByPZE8ZCbJYSFUBZxm0EjrJ5VQSl3VSwcgHQVGwHleAZADPVGKX0ZQcOGzR+Pxe/P8gdbdCo1ojyR7V2tE+hpePxYP7P26PKjWOC84j27W3QqNb+jrC0jTzkoCRapTOSdAA5y2NRVNU9RyVEMSnM/C14DWvYBH6IH6ehQAnU5VQ4S4ASON/Hjfcc+4knFyt9yFwnTp+QOtuhUa0R5IifMko3AAk8g6In6vsif8KenrK/SNsVDd8lFepJmwQ6mLB9JuBOa2Jwz8qtYKMJaOApHjs8TRUDIOQBpLj05on6RPzmZ7rMX38UT+7/ANVxP1fZE+xzuPH9462f3f8AquPXbujE+Z4iwhQY8Re0Y69STNgh1MWD6TcCc1sVDd0ns5C4v57on3OZhHrt3RifIIsILg4qhuGT28gYX898T9Mn53LTagb9gbTg/wDGLSlrjGscF5xEV+kbPvjs+TeK/SNsVDsLNUeGJxeE+YlS/JeJ8zqheCCDyjoxT5kSWYDoifq+yJ/wp6cVfpG2Oz5N41t0KjW/o6zWOF84vHqw+VH6IH6ejV+C8jDY9bdCfkDrboVDyk3P1FGGVUEFl+pMAEuQQkhgHDsm2Mqdmjyu3cg37OKOp+rc31Yk1yQs93d5Soyp2TuVIr9wo8DB9Li3ktf3li1lVvLMduvyokKk4qiwXQsrcqJDrySFK7QgskWEwkpUbnLxIqnCNAfpBiRWQ5OSqxnZjYY7PnZ9twSDFhazlnOS59AJicylFQCZQKUEgC1khmU/D0RI1CeOlKVL5ykjniiVTvS/RDoPMYefpNxRk74aLGtz/i0fj7rIujKEqCCmQFgHDpBzi5tDxJrnRb7i7ykxQqon9hXjQjEokEPIT5DKQRmOYi1woNZYwa2NZYaAZGbXhCpc+hQymKnIDgsdBILQFTk2ouQRaeG1nu+6KBUu8xlyuHQeFBQ+1hAJq0oCrBLIYLQDfxi5SbweQkmeHrqsOBa5SQAHawksbc5iTUnlP8JxSFR71hPqRqpfjjWOF84uFq3JIlRTLB2yybVnS9vzSYp0+uTe2bODKkNptAfum4YcTk8BuC0l6WQMtfAVEPZYwD3QoBh2fPh1FZuCR4yXssstjCFcUSqK+anCDykIiRXKfOTk/wASoyp2TuVIr9wo8DB9Li3kte9RYckaV+ONbdCo1v6OsQFBYG7pIPlYNQuVmygblpN9jFwxiSM7Nkneh1E8jpG0w5nZ4AT/AAC1gNA0Dn0/ogfp6A9YkbwLMoO5Sdm0AtZCShQtyXccmJBTN/m+nm1Sj8JR0E8HyB1t0KgWku55hEiVFRc1ElyTwk2nFT93SezlDG/nvh1UefL08klRNxtJc8rvp4Pes9vV8CgGG0Nsxayq3lmO3X5WLtaJ9DS8fiwR7ykIc4WeWtStGYADiYPywSZUkmRkDaVKJdyS+n/2TH4/94pC0FxUREoudwgWMiZSg+plJvUVFWSm173VE+J53LB2GgByTtc6TfB7DkFBCWzm9XMQnjMOmjyBeoEEpIvNhDHld9HDT9wSWJpGdBfd5ztax0jNymN7NyawhXG6XI5CL7Y9+UG4mx0uWfYzDhjWWGgEmxU2p2yRlHKbS5T4zFPxHs2UUlNRDveWGw9PCT8CooKuIqCfGrF26PKjWOC84jHrHC+cXB7DkWWsaVG5+IYsrdc8DTpNQHucGm1a2DuQLtJYZ7QVzEyrISl2yyrfEE6Czx2dWXJAzJz2XkAbTi/HisgHcZLzsgBbSVkAJSf8CmzBwogjgjSvxxrboVGt/R1lQpEh+tNvpg9SQOkEiJ/qSkTwC08giv0nw5FcpgkR1K+pGpGsKyRhPX4nIKiABhGS+QbWcm54r9J8ORUOpGf5iIqHUlJqNuck+MmKhSJ/9V8p9HyB1t0Kj47U8HShwAoSva6jp6z4h7KWbMXx+NZVbyzHbr8rF2tE+hpePxYIs3dVypm7QFR5kmPj1T9Tz3ZWX09d+b6RiNPMsXJHqaVknOXGEBf9m+DTO9j7WDTO9j7WDTO9j7WH3W9pi6fpq0crJUB441lhozWY9VI8eLtRHbo8qNY4LziMescL5xcXztYye5DYviFKwaduUr+CLqfgyrulKB8kdZfPwXVLqySefpjSvxxrboVGt/R1lP3fA6kpIlrEigkk8Qin0if8AR1P0rwIqJCkiR/+JhWTazivEORpAN/DeBHU/SvAiop9Ip/gDggdSU6Q9ihQQQeIxT6RIcOz5A626FRfJVjK7oP1lpVSQBykDFqgxrKreWY7dflYu1on0NLx+LBGs8L5tcf8up4E87fx9dqjhvxT9Veeu3iCNhSRzRP1LvWC+pE/Uu9YL6kT9S71gvqRP1LvWC+pFRcyNqic5Mayw0a2x6oOLTHbo8qNY4LziMescL5xcduvysV85TcEsaHGWeiPh4BC+dSf4et/5lQWpuJa25kxpX441t0KjW/o6wingECfnQWVhCTcmwsBaVH9kWlxE6qTnEPahwQ9rEsoX3WR7+kPyhoL3G28EaM0fogfp6C1YnryLckOxUdu0gPbGEVM4dZGUpe+KmuBCGcDQMRJnG7AqBBBBc708I0i/wCQOtuhUF5CdLTz3te/T1lgwa0mfW1mWGISOG4kDNxiAcgrebJzIBOV4w/C+LWVW8sx26/KxdrRPoaXj8WCLZ38382IEVqSYzzgjKBNhFziy/gzkWY5PBz1HCgndhJ9UUFB8pIAYpFx3z3lrInzPSYJBBsINoIIN1t4zQDkBbyhGdBIyfEeVoL5RJkOAm1QPE+zH7yicXJSciAKekb1Q0kApNvARCsqSkACaiQ2So3pN4LWEm45tEayw0a2x6oOLTHbo8qNY4LziMescL5xcduvysSXMikif4CTYRxNzmCxSdtrKHGCxEe8sbisz9pLOwudtFum02YtK/HGtuhUa39HWaxwvnF49WHyo/RA/T0avwXkYbHrboT8gdbdCoQrcWX637rYs7aHyvc2ROvKA2yM/v0HiDOL73Av3ovihp8NL+zhYp8o9uCprpLcBJbyYSZyaU7Nvrr2Kjwx+WZ6yffMHuDmwX3NaS7Pi1lVvLMduvysXa0T6Gl4/FgxAMfyhIm9JcORpBF4I0NaBCjJzSXZt7fewUOCJFE9oKVClBuPB5Yig5HAqs4QbN5ChKSYPvCnoKcHygKJVwjaCIBJvL+iLSS9RNp2nPGUatIkCTSC2WgEKKOYF9IBh5WZlTxLQtO11F+IjgiTwdaSbhhCoKPEAlRighHzqzhObJQrgidaUJskZDeIHGGc3XuRdvTfAIDvOThcpSlRJz2/WNpsZy8nI2klySTeXOk3nTfnjWWGjW2PVBxaY7dHlRrHBecRj1jhfOLjt1+Vi95z+jxM98Za6StfYE/eFA25t9lZTmwMzEF4nFAlRypXfZKzxNkvxHTY91BC/m1nCc+UhPDEiKfxb5tnpGeMqdnJ3lWST+yARy8pxaV+ONbdCo1v6OsT2JUFZSCNLMQeAgchxpKZqoKOSklyE5n4WvIe17SI/RA/T0B9whp8uRkkkEKHF6RffiB3JTRkyhNxwluUwFwFw5c3yBqNk6s4QWD3TAP+6PRoPrhKVC+wB9gioCSf4goORxE2jlPJE7Se+j6kToA0U4Jwx2rSx7kRIEnWJLnntLY68nsxRIscm0WL03ADgcRPieF/PsxT4kd3Kygkhw9l9xYsARE+J7d4zWXcvKTw4zuGbJyjOUy1BULLUXHY+gxU6XPfMWUmJ2k99H1IqBneClF/G+0/cKfuGTN95JN5JN5e0k8uM9m6xio0uc4J3CHBfvMvYxidpPfR9SKiZ5TvuGlE5XITaOOKfuGT28pc3892KvJInVlQLWlwAQT2u9FmnjET+7nNwuz3cAzYz7/ivjwKv7XFPiRF/PsivJ7DUCbGItNiNF5B4GGPqg9+EkewyrXIPbMLr0BKrHJcCJ8Tzm4BkhzcOAcGP3lFQEkntFOU8gvGe1PLE7Se+j6kToA0U4Jwx2rSx7kRIEnWJLnntLRXwQoufYfCjmThEpPKk2XuI7P3BFRsnVnCCwe6YB/3R6NE+J5y7BwBwDg0DrOz5N49dpE8KUqGxQMSBn5x7BVLges7A/VgSoH9kgg7IO7T/mLIGxLf/qFTqT2BU1yF1gSgrBPzd6d9cIptM2Kim0zYqKbTNiop9Jeo1WqKG9P5u9SyQz/9VIBuVZ2wam0zYqPj9I9dOW637jiInfZZVMc6EpKuG0syQBeQLIptM2Kin0kGdRhVmwk/8KtLwhDZnyLSfcuSxZjTaZsVFNpmxUU2mbFRTaZsVFPpQRJLKMoJcOACbHAJAVcLTFOpLTuECLUkWkKPIWBLRT7A/wBP+wun2obvmwQCXApOwl1cg5RCpCUH/TwDc6lnyYRTKgHzot/dJfYIaRnASNwVMuktexsBdxwh2PyiVSw9WrCvyzQx7nCrJYjDJdmcFITbYMhQKiaVNTOZODrdEVzLmAT3yKLhe6/qRRcL3X9SEYORmjVaxvajWqL6mmxAJDrSu9woqUQVEszpY0vw3QvtY1PRejEH9llDaCINL8N0L7WDSmNNqx/LVBu9fcPad/kuCQwOUogqKVAJWFGl+G6F9rFFwvdf1IouF7r+pFFwvdf1IVSwcq4Vqhtde4wqNhST/izQaUT66pAet0EuxAIJK1ENmNttmSmxvaSRJSLpmwA+WuxwLmCQbTpN98YNUzh1k5KUb4qa8grZwNJhdMp4fOu390BtphAqEo9uFprqLcAIbysVtZkQFC1zVgXYLa5QYP6P7PQB2IopTaLwQC+gWggnQ8ApVOkpUM4UCxB0EEbfkTUPzvrugZv+w7Rzaahb+uup/wD2HGwfTW6DSdoq4J2DpaoUfw5QP9ijVA6MVnsv/kFI+l4qFH8OUD/Yonw3rQbPXug2ez/6iezhe4O+eoUfw5QP9i6yfHH690AG79RN+LyIn/zu1lboG38hG32kOqSISkXEkkADaWzAvficVmfsAd2F7Pot0Wm3GVET63nEk2JwimSFNpJZ9uaPgKD/ALVnjGK3cGaKe8nnSCCrYHin2ZzUmwhHcq6REgNxvaKaoJOl3UQk7YG7pOBwU+nj8fdEgFfrAjC8yDFPpahpyCnYA7R2BO6u5TncPyWGJFM6Ei3KLE23JDEnmiRRJTskgLSpBcEF+BLMUkEEWaYkUzs5Pu5UWTc+g33AAEnRFPG45lWQu0XuQDwhw2kPxx8QihIHKo+SlX354kkJnKiQkySiQhLm870kDPc91kSeDk5Rb9mpKitPzgUgW8BMU+zOak2EI7lXSIkAr1vzputtz7M1oxSAaRUUX5w3NaLTAtnCTtb6sSQWmRUWUDaq28i92vDRID2epIqm2zl4Ty2RIJkpsjsAh7D2pcJY5/ETCkzk4pQFPkVEhKQSA5Z7E5yASwsGmSwcmmdX6mTg1FQdibmFnyFqVTCfXesuMo5RBWoGwPcA5a5LEAkxXan3z+pHVBV/C2E+0jqgq/hbCfaRUqnuoVWr7/KVk2jB5WSc5cqBSQw31lgiu1Pvn9SCC1IomKeVJk1ZW9SS9iVMbAo2e6OkBrortT75/UipVMCcpGEbfnfAVvDLHqfbB0BiS5JQDeYrtT75/Ujqgq/hbCfaR1QVfwthPtI6oKv4Wwn2kVBe4wElGSzW0XBpWC4PwCtrL2ctfUMIZX11Qbclso+6ex20XX+0/HqqpfEEpJJ5ucdb/kvTi7URqgdOKVws/OaMtTbAWEPuKdRlJtdmUkFuQnZHvSeyp8jOFYNgRyAgaXEF0yShTZNIvCEKKQH0nf59ESBnhOkpkEOclxZaOOJBUhMyCklSASAoAjiDsGBMOMLIrQpOjOCDxuW5IBKUkU1hna0WQHTOexp0jKKRzqYR+bQKc+nJLEbDiBM9W8qlqGgI914r9MKyVTq0oBzhwo2dzGtVwnKmp5bJBuzlOwJJ5Y9dZ6cOZICRyBLCzlPCYUVKqF6lErJ4z9/3RUKsRPKKhvUvlWWOQSQwG9fJvsvj4pUVo2LV9URP1QTk8ohkXWG4EuVCy8kkxdQCNlxHKLPwIvkZ5GGObQk7AHgHsCkljw1UBRHJYTHxPsFtCsMApXiTsHyF1vVvOYSJ4SQnVlAWXZ/E5Z7XsBjqiPgfCfXjqiPgfCfXieE81TrB3tgDLwSHbTpOkvnxapoeLWi/JOLVlW+n8Li6oj4Hwn146oj4Hwn146oj4Hwn14/vU/6caywPtPwEZf7yRx3qjtusChJyTmccWLqgy04RQOhJBQdJyrd6RAOQVvNk5kAnK8YfhfFqgdOLTHwEZf7yRx3qjV8x/oxmq1VTyHDAdJj4itZ2kmBaaRyYvf6KUlSXucEEQHVLqygObpi2cn6hsWpf8L8rQSZRdLTSwolzl0o5KnJ0hTvpTB7FlFEpSLb1OpR4gbhH5vD91bzhvRGt/TH96r/U63W1a85hI/zroj4/BOXJqyABpdPjyhDlRPFFpn/ZR+QDxfIXW9W85hI7Wt/Q0xj0HmGLNSLsWap4Xmwaji1Iv6ZwuLtRj/vU/wCnGssD7TqoeIx20anrXTFQM8k2eySQtjxFSW5S8Ty9xPZIvvBwXXvwjijBqmcOsnJSjfFTXkFbOBpMZQq08SJxJL5CCSoI5yX0knFqgdOKfUUvZlC1uTjha52enDf8IkFrBYBdsgNWJ64G3JDuE8+0ktbAE8FEGfkmdSDpvDpIsUOIi0McI6Cq2VWDkku73E+MwtKZIEESMiClFhdyB6pY8SRlaLKELJWkg1Mup0JdRe8OQALA2KyTnCajIkXFGEcjl92DwFMAiWpafXBf7B3uwO/FDmbkCKrIgWHJuUB84EjF79n/AGUAN7CwDkAaNb+mP71X+pi95qq5E9wqyTkj9pbCCWn1BM6DY43yiRwA5PdHFratecwkf510Yg8pUTlJa90v406SLRBIM6sB89uU7dzz/IbW9W85hI7Wt/Q0xjczVPUmqSQBYlPwgNBIcC5icQ3ZJPcbDsNrD8PFCqSfn4XB9BJeFFsoCTk0gqCEk3JAAJ489wF5Lqmp1aggGxrWflDkxfJ0lKRx5QxSVJ70PrxI0zvKvTEjTO8q9MdsnphOUqSWlYGcsFCzuoptM2Kim0zYqPj9I9dOW637j12rMD5Rjto1PWunEBR5N/8A7cKC/ElAU6R84k3uBHv3WOPVA6cVPpFQin0iQx0+kT8SFIx0/d8ffx4qdSNn3Yvv44p9IxfjxWRT6RIfqvlHoxU+kR95x0/cHyGpqjKztUWnBkKsdRe0XsHOmKcdyuXL33NY3WASM2WcWClNoSpiU2Zxyg3RQasUaZDBmpDZgVL8poptS8Er9ESJlAPh1AnAg8ikKO0CBu6c+PzwsSkWnJTnAD2Bzndy8SK55JpSXyGdgTc7B2chzYeSKUnw3Rv5iKUnw3Rv5iKUnw3Rv5iKUnw3Rv5iKcrcxVYQpkgbHckRSk+G6N/MRSk+G6N/MRSk+G6N/MQOzJCk0Vg7sDcOi3rpFc6Qg0ydKO3DFLuQQL7RaCxANsU4yRFuVUf+Em7QUknlAj4+Yp//AHHh2db7yigUjb93/gvP/8QAFBEBAAAAAAAAAAAAAAAAAAAAsP/aAAgBAgEBPwAQD//EABQRAQAAAAAAAAAAAAAAAAAAALD/2gAIAQMBAT8AEA//2Q==',
            ),
            this.attachEvents();
        }
        attachEvents() {
          this.fuel.events.on(ne.FloatingOn, () => {
            this.fuel.log('Player: Switching to floating mode.'),
              this.setFloatingSizes();
          }),
            this.fuel.events.on(ne.FloatingOff, () => {
              this.fuel.log('Player: Switching off from floating mode.'),
                this.setPlayerSizes();
            });
        }
        setFloatingSizes() {
          const { floatingWidth: e, floatingHeight: t } = this.settings;
          e && t
            ? (this.fuel.player.width(e), this.fuel.player.height(t))
            : e && !t
              ? (this.fuel.player.width(e),
                this.fuel.player.height(0.5625 * e),
                this.fuel.player.aspectRatio(this.aspectRatio))
              : !e && t
                ? (this.fuel.player.width(1.777 * t),
                  this.fuel.player.height(t),
                  this.fuel.player.aspectRatio(this.aspectRatio))
                : (this.fuel.player.width(this.defaultFloatingWidth),
                  this.fuel.player.height(this.defaultFloatingHeight)),
            this.fuel.player.fluid(!1);
        }
        setPlayerSizes() {
          this.fuel.player.width(this.defaultWidth),
            this.fuel.player.height(this.defaultHeight),
            this.fuel.player.fluid(this.fluid);
        }
        resolveSize(e) {
          const { width: t, height: i } = e;
          return t && i
            ? { width: t, height: i }
            : t
              ? { width: t }
              : i
                ? { height: i }
                : { fluid: !0 };
        }
      }
      class Oe {
        constructor(e) {
          (this.fuel = e),
            (this.isSeeking = !1),
            (this.previousTime = 0),
            (this.currentTime = 0),
            (this.progressBar = this.fuel.getComponent(
              'ControlBar.ProgressControl',
            )),
            (this.seekBar = this.fuel.getComponent(
              'ControlBar.ProgressControl.SeekBar',
            )),
            this.disableExperimentalFastSeekAPI(),
            this.attachEvents();
        }
        attachEvents() {
          var e, t, i, n;
          this.fuel.events.on(ne.NewStream, () => {
            this.handlePlayPause();
          }),
            this.fuel.player.on('timeupdate', () => {
              this.updateTimes();
            }),
            this.fuel.player.on('seeking', () => {
              this.isSeeking = !0;
            }),
            null === (e = this.seekBar) ||
              void 0 === e ||
              e.on('mouseup', () => {
                this.handleSeek();
              }),
            null === (t = this.seekBar) ||
              void 0 === t ||
              t.on('keyup', () => {
                this.handleSeek();
              }),
            null === (i = this.progressBar) ||
              void 0 === i ||
              i.on('mouseup', () => {
                this.handleSeek();
              }),
            null === (n = this.progressBar) ||
              void 0 === n ||
              n.on('keyup', () => {
                this.handleSeek();
              }),
            this.fuel.events.on(ne.PlayerSeek, () => {
              this.videoWasPlaying && this.fuel.player.play();
            });
        }
        disableExperimentalFastSeekAPI() {
          const e = this.fuel.player.tech(!0).el();
          e.fastSeek = (t) => (e.currentTime = t);
        }
        handlePlayPause() {
          this.fuel.player.on('play', () => {
            this.videoWasPlaying || this.fuel.events.emit(ne.PlayerPlay);
          }),
            this.fuel.player.on('pause', () => {
              this.fuel.player.scrubbing() ||
                this.fuel.events.emit(ne.PlayerPause),
                this.seekBar &&
                  (this.videoWasPlaying = this.fuel.player.scrubbing());
            });
        }
        handleSeek() {
          if (!this.isSeeking) return;
          const e = this.previousTime,
            t = this.fuel.time.absoluteTime();
          this.fuel.events.emit(ne.PlayerSeek, e, t), this.resetSeek();
        }
        resetSeek() {
          const e = this.fuel.time.absoluteTime();
          (this.previousTime = e),
            (this.currentTime = e),
            (this.isSeeking = !1);
        }
        updateTimes() {
          if (this.isSeeking) return;
          const e = this.fuel.time.absoluteTime();
          this.currentTime !== e &&
            ((this.previousTime = this.currentTime), (this.currentTime = e));
        }
      }
      class Me {
        constructor(e) {
          (this.fuel = e),
            (this.timeTooltip = this.fuel.getComponent(
              'ControlBar.ProgressControl.SeekBar.PlayProgressBar.TimeTooltip',
            )),
            (this.hoverTimeTooltip = this.fuel.getComponent(
              'ControlBar.ProgressControl.SeekBar.MouseTimeDisplay',
            )),
            (this.progressControl = this.fuel.getComponent(
              'ControlBar.ProgressControl',
            )),
            (this.seekBar = this.fuel.getComponent(
              'ControlBar.ProgressControl.SeekBar',
            )),
            this.attachEvents();
        }
        attachEvents() {
          this.fuel.events.on(ne.NewStream, (e) => {
            this.handleSectionChange(e);
          }),
            this.fuel.events.on(ne.NewSection, (e) => {
              this.handleSectionChange(e);
            }),
            this.fuel.events.on(ne.EnableProgressBar, () => {
              this.enableProgressBar();
            }),
            this.fuel.events.on(ne.DisableProgressBar, () => {
              this.disableProgressBar();
            });
        }
        handleSectionChange(e) {
          var t, i, n, r;
          const s = ['LiveAd', 'LODAd'].includes(e.contentType),
            a = 'restricted' === e.type;
          s || a
            ? (this.disableProgressBar(),
              null === (t = this.timeTooltip) || void 0 === t || t.hide(),
              null === (i = this.hoverTimeTooltip) || void 0 === i || i.hide())
            : (this.enableProgressBar(),
              null === (n = this.timeTooltip) || void 0 === n || n.show(),
              null === (r = this.hoverTimeTooltip) || void 0 === r || r.show());
        }
        disableProgressBar() {
          var e, t, i, n, r, s, a, o, l, u, d;
          null === (e = this.progressControl) || void 0 === e || e.disable(),
            null === (t = this.seekBar) ||
              void 0 === t ||
              t.off(
                'mousedown',
                null === (i = this.seekBar) || void 0 === i
                  ? void 0
                  : i.handleMouseDown,
              ),
            null === (n = this.seekBar) ||
              void 0 === n ||
              n.off(
                'mouseup',
                null === (r = this.seekBar) || void 0 === r
                  ? void 0
                  : r.handleMouseUp,
              ),
            null === (s = this.seekBar) ||
              void 0 === s ||
              s.off(
                'touchstart',
                null === (a = this.seekBar) || void 0 === a
                  ? void 0
                  : a.touchstart,
              ),
            null === (o = this.seekBar) ||
              void 0 === o ||
              o.off(
                'touchend',
                null === (l = this.seekBar) || void 0 === l
                  ? void 0
                  : l.touchend,
              ),
            null === (u = this.seekBar) ||
              void 0 === u ||
              u.off(
                'click',
                null === (d = this.seekBar) || void 0 === d ? void 0 : d.click,
              );
        }
        enableProgressBar() {
          var e, t, i, n, r, s, a, o, l, u, d;
          null === (e = this.progressControl) || void 0 === e || e.enable(),
            null === (t = this.seekBar) ||
              void 0 === t ||
              t.on(
                'mousedown',
                null === (i = this.seekBar) || void 0 === i
                  ? void 0
                  : i.handleMouseDown,
              ),
            null === (n = this.seekBar) ||
              void 0 === n ||
              n.on(
                'mouseup',
                null === (r = this.seekBar) || void 0 === r
                  ? void 0
                  : r.handleMouseUp,
              ),
            null === (s = this.seekBar) ||
              void 0 === s ||
              s.on(
                'touchstart',
                null === (a = this.seekBar) || void 0 === a
                  ? void 0
                  : a.handleMouseDown,
              ),
            null === (o = this.seekBar) ||
              void 0 === o ||
              o.on(
                'touchend',
                null === (l = this.seekBar) || void 0 === l
                  ? void 0
                  : l.handleMouseUp,
              ),
            null === (u = this.seekBar) ||
              void 0 === u ||
              u.on(
                'click',
                null === (d = this.seekBar) || void 0 === d
                  ? void 0
                  : d.handleClick,
              );
        }
      }
      class Ne {
        constructor(e, t) {
          if (
            ((this.fuel = e),
            (this.settings = t),
            (this.floatingMargin = '2em'),
            (this.floatingCSSClass = 'bc-fuel-floating'),
            (this.floatingCutoffPercentage = 25),
            (this.player = this.fuel.player.el()),
            (this.playerWrapper = this.player.closest(c)),
            !t.floating)
          )
            return this;
          this.createCloseButton(), this.detectPlayerPosition();
        }
        checkIfPlayerIsInViewport(e) {
          const t = e.getBoundingClientRect();
          return t.bottom >= t.height * (this.floatingCutoffPercentage / 100);
        }
        detectPlayerPosition() {
          let e = !0;
          window.onscroll = () => {
            const t = this.checkIfPlayerIsInViewport(this.playerWrapper);
            e !== t &&
              (!t && this.isPlaying() && this.startFloating(),
              t && this.stopFloating(),
              (e = t));
          };
        }
        isPlaying() {
          var e;
          const t = !this.fuel.player.paused(),
            i =
              (null === (e = this.fuel.ads) || void 0 === e
                ? void 0
                : e.running) || this.fuel.player.ads.isInAdMode();
          return Boolean(t || i);
        }
        startFloating() {
          var e;
          this.setWrapperSize(
            this.fuel.player.currentWidth(),
            this.fuel.player.currentHeight(),
          ),
            this.playerWrapper.classList.add(this.floatingCSSClass),
            this.fuel.events.emit(ne.FloatingOn),
            this.adjustFloatingPlayerSize(),
            this.adjustMargins(),
            null === (e = this.closeButton) || void 0 === e || e.show();
        }
        stopFloating() {
          var e;
          this.resetWrapperSize(),
            this.fuel.events.emit(ne.FloatingOff),
            this.playerWrapper.classList.remove(this.floatingCSSClass),
            this.clearMargins(),
            null === (e = this.closeButton) || void 0 === e || e.hide();
        }
        setWrapperSize(e, t) {
          (this.playerWrapper.style.width = e ? `${e}px` : 'auto'),
            (this.playerWrapper.style.height = t ? `${t}px` : 'auto');
        }
        resetWrapperSize() {
          this.setWrapperSize();
        }
        handleFloatingPlayerClose() {
          this.stopFloating(), this.fuel.player.pause();
        }
        createCloseButton() {
          (this.closeButton = new Ae(this.fuel.player, {
            clickHandler: () => this.handleFloatingPlayerClose(),
          })),
            this.closeButton.addClass('close-floating-button'),
            this.fuel.player.addChild(this.closeButton),
            this.closeButton.hide();
        }
        adjustFloatingPlayerSize() {
          const { floatingWidth: e, floatingHeight: t } = this.settings;
          e || t ? this.useSettingsSizes(e, t) : this.useResponsiveDefaults();
        }
        useSettingsSizes(e, t) {
          e && t
            ? this.fuel.player.dimensions(e, t)
            : e
              ? this.fuel.player.dimensions(e, e * (9 / 16))
              : t
                ? this.fuel.player.dimensions(t * (16 / 9), t)
                : this.fuel.player.dimensions(640, 360);
        }
        useResponsiveDefaults() {
          const e = window.innerWidth;
          e < 411
            ? this.fuel.player.dimensions(220, 123.75)
            : we(e, 411, 767)
              ? this.fuel.player.dimensions(360, 202.5)
              : we(e, 767, 1024)
                ? this.fuel.player.dimensions(460, 258.75)
                : this.fuel.player.dimensions(640, 360);
        }
        adjustMargins() {
          const e = this.settings.floatingCorner;
          if (e)
            switch (e) {
              case B.TopRight:
                (this.player.style.top = this.floatingMargin),
                  (this.player.style.right = this.floatingMargin);
                break;
              case B.TopLeft:
                (this.player.style.top = this.floatingMargin),
                  (this.player.style.left = this.floatingMargin);
                break;
              case B.BottomRight:
                (this.player.style.bottom = this.floatingMargin),
                  (this.player.style.right = this.floatingMargin);
                break;
              case B.BottomLeft:
                (this.player.style.bottom = this.floatingMargin),
                  (this.player.style.left = this.floatingMargin);
                break;
              default:
                this.fuel.log.warn(
                  `Invalid value for floatingCorner setting: ${this.settings.floatingCorner}`,
                );
            }
        }
        clearMargins() {
          (this.player.style.top = 'auto'),
            (this.player.style.bottom = 'auto'),
            (this.player.style.right = 'auto'),
            (this.player.style.left = 'auto');
        }
      }
      class Be {
        constructor(e) {
          (this.fuel = e),
            (this.baseClass = 'bc-fuel-m-c'),
            (this.impressionTime = 1e3),
            (this.clicked = !1),
            (this.area = new ve(this.fuel.player)),
            this.area.addClass(this.baseClass);
          const t = new ye(this.fuel.player, {
            clickHandler: () => this.handleClick(),
          });
          this.area.addChild(t),
            this.fuel.player.addChild(this.area),
            this.attachEvents();
        }
        attachEvents() {
          this.fuel.events.once(ne.NewStream, () => {
            this.fuel.player.on('useractive', () => {
              this.area.addClass('active');
            }),
              this.fuel.player.on('userinactive', () => {
                this.area.removeClass('active');
              });
          });
        }
        handleClick() {
          this.fuel.player.paused()
            ? (this.fuel.player.play(), this.area.removeClass('active'))
            : this.fuel.player.pause();
        }
      }
      class Ue {
        constructor(e) {
          (this.fuel = e),
            (this.step = 5),
            (this.volumeStep = 0.1),
            (this.progressControl = this.fuel.getComponent(
              'ControlBar.ProgressControl',
            )),
            this.fuel.player.ready(() => this.enableHotkeys());
        }
        enableHotkeys() {
          this.fuel.player.hotkeys({
            volumeStep: this.volumeStep,
            seekStep: this.step,
            enableNumbers: !1,
            enableModifiersForNumbers: !1,
            playPauseKey: (e) => this.shouldPlayPause(e),
            forwardKey: (e) => this.shouldMoveForward(e),
            rewindKey: (e) => this.shouldRewind(e),
          }),
            this.fuel.log('Player: Hotkeys enabled.');
        }
        shouldPlayPause(e) {
          return this.isKey('K', e);
        }
        shouldMoveForward(e) {
          var t;
          return (
            !!(null === (t = this.progressControl) || void 0 === t
              ? void 0
              : t.enabled()) &&
            (this.isKey('ArrowRight', e) || this.isKey('L', e))
          );
        }
        shouldRewind(e) {
          var t;
          return (
            !!(null === (t = this.progressControl) || void 0 === t
              ? void 0
              : t.enabled()) &&
            (this.isKey('ArrowLeft', e) || this.isKey('J', e))
          );
        }
        isKey(e, t) {
          return t.key.toUpperCase() === e.toUpperCase();
        }
      }
      class Fe {
        constructor(e, t) {
          (this.fuel = e),
            new Re(e, t),
            new Oe(e),
            new Me(e),
            new Ne(e, t),
            t.useHotkeys && e.player.hotkeys && new Ue(e),
            e.isMobile && new Be(e);
        }
        onReady(e) {
          this.fuel.player.src(e),
            this.fuel.player
              .el()
              .dispatchEvent(new Event('ready', { bubbles: !0 })),
            this.fuel.log('Player source set. Ready to play.');
        }
      }
      var We = function (e, t, i, n) {
        return new (i || (i = Promise))(function (r, s) {
          function a(e) {
            try {
              l(n.next(e));
            } catch (e) {
              s(e);
            }
          }
          function o(e) {
            try {
              l(n.throw(e));
            } catch (e) {
              s(e);
            }
          }
          function l(e) {
            var t;
            e.done
              ? r(e.value)
              : ((t = e.value),
                t instanceof i
                  ? t
                  : new i(function (e) {
                      e(t);
                    })).then(a, o);
          }
          l((n = n.apply(e, t || [])).next());
        });
      };
      const Ve = e.default.getPlugin('plugin');
      var He = i(379),
        qe = i.n(He),
        ze = i(985),
        Ke = { insert: 'head', singleton: !1 };
      qe()(ze.Z, Ke);
      ze.Z.locals;
      var Xe = i(726),
        Qe = { insert: 'head', singleton: !1 };
      qe()(Xe.Z, Qe);
      Xe.Z.locals;
      var Ge = i(674),
        Ye = { insert: 'head', singleton: !1 };
      qe()(Ge.Z, Ye);
      Ge.Z.locals;
      e.default.registerPlugin('contrib-ads', n()),
        e.default.registerPlugin(
          'fuel',
          class extends Ve {
            constructor(e, t) {
              super(e),
                (this.VERSION = h),
                (this.adLabel = 'Advertisement'),
                (this.vastTimeout = 1500),
                (this.prerollTimeout = 1500),
                (this.numRedirects = 5),
                (this.isDebug = !1),
                (this.isMobile = !1),
                (this.isDebug = this.startDebug(t)),
                (this.events = new U.TinyEmitter()),
                (this.log = this.createLogger()),
                (this.isMobile = this.checkIfMobile()),
                this.log(`Initializing Fuel Player v${this.VERSION}`),
                (this.session = this.createSession()),
                (this.time = new me(this)),
                this.attachEvents(),
                this.initialize(t);
            }
            startDebug(e) {
              const t = se.isDebug(e);
              return t && this.player.addClass('bc-fuel-debug'), t;
            }
            createLogger() {
              const t = e.default.log.createLogger('FUEL');
              return t.level(this.isDebug ? 'all' : 'off'), t;
            }
            createSession() {
              const e = R();
              return this.log('Session:', e), e;
            }
            initialize(e) {
              var t;
              return We(this, void 0, void 0, function* () {
                try {
                  yield this.initializeIMA();
                  const i = yield new se(this, e).ready,
                    n = new Fe(this, i);
                  new fe(this, i),
                    new De(this, i),
                    (this.ads = new Le(this, i, this.session)),
                    yield this.ads.ready;
                  const r = new ae(
                    i,
                    this.session,
                    null === (t = this.ads.springServe) || void 0 === t
                      ? void 0
                      : t.id,
                  );
                  n.onReady(r);
                } catch (t) {
                  this.handleInitializationError(t.message, e);
                }
              });
            }
            handleInitializationError(e, t) {
              this.log.warn(e),
                this.log.warn('Passed settings:', t),
                this.closePlayer(e);
            }
            closePlayer(e) {
              const t = this.isDebug ? e : ge;
              this.player.createModal(t, { uncloseable: !0 });
            }
            attachEvents() {
              this.events.on(ne.PlayerError, (e) => this.closePlayer(e)),
                this.events.on(ne.StreamError, (e) => this.closePlayer(e));
            }
            getComponent(e) {
              return e
                .split('.')
                .reduce((e, t) => (e ? e.getChild(t) : void 0), this.player);
            }
            initializeIMA() {
              return We(this, void 0, void 0, function* () {
                try {
                  // const e = yield _();
                  // (this.ima = e),
                  //   this.player.ima({
                  //     sessionId: this.session,
                  //     adLabel: this.adLabel,
                  //     vastLoadTimeout: this.vastTimeout,
                  //     contribAdsSettings: {
                  //       timeout: this.vastTimeout,
                  //       prerollTimeout: this.prerollTimeout,
                  //       debug: this.isDebug,
                  //     },
                  //     autoPlayAdBreaks: !0,
                  //     preventLateAdStart: !0,
                  //     numRedirects: this.numRedirects,
                  //     debug: this.isDebug,
                  //   }),
                  this.log('Google IMA loaded.');
                } catch (e) {
                  this.log(
                    'IMA not available: Either ad-blocker is in use or loading IMA SDK timed out.',
                  );
                }
              });
            }
            checkIfMobile() {
              return window.navigator.maxTouchPoints > 1;
            }
          },
        ),
        e.default.use('application/x-mpegURL', function (e) {
          if (void 0 === e.fuel) return {};
          const t = e.fuel();
          return t.VERSION !== h
            ? {}
            : {
                duration: function () {
                  return t.time.sectionDuration();
                },
                currentTime: function (e) {
                  return t.time.convertToSectionTime(e);
                },
                setCurrentTime: function (e) {
                  return t.time.convertFromSectionTime(e);
                },
                buffered: function (e) {
                  return t.time.convertTimeRangesToSectionTime(e);
                },
                seekable: function (e) {
                  return t.time.convertTimeRangesToSectionTime(e);
                },
              };
        }),
        customElements.get(c)
          ? console.warn('FUEL Player: Custom element already defined.')
          : customElements.define(c, T);
    })();
})();
